(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},DlQD:function(e,t,n){e.exports=function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function n(e,n){var s;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(s=function(e,n){if(e){if("string"==typeof e)return t(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){s&&(e=s);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(s=e[Symbol.iterator]()).next.bind(s)}var s=function(e,t){return function(e){function t(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:t,changeDefaults:function(t){e.exports.defaults=t}}}(t={exports:{}}),t.exports}(),i=/[&<>"']/,r=/[&<>"']/g,o=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c=function(e){return l[e]},u=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function h(e){return e.replace(u,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var d=/(^|[^\[])\^/g,p=/[^\w:]/g,f=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,m={},g=/^[^:]+:\/*[^/]*$/,y=/^([^:]+:)[\s\S]*$/,b=/^([^:]+:\/*[^/]*)[\s\S]*$/;function _(e,t,n){var s=e.length;if(0===s)return"";for(var i=0;i<s;){var r=e.charAt(s-i-1);if(r!==t||n){if(r===t||!n)break;i++}else i++}return e.substr(0,s-i)}var v=function(e,t){if(t){if(i.test(e))return e.replace(r,c)}else if(o.test(e))return e.replace(a,c);return e},w=h,k=function(e){for(var t,n,s=1;s<arguments.length;s++)for(n in t=arguments[s])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},S=s.defaults,x=_,C=function(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var s=!1,i=t;--i>=0&&"\\"===n[i];)s=!s;return s?"|":" |"})).split(/ \|/),s=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;s<n.length;s++)n[s]=n[s].trim().replace(/\\\|/g,"|");return n},E=v;function T(e,t,n){var s=t.href,i=t.title?E(t.title):null,r=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:s,title:i,text:r}:{type:"image",raw:n,href:s,title:i,text:E(r)}}var A=function(){function e(e){this.options=e||S}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}},t.code=function(e,t){var n=this.rules.block.code.exec(e);if(n){var s=t[t.length-1];if(s&&"paragraph"===s.type)return{raw:n[0],text:n[0].trimRight()};var i=n[0].replace(/^ {4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?i:x(i,"\n")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],s=function(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var s=n[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=s.length?e.slice(s.length):e})).join("\n")}(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:s}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[1].length,text:t[2]}},t.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var n={type:"table",header:C(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(n.header.length===n.align.length){var s,i=n.align.length;for(s=0;s<i;s++)n.align[s]=/^ *-+: *$/.test(n.align[s])?"right":/^ *:-+: *$/.test(n.align[s])?"center":/^ *:-+ *$/.test(n.align[s])?"left":null;for(i=n.cells.length,s=0;s<i;s++)n.cells[s]=C(n.cells[s],n.header.length);return n}}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:n}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){var n,s,i,r,o,a,l,c,u=t[0],h=t[2],d=h.length>1,p={type:"list",raw:u,ordered:d,start:d?+h.slice(0,-1):"",loose:!1,items:[]},f=t[0].match(this.rules.block.item),m=!1,g=f.length;i=this.rules.block.listItemStart.exec(f[0]);for(var y=0;y<g;y++){if(u=n=f[y],y!==g-1){if((r=this.rules.block.listItemStart.exec(f[y+1]))[1].length>i[0].length||r[1].length>3){f.splice(y,2,f[y]+"\n"+f[y+1]),y--,g--;continue}(!this.options.pedantic||this.options.smartLists?r[2][r[2].length-1]!==h[h.length-1]:d===(1===r[2].length))&&(o=f.slice(y+1).join("\n"),p.raw=p.raw.substring(0,p.raw.length-o.length),y=g-1),i=r}s=n.length,~(n=n.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(s-=n.length,n=n.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+s+"}","gm"),"")),a=m||/\n\n(?!\s*$)/.test(n),y!==g-1&&(m="\n"===n.charAt(n.length-1),a||(a=m)),a&&(p.loose=!0),c=void 0,(l=/^\[[ xX]\] /.test(n))&&(c=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,"")),p.items.push({type:"list_item",raw:u,task:l,checked:c,loose:a,text:n})}return p}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):E(t[0]):t[0]}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:C(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];var s,i=n.align.length;for(s=0;s<i;s++)n.align[s]=/^ *-+: *$/.test(n.align[s])?"right":/^ *:-+: *$/.test(n.align[s])?"center":/^ *:-+ *$/.test(n.align[s])?"left":null;for(i=n.cells.length,s=0;s<i;s++)n.cells[s]=C(n.cells[s].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},t.text=function(e,t){var n=this.rules.block.text.exec(e);if(n){var s=t[t.length-1];return s&&"text"===s.type?{raw:n[0],text:n[0]}:{type:"text",raw:n[0],text:n[0]}}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:E(t[1])}},t.tag=function(e,t,n){var s=this.rules.inline.tag.exec(e);if(s)return!t&&/^<a /i.test(s[0])?t=!0:t&&/^<\/a>/i.test(s[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(s[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(s[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:s[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):E(s[0]):s[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,s=0,i=0;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])s++;else if(e[i]===t[1]&&--s<0)return i;return-1}(t[2],"()");if(n>-1){var s=(0===t[0].indexOf("!")?5:4)+t[1].length+n;t[2]=t[2].substring(0,n),t[0]=t[0].substring(0,s).trim(),t[3]=""}var i=t[2],r="";if(this.options.pedantic){var o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o?(i=o[1],r=o[3]):r=""}else r=t[3]?t[3].slice(1,-1):"";return T(t,{href:(i=i.trim().replace(/^<([\s\S]*)>$/,"$1"))?i.replace(this.rules.inline._escapes,"$1"):i,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0])}},t.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var s=(n[2]||n[1]).replace(/\s+/g," ");if(!(s=t[s.toLowerCase()])||!s.href){var i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return T(n,s,n[0])}},t.strong=function(e,t,n){void 0===n&&(n="");var s=this.rules.inline.strong.start.exec(e);if(s&&(!s[1]||s[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){t=t.slice(-1*e.length);var i,r="**"===s[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;for(r.lastIndex=0;null!=(s=r.exec(t));)if(i=this.rules.inline.strong.middle.exec(t.slice(0,s.index+3)))return{type:"strong",raw:e.slice(0,i[0].length),text:e.slice(2,i[0].length-2)}}},t.em=function(e,t,n){void 0===n&&(n="");var s=this.rules.inline.em.start.exec(e);if(s&&(!s[1]||s[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){t=t.slice(-1*e.length);var i,r="*"===s[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;for(r.lastIndex=0;null!=(s=r.exec(t));)if(i=this.rules.inline.em.middle.exec(t.slice(0,s.index+2)))return{type:"em",raw:e.slice(0,i[0].length),text:e.slice(1,i[0].length-1)}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),s=/[^ ]/.test(n),i=n.startsWith(" ")&&n.endsWith(" ");return s&&i&&(n=n.substring(1,n.length-1)),n=E(n,!0),{type:"codespan",raw:t[0],text:n}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[1]}},t.autolink=function(e,t){var n,s,i=this.rules.inline.autolink.exec(e);if(i)return s="@"===i[2]?"mailto:"+(n=E(this.options.mangle?t(i[1]):i[1])):n=E(i[1]),{type:"link",raw:i[0],text:n,href:s,tokens:[{type:"text",raw:n,text:n}]}},t.url=function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var s,i;if("@"===n[2])i="mailto:"+(s=E(this.options.mangle?t(n[0]):n[0]));else{var r;do{r=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(r!==n[0]);s=E(n[0]),i="www."===n[1]?"http://"+s:s}return{type:"link",raw:n[0],text:s,href:i,tokens:[{type:"text",raw:s,text:s}]}}},t.inlineText=function(e,t,n){var s,i=this.rules.inline.text.exec(e);if(i)return s=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):E(i[0]):i[0]:E(this.options.smartypants?n(i[0]):i[0]),{type:"text",raw:i[0],text:s}},e}(),O={exec:function(){}},I=function(e,t){e=e.source||e,t=t||"";var n={replace:function(t,s){return s=(s=s.source||s).replace(d,"$1"),e=e.replace(t,s),n},getRegex:function(){return new RegExp(e,t)}};return n},P=k,R={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:O,table:O,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};R.def=I(R.def).replace("label",R._label).replace("title",R._title).getRegex(),R.bullet=/(?:[*+-]|\d{1,9}[.)])/,R.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,R.item=I(R.item,"gm").replace(/bull/g,R.bullet).getRegex(),R.listItemStart=I(/^( *)(bull)/).replace("bull",R.bullet).getRegex(),R.list=I(R.list).replace(/bull/g,R.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+R.def.source+")").getRegex(),R._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",R._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,R.html=I(R.html,"i").replace("comment",R._comment).replace("tag",R._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),R.paragraph=I(R._paragraph).replace("hr",R.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",R._tag).getRegex(),R.blockquote=I(R.blockquote).replace("paragraph",R.paragraph).getRegex(),R.normal=P({},R),R.gfm=P({},R.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),R.gfm.nptable=I(R.gfm.nptable).replace("hr",R.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",R._tag).getRegex(),R.gfm.table=I(R.gfm.table).replace("hr",R.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",R._tag).getRegex(),R.pedantic=P({},R.normal,{html:I("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",R._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:O,paragraph:I(R.normal._paragraph).replace("hr",R.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",R.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var M={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:O,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:O,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};M.punctuation=I(M.punctuation).replace(/punctuation/g,M._punctuation).getRegex(),M._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",M._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",M._comment=I(R._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),M.em.start=I(M.em.start).replace(/punctuation/g,M._punctuation).getRegex(),M.em.middle=I(M.em.middle).replace(/punctuation/g,M._punctuation).replace(/overlapSkip/g,M._overlapSkip).getRegex(),M.em.endAst=I(M.em.endAst,"g").replace(/punctuation/g,M._punctuation).getRegex(),M.em.endUnd=I(M.em.endUnd,"g").replace(/punctuation/g,M._punctuation).getRegex(),M.strong.start=I(M.strong.start).replace(/punctuation/g,M._punctuation).getRegex(),M.strong.middle=I(M.strong.middle).replace(/punctuation/g,M._punctuation).replace(/overlapSkip/g,M._overlapSkip).getRegex(),M.strong.endAst=I(M.strong.endAst,"g").replace(/punctuation/g,M._punctuation).getRegex(),M.strong.endUnd=I(M.strong.endUnd,"g").replace(/punctuation/g,M._punctuation).getRegex(),M.blockSkip=I(M._blockSkip,"g").getRegex(),M.overlapSkip=I(M._overlapSkip,"g").getRegex(),M._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,M._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,M._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,M.autolink=I(M.autolink).replace("scheme",M._scheme).replace("email",M._email).getRegex(),M._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,M.tag=I(M.tag).replace("comment",M._comment).replace("attribute",M._attribute).getRegex(),M._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,M._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,M._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,M.link=I(M.link).replace("label",M._label).replace("href",M._href).replace("title",M._title).getRegex(),M.reflink=I(M.reflink).replace("label",M._label).getRegex(),M.reflinkSearch=I(M.reflinkSearch,"g").replace("reflink",M.reflink).replace("nolink",M.nolink).getRegex(),M.normal=P({},M),M.pedantic=P({},M.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:I(/^!?\[(label)\]\((.*?)\)/).replace("label",M._label).getRegex(),reflink:I(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",M._label).getRegex()}),M.gfm=P({},M.normal,{escape:I(M.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),M.gfm.url=I(M.gfm.url,"i").replace("email",M.gfm._extended_email).getRegex(),M.breaks=P({},M.gfm,{br:I(M.br).replace("{2,}","*").getRegex(),text:I(M.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var F={block:R,inline:M},D=s.defaults,N=F.block,L=F.inline,j=function(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e};function H(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function B(e){var t,n,s="",i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),s+="&#"+n+";";return s}var $=function(){function t(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||D,this.options.tokenizer=this.options.tokenizer||new A,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:N.normal,inline:L.normal};this.options.pedantic?(t.block=N.pedantic,t.inline=L.pedantic):this.options.gfm&&(t.block=N.gfm,t.inline=this.options.breaks?L.breaks:L.gfm),this.tokenizer.rules=t}t.lex=function(e,n){return new t(n).lex(e)},t.lexInline=function(e,n){return new t(n).inlineTokens(e)};var n,s,i=t.prototype;return i.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},i.blockTokens=function(e,t,n){var s,i,r,o;for(void 0===t&&(t=[]),void 0===n&&(n=!0),e=e.replace(/^ +$/gm,"");e;)if(s=this.tokenizer.space(e))e=e.substring(s.raw.length),s.type&&t.push(s);else if(s=this.tokenizer.code(e,t))e=e.substring(s.raw.length),s.type?t.push(s):((o=t[t.length-1]).raw+="\n"+s.raw,o.text+="\n"+s.text);else if(s=this.tokenizer.fences(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.heading(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.nptable(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.hr(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.blockquote(e))e=e.substring(s.raw.length),s.tokens=this.blockTokens(s.text,[],n),t.push(s);else if(s=this.tokenizer.list(e)){for(e=e.substring(s.raw.length),r=s.items.length,i=0;i<r;i++)s.items[i].tokens=this.blockTokens(s.items[i].text,[],!1);t.push(s)}else if(s=this.tokenizer.html(e))e=e.substring(s.raw.length),t.push(s);else if(n&&(s=this.tokenizer.def(e)))e=e.substring(s.raw.length),this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});else if(s=this.tokenizer.table(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.lheading(e))e=e.substring(s.raw.length),t.push(s);else if(n&&(s=this.tokenizer.paragraph(e)))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.text(e,t))e=e.substring(s.raw.length),s.type?t.push(s):((o=t[t.length-1]).raw+="\n"+s.raw,o.text+="\n"+s.text);else if(e){var a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}return t},i.inline=function(e){var t,n,s,i,r,o,a=e.length;for(t=0;t<a;t++)switch((o=e[t]).type){case"paragraph":case"text":case"heading":o.tokens=[],this.inlineTokens(o.text,o.tokens);break;case"table":for(o.tokens={header:[],cells:[]},i=o.header.length,n=0;n<i;n++)o.tokens.header[n]=[],this.inlineTokens(o.header[n],o.tokens.header[n]);for(i=o.cells.length,n=0;n<i;n++)for(r=o.cells[n],o.tokens.cells[n]=[],s=0;s<r.length;s++)o.tokens.cells[n][s]=[],this.inlineTokens(r[s],o.tokens.cells[n][s]);break;case"blockquote":this.inline(o.tokens);break;case"list":for(i=o.items.length,n=0;n<i;n++)this.inline(o.items[n].tokens)}return e},i.inlineTokens=function(e,t,n,s,i){var r;void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===s&&(s=!1),void 0===i&&(i="");var o,a=e;if(this.tokens.links){var l=Object.keys(this.tokens.links);if(l.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(a));)l.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,o.index)+"["+j("a",o[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(a));)a=a.slice(0,o.index)+"["+j("a",o[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;e;)if(r=this.tokenizer.escape(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.tag(e,n,s))e=e.substring(r.raw.length),n=r.inLink,s=r.inRawBlock,t.push(r);else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),"link"===r.type&&(r.tokens=this.inlineTokens(r.text,[],!0,s)),t.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(r.raw.length),"link"===r.type&&(r.tokens=this.inlineTokens(r.text,[],!0,s)),t.push(r);else if(r=this.tokenizer.strong(e,a,i))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,s),t.push(r);else if(r=this.tokenizer.em(e,a,i))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,s),t.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,s),t.push(r);else if(r=this.tokenizer.autolink(e,B))e=e.substring(r.raw.length),t.push(r);else if(n||!(r=this.tokenizer.url(e,B))){if(r=this.tokenizer.inlineText(e,s,H))e=e.substring(r.raw.length),i=r.raw.slice(-1),t.push(r);else if(e){var c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}throw new Error(c)}}else e=e.substring(r.raw.length),t.push(r);return t},n=t,s=[{key:"rules",get:function(){return{block:N,inline:L}}}],null&&e(n.prototype,null),s&&e(n,s),t}(),z=s.defaults,V=function(e,t,n){if(e){var s;try{s=decodeURIComponent(h(n)).replace(p,"").toLowerCase()}catch(i){return null}if(0===s.indexOf("javascript:")||0===s.indexOf("vbscript:")||0===s.indexOf("data:"))return null}t&&!f.test(n)&&(n=function(e,t){m[" "+e]||(m[" "+e]=g.test(e)?e+"/":_(e,"/",!0));var n=-1===(e=m[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(y,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(b,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(i){return null}return n},U=v,q=function(){function e(e){this.options=e||z}var t=e.prototype;return t.code=function(e,t,n){var s=(t||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(e,s);null!=i&&i!==e&&(n=!0,e=i)}return s?'<pre><code class="'+this.options.langPrefix+U(s,!0)+'">'+(n?e:U(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:U(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,n,s){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+s.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,n){var s=t?"ol":"ul";return"<"+s+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+s+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,n){if(null===(e=V(this.options.sanitize,this.options.baseUrl,e)))return n;var s='<a href="'+U(e)+'"';return t&&(s+=' title="'+t+'"'),s+">"+n+"</a>"},t.image=function(e,t,n){if(null===(e=V(this.options.sanitize,this.options.baseUrl,e)))return n;var s='<img src="'+e+'" alt="'+n+'"';return t&&(s+=' title="'+t+'"'),s+(this.options.xhtml?"/>":">")},t.text=function(e){return e},e}(),W=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),K=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var n=e,s=0;if(this.seen.hasOwnProperty(n)){s=this.seen[e];do{n=e+"-"+ ++s}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=s,this.seen[n]=0),n},t.slug=function(e,t){void 0===t&&(t={});var n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)},e}(),Z=s.defaults,G=w,Q=function(){function e(e){this.options=e||Z,this.options.renderer=this.options.renderer||new q,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new W,this.slugger=new K}e.parse=function(t,n){return new e(n).parse(t)},e.parseInline=function(t,n){return new e(n).parseInline(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);var n,s,i,r,o,a,l,c,u,h,d,p,f,m,g,y,b,_,v="",w=e.length;for(n=0;n<w;n++)switch((h=e[n]).type){case"space":continue;case"hr":v+=this.renderer.hr();continue;case"heading":v+=this.renderer.heading(this.parseInline(h.tokens),h.depth,G(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":v+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(c="",l="",r=h.header.length,s=0;s<r;s++)l+=this.renderer.tablecell(this.parseInline(h.tokens.header[s]),{header:!0,align:h.align[s]});for(c+=this.renderer.tablerow(l),u="",r=h.cells.length,s=0;s<r;s++){for(l="",o=(a=h.tokens.cells[s]).length,i=0;i<o;i++)l+=this.renderer.tablecell(this.parseInline(a[i]),{header:!1,align:h.align[i]});u+=this.renderer.tablerow(l)}v+=this.renderer.table(c,u);continue;case"blockquote":u=this.parse(h.tokens),v+=this.renderer.blockquote(u);continue;case"list":for(d=h.ordered,p=h.start,f=h.loose,r=h.items.length,u="",s=0;s<r;s++)y=(g=h.items[s]).checked,b=g.task,m="",g.task&&(_=this.renderer.checkbox(y),f?g.tokens.length>0&&"text"===g.tokens[0].type?(g.tokens[0].text=_+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=_+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:_}):m+=_),m+=this.parse(g.tokens,f),u+=this.renderer.listitem(m,b,y);v+=this.renderer.list(u,d,p);continue;case"html":v+=this.renderer.html(h.text);continue;case"paragraph":v+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(u=h.tokens?this.parseInline(h.tokens):h.text;n+1<w&&"text"===e[n+1].type;)u+="\n"+((h=e[++n]).tokens?this.parseInline(h.tokens):h.text);v+=t?this.renderer.paragraph(u):u;continue;default:var k='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(k);throw new Error(k)}return v},t.parseInline=function(e,t){t=t||this.renderer;var n,s,i="",r=e.length;for(n=0;n<r;n++)switch((s=e[n]).type){case"escape":i+=t.text(s.text);break;case"html":i+=t.html(s.text);break;case"link":i+=t.link(s.href,s.title,this.parseInline(s.tokens,t));break;case"image":i+=t.image(s.href,s.title,s.text);break;case"strong":i+=t.strong(this.parseInline(s.tokens,t));break;case"em":i+=t.em(this.parseInline(s.tokens,t));break;case"codespan":i+=t.codespan(s.text);break;case"br":i+=t.br();break;case"del":i+=t.del(this.parseInline(s.tokens,t));break;case"text":i+=t.text(s.text);break;default:var o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return void console.error(o);throw new Error(o)}return i},e}(),Y=k,J=function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},X=v,ee=s.getDefaults,te=s.changeDefaults,ne=s.defaults;function se(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),t=Y({},se.defaults,t||{}),J(t),n){var s,i=t.highlight;try{s=$.lex(e,t)}catch(l){return n(l)}var r=function(e){var r;if(!e)try{r=Q.parse(s,t)}catch(l){e=l}return t.highlight=i,e?n(e):n(null,r)};if(!i||i.length<3)return r();if(delete t.highlight,!s.length)return r();var o=0;return se.walkTokens(s,(function(e){"code"===e.type&&(o++,setTimeout((function(){i(e.text,e.lang,(function(t,n){if(t)return r(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0==--o&&r()}))}),0))})),void(0===o&&r())}try{var a=$.lex(e,t);return t.walkTokens&&se.walkTokens(a,t.walkTokens),Q.parse(a,t)}catch(l){if(l.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+X(l.message+"",!0)+"</pre>";throw l}}return se.options=se.setOptions=function(e){return Y(se.defaults,e),te(se.defaults),se},se.getDefaults=ee,se.defaults=ne,se.use=function(e){var t=Y({},e);if(e.renderer&&function(){var n=se.defaults.renderer||new q,s=function(t){var s=n[t];n[t]=function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=e.renderer[t].apply(n,r);return!1===a&&(a=s.apply(n,r)),a}};for(var i in e.renderer)s(i);t.renderer=n}(),e.tokenizer&&function(){var n=se.defaults.tokenizer||new A,s=function(t){var s=n[t];n[t]=function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=e.tokenizer[t].apply(n,r);return!1===a&&(a=s.apply(n,r)),a}};for(var i in e.tokenizer)s(i);t.tokenizer=n}(),e.walkTokens){var n=se.defaults.walkTokens;t.walkTokens=function(t){e.walkTokens(t),n&&n(t)}}se.setOptions(t)},se.walkTokens=function(e,t){for(var s,i=n(e);!(s=i()).done;){var r=s.value;switch(t(r),r.type){case"table":for(var o,a=n(r.tokens.header);!(o=a()).done;)se.walkTokens(o.value,t);for(var l,c=n(r.tokens.cells);!(l=c()).done;)for(var u,h=n(l.value);!(u=h()).done;)se.walkTokens(u.value,t);break;case"list":se.walkTokens(r.items,t);break;default:r.tokens&&se.walkTokens(r.tokens,t)}}},se.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=Y({},se.defaults,t||{}),J(t);try{var n=$.lexInline(e,t);return t.walkTokens&&se.walkTokens(n,t.walkTokens),Q.parseInline(n,t)}catch(s){if(s.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+X(s.message+"",!0)+"</pre>";throw s}},se.Parser=Q,se.parser=Q.parse,se.Renderer=q,se.TextRenderer=W,se.Lexer=$,se.lexer=$.lex,se.Tokenizer=A,se.Slugger=K,se.parse=se,se}()},zUnb:function(e,t,n){"use strict";function s(e){return"function"==typeof e}n.r(t);let i=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function o(e){setTimeout(()=>{throw e},0)}const a={closed:!0,next(e){},error(e){if(r.useDeprecatedSynchronousErrorHandling)throw e;o(e)},complete(){}},l=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function c(e){return null!==e&&"object"==typeof e}const u=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let h=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if(s(i))try{i.call(this)}catch(o){t=o instanceof u?d(o.errors):[o]}if(l(r)){let e=-1,n=r.length;for(;++e<n;){const n=r[e];if(c(n))try{n.unsubscribe()}catch(o){t=t||[],o instanceof u?t=t.concat(d(o.errors)):t.push(o)}}}if(t)throw new u(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:s}=n;if(null===s)n._parentOrParents=this;else if(s instanceof e){if(s===this)return n;n._parentOrParents=[s,this]}else{if(-1!==s.indexOf(this))return n;s.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function d(e){return e.reduce((e,t)=>e.concat(t instanceof u?t.errors:t),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof f?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,e,t,n)}}[p](){return this}static create(e,t,n){const s=new f(e,t,n);return s.syncErrorThrowable=!1,s}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class m extends f{constructor(e,t,n,i){let r;super(),this._parentSubscriber=e;let o=this;s(t)?r=t:t&&(r=t.next,n=t.error,i=t.complete,t!==a&&(o=Object.create(t),s(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=r,this._error=n,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;r.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=r;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):o(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;o(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);r.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),r.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(e,t,n){if(!r.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(s){return r.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=s,e.syncErrorThrown=!0,!0):(o(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(e){return e}let b=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:s}=this,i=function(e,t,n){if(e){if(e instanceof f)return e;if(e[p])return e[p]()}return e||t||n?new f(e,t,n):new f(a)}(e,t,n);if(i.add(s?s.call(i,this.source):this.source||r.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),r.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(e){try{return this._subscribe(e)}catch(t){r.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:s}=e;if(t||s)return!1;e=n&&n instanceof f?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=_(t))((t,n)=>{let s;s=this.subscribe(t=>{try{e(t)}catch(i){n(i),s&&s.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[g](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=_(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function _(e){if(e||(e=r.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const v=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class w extends h{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class k extends f{constructor(e){super(e),this.destination=e}}let S=(()=>{class e extends b{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new k(this)}lift(e){const t=new x(this,this);return t.operator=e,t}next(e){if(this.closed)throw new v;if(!this.isStopped){const{observers:t}=this,n=t.length,s=t.slice();for(let i=0;i<n;i++)s[i].next(e)}}error(e){if(this.closed)throw new v;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,s=t.slice();for(let i=0;i<n;i++)s[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new v;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let s=0;s<t;s++)n[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new v;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new v;return this.hasError?(e.error(this.thrownError),h.EMPTY):this.isStopped?(e.complete(),h.EMPTY):(this.observers.push(e),new w(this,e))}asObservable(){const e=new b;return e.source=this,e}}return e.create=(e,t)=>new x(e,t),e})();class x extends S{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):h.EMPTY}}function C(e){return e&&"function"==typeof e.schedule}class E extends f{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const T=e=>t=>{for(let n=0,s=e.length;n<s&&!t.closed;n++)t.next(e[n]);t.complete()};function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const O=A();const I=e=>{if(e&&"function"==typeof e[g])return r=e,e=>{const t=r[g]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((t=e)&&"number"==typeof t.length&&"function"!=typeof t)return T(e);var t,n,s,i,r;if((n=e)&&"function"!=typeof n.subscribe&&"function"==typeof n.then)return i=e,e=>(i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o),e);if(e&&"function"==typeof e[O])return s=e,e=>{const t=s[O]();for(;;){const n=t.next();if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e};{const t=c(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}};class P extends f{notifyNext(e,t,n,s,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function R(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new M(e,t))}}class M{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new F(e,this.project,this.thisArg))}}class F extends f{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function D(e,t){return new b(n=>{const s=new h;let i=0;return s.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||s.add(this.schedule())):n.complete()}))),s})}function N(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(N((n,s)=>{return(i=e(n,s),i instanceof b?i:new b(I(i))).pipe(R((e,i)=>t(n,e,s,i)));var i},n)):("number"==typeof t&&(n=t),t=>t.lift(new L(e,n)))}class L{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new j(e,this.project,this.concurrent))}}class j extends P{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const s=new E(this,t,n),i=this.destination;i.add(s);const r=function(e,t,n,s,i=new E(e,n,s)){if(!i.closed)return t instanceof b?t.subscribe(i):I(t)(i)}(this,e,void 0,void 0,s);r!==s&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,s,i){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function H(e,t){return t?D(e,t):new b(T(e))}function B(){return function(e){return e.lift(new $(e))}}class ${constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const s=new z(e,n),i=t.subscribe(s);return s.closed||(s.connection=n.connect()),i}}class z extends f{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,s=e._connection;this.connection=null,!s||n&&s!==n||s.unsubscribe()}}class V extends b{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new h,e.add(this.source.subscribe(new q(this.getSubject(),this))),e.closed&&(this._connection=null,e=h.EMPTY)),e}refCount(){return B()(this)}}const U=(()=>{const e=V.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class q extends k{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function W(){return new S}function K(e){return{toString:e}.toString()}const Z="__parameters__";function G(e,t,n){return K(()=>{const s=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function i(...e){if(this instanceof i)return s.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,s){const i=e.hasOwnProperty(Z)?e[Z]:Object.defineProperty(e,Z,{value:[]})[Z];for(;i.length<=s;)i.push(null);return(i[s]=i[s]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const Q=G("Inject",e=>({token:e})),Y=G("Optional"),J=G("Self"),X=G("SkipSelf");var ee=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function te(e){for(let t in e)if(e[t]===te)return t;throw Error("Could not find renamed property on target object.")}function ne(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function se(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function ie(e){return re(e,e[ae])||re(e,e[ue])}function re(e,t){return t&&t.token===e?t:null}function oe(e){return e&&(e.hasOwnProperty(le)||e.hasOwnProperty(he))?e[le]:null}const ae=te({"\u0275prov":te}),le=te({"\u0275inj":te}),ce=te({"\u0275provFallback":te}),ue=te({ngInjectableDef:te}),he=te({ngInjectorDef:te});function de(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(de).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function pe(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const fe=te({__forward_ref__:te});function me(e){return e.__forward_ref__=me,e.toString=function(){return de(this())},e}function ge(e){return"function"==typeof(t=e)&&t.hasOwnProperty(fe)&&t.__forward_ref__===me?e():e;var t}const ye="undefined"!=typeof globalThis&&globalThis,be="undefined"!=typeof window&&window,_e="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ve="undefined"!=typeof global&&global,we=ye||ve||be||_e,ke=te({"\u0275cmp":te}),Se=te({"\u0275dir":te}),xe=te({"\u0275pipe":te}),Ce=te({"\u0275mod":te}),Ee=te({"\u0275loc":te}),Te=te({"\u0275fac":te}),Ae=te({__NG_ELEMENT_ID__:te});class Oe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ne({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const Ie=new Oe("INJECTOR",-1),Pe={},Re=/\n/gm,Me="__source",Fe=te({provide:String,useValue:te});let De,Ne=void 0;function Le(e){const t=Ne;return Ne=e,t}function je(e){const t=De;return De=e,t}function He(e,t=ee.Default){if(void 0===Ne)throw new Error("inject() must be called from an injection context");return null===Ne?$e(e,void 0,t):Ne.get(e,t&ee.Optional?null:void 0,t)}function Be(e,t=ee.Default){return(De||He)(ge(e),t)}function $e(e,t,n){const s=ie(e);if(s&&"root"==s.providedIn)return void 0===s.value?s.value=s.factory():s.value;if(n&ee.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${de(e)}]`)}function ze(e){const t=[];for(let n=0;n<e.length;n++){const s=ge(e[n]);if(Array.isArray(s)){if(0===s.length)throw new Error("Arguments array must have arguments.");let e=void 0,n=ee.Default;for(let t=0;t<s.length;t++){const i=s[t];i instanceof Y||"Optional"===i.ngMetadataName||i===Y?n|=ee.Optional:i instanceof X||"SkipSelf"===i.ngMetadataName||i===X?n|=ee.SkipSelf:i instanceof J||"Self"===i.ngMetadataName||i===J?n|=ee.Self:e=i instanceof Q||i===Q?i.token:i}t.push(Be(e,n))}else t.push(Be(s))}return t}class Ve{get(e,t=Pe){if(t===Pe){const t=new Error(`NullInjectorError: No provider for ${de(e)}!`);throw t.name="NullInjectorError",t}return t}}class Ue{}function qe(e,t){e.forEach(e=>Array.isArray(e)?qe(e,t):t(e))}function We(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ke(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ze(e,t){const n=[];for(let s=0;s<e;s++)n.push(t);return n}function Ge(e,t,n){let s=Ye(e,t);return s>=0?e[1|s]=n:(s=~s,function(e,t,n,s){let i=e.length;if(i==t)e.push(n,s);else if(1===i)e.push(s,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=s}}(e,s,t,n)),s}function Qe(e,t){const n=Ye(e,t);if(n>=0)return e[1|n]}function Ye(e,t){return function(e,t,n){let s=0,i=e.length>>1;for(;i!==s;){const n=s+(i-s>>1),r=e[n<<1];if(t===r)return n<<1;r>t?i=n:s=n+1}return~(i<<1)}(e,t)}var Je=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),Xe=function(e){return e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const et={},tt=[];let nt=0;function st(e){return K(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Je.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||tt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Xe.Emulated,id:"c",styles:e.styles||tt,_:null,setInput:null,schemas:e.schemas||null,tView:null},s=e.directives,i=e.features,r=e.pipes;return n.id+=nt++,n.inputs=lt(e.inputs,t),n.outputs=lt(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=s?()=>("function"==typeof s?s():s).map(it):null,n.pipeDefs=r?()=>("function"==typeof r?r():r).map(rt):null,n})}function it(e){return ut(e)||function(e){return e[Se]||null}(e)}function rt(e){return function(e){return e[xe]||null}(e)}const ot={};function at(e){const t={type:e.type,bootstrap:e.bootstrap||tt,declarations:e.declarations||tt,imports:e.imports||tt,exports:e.exports||tt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&K(()=>{ot[e.id]=e.type}),t}function lt(e,t){if(null==e)return et;const n={};for(const s in e)if(e.hasOwnProperty(s)){let i=e[s],r=i;Array.isArray(i)&&(r=i[1],i=i[0]),n[i]=s,t&&(t[i]=r)}return n}const ct=st;function ut(e){return e[ke]||null}function ht(e,t){return e.hasOwnProperty(Te)?e[Te]:null}function dt(e,t){const n=e[Ce]||null;if(!n&&!0===t)throw new Error(`Type ${de(e)} does not have '\u0275mod' property.`);return n}const pt=20,ft=10;function mt(e){return Array.isArray(e)&&"object"==typeof e[1]}function gt(e){return Array.isArray(e)&&!0===e[1]}function yt(e){return 0!=(8&e.flags)}function bt(e){return 2==(2&e.flags)}function _t(e){return 1==(1&e.flags)}function vt(e){return null!==e.template}function wt(e){return 0!=(512&e[2])}class kt{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function St(){return xt}function xt(e){return e.type.prototype.ngOnChanges&&(e.setInput=Et),Ct}function Ct(){const e=Tt(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===et)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Et(e,t,n,s){const i=Tt(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:et,current:null}),r=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];r[a]=new kt(l&&l.currentValue,t,o===et),e[s]=t}function Tt(e){return e.__ngSimpleChanges__||null}St.ngInherit=!0;let At=void 0;function Ot(e){return!!e.listen}const It={createRenderer:(e,t)=>void 0!==At?At:"undefined"!=typeof document?document:void 0};function Pt(e){for(;Array.isArray(e);)e=e[0];return e}function Rt(e,t){return Pt(t[e+pt])}function Mt(e,t){return Pt(t[e.index])}function Ft(e,t){return e.data[t+pt]}function Dt(e,t){const n=t[e];return mt(n)?n:n[0]}function Nt(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Lt(e){return 4==(4&e[2])}function jt(e){return 128==(128&e[2])}function Ht(e,t){return null===e||null==t?null:e[t]}function Bt(e){e[18]=0}function $t(e,t){e[5]+=t;let n=e,s=e[3];for(;null!==s&&(1===t&&1===n[5]||-1===t&&0===n[5]);)s[5]+=t,n=s,s=s[3]}const zt={lFrame:hn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Vt(){return zt.bindingsEnabled}function Ut(){return zt.lFrame.lView}function qt(){return zt.lFrame.tView}function Wt(e){zt.lFrame.contextLView=e}function Kt(){return zt.lFrame.previousOrParentTNode}function Zt(e,t){zt.lFrame.previousOrParentTNode=e,zt.lFrame.isParent=t}function Gt(){return zt.lFrame.isParent}function Qt(){zt.lFrame.isParent=!1}function Yt(){return zt.checkNoChangesMode}function Jt(e){zt.checkNoChangesMode=e}function Xt(){const e=zt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function en(){return zt.lFrame.bindingIndex}function tn(){return zt.lFrame.bindingIndex++}function nn(e){const t=zt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function sn(e,t){const n=zt.lFrame;n.bindingIndex=n.bindingRootIndex=e,rn(t)}function rn(e){zt.lFrame.currentDirectiveIndex=e}function on(){return zt.lFrame.currentQueryIndex}function an(e){zt.lFrame.currentQueryIndex=e}function ln(e,t){const n=un();zt.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function cn(e,t){const n=un(),s=e[1];zt.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=s,n.contextLView=e,n.bindingIndex=s.bindingStartIndex}function un(){const e=zt.lFrame,t=null===e?null:e.child;return null===t?hn(e):t}function hn(e){const t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function dn(){const e=zt.lFrame;return zt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}const pn=dn;function fn(){const e=dn();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function mn(){return zt.lFrame.selectedIndex}function gn(e){zt.lFrame.selectedIndex=e}function yn(){const e=zt.lFrame;return Ft(e.tView,e.selectedIndex)}function bn(e,t){for(let n=t.directiveStart,s=t.directiveEnd;n<s;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:i,ngAfterViewInit:r,ngAfterViewChecked:o,ngOnDestroy:a}=t;s&&(e.contentHooks||(e.contentHooks=[])).push(-n,s),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),r&&(e.viewHooks||(e.viewHooks=[])).push(-n,r),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function _n(e,t,n){kn(e,t,3,n)}function vn(e,t,n,s){(3&e[2])===n&&kn(e,t,n,s)}function wn(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function kn(e,t,n,s){const i=null!=s?s:-1;let r=0;for(let o=void 0!==s?65535&e[18]:0;o<t.length;o++)if("number"==typeof t[o+1]){if(r=t[o],null!=s&&r>=s)break}else t[o]<0&&(e[18]+=65536),(r<i||-1==i)&&(Sn(e,n,t,o),e[18]=(4294901760&e[18])+o+2),o++}function Sn(e,t,n,s){const i=n[s]<0,r=n[s+1],o=e[i?-n[s]:n[s]];i?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,r.call(o)):r.call(o)}class xn{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Cn(e,t,n){const s=Ot(e);let i=0;for(;i<n.length;){const r=n[i];if("number"==typeof r){if(0!==r)break;i++;const o=n[i++],a=n[i++],l=n[i++];s?e.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=r,a=n[++i];En(o)?s&&e.setProperty(t,o,a):s?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function En(e){return 64===e.charCodeAt(0)}function Tn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let s=0;s<t.length;s++){const i=t[s];"number"==typeof i?n=i:0===n||An(e,n,i,null,-1===n||2===n?t[++s]:null)}}return e}function An(e,t,n,s,i){let r=0,o=e.length;if(-1===t)o=-1;else for(;r<e.length;){const n=e[r++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=r-1;break}}}for(;r<e.length;){const t=e[r];if("number"==typeof t)break;if(t===n){if(null===s)return void(null!==i&&(e[r+1]=i));if(s===e[r+1])return void(e[r+2]=i)}r++,null!==s&&r++,null!==i&&r++}-1!==o&&(e.splice(o,0,t),r=o+1),e.splice(r++,0,n),null!==s&&e.splice(r++,0,s),null!==i&&e.splice(r++,0,i)}function On(e){return-1!==e}function In(e){return 32767&e}function Pn(e){return e>>16}function Rn(e,t){let n=Pn(e),s=t;for(;n>0;)s=s[15],n--;return s}function Mn(e){return"string"==typeof e?e:null==e?"":""+e}function Fn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Mn(e)}const Dn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(we))();function Nn(e){return e instanceof Function?e():e}let Ln=!0;function jn(e){const t=Ln;return Ln=e,t}let Hn=0;function Bn(e,t){const n=zn(e,t);if(-1!==n)return n;const s=t[1];s.firstCreatePass&&(e.injectorIndex=t.length,$n(s.data,e),$n(t,null),$n(s.blueprint,null));const i=Vn(e,t),r=e.injectorIndex;if(On(i)){const e=In(i),n=Rn(i,t),s=n[1].data;for(let i=0;i<8;i++)t[r+i]=n[e+i]|s[e+i]}return t[r+8]=i,r}function $n(e,t){e.push(0,0,0,0,0,0,0,0,t)}function zn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Vn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=t[6],s=1;for(;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,s++;return n?n.injectorIndex|s<<16:-1}function Un(e,t,n){!function(e,t,n){let s;"string"==typeof n?s=n.charCodeAt(0)||0:n.hasOwnProperty(Ae)&&(s=n[Ae]),null==s&&(s=n[Ae]=Hn++);const i=255&s,r=1<<i,o=64&i,a=32&i,l=t.data;128&i?o?a?l[e+7]|=r:l[e+6]|=r:a?l[e+5]|=r:l[e+4]|=r:o?a?l[e+3]|=r:l[e+2]|=r:a?l[e+1]|=r:l[e]|=r}(e,t,n)}function qn(e,t,n,s=ee.Default,i){if(null!==e){const i=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ae)?e[Ae]:void 0;return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof i){ln(t,e);try{const e=i();if(null!=e||s&ee.Optional)return e;throw new Error(`No provider for ${Fn(n)}!`)}finally{pn()}}else if("number"==typeof i){if(-1===i)return new Jn(e,t);let r=null,o=zn(e,t),a=-1,l=s&ee.Host?t[16][6]:null;for((-1===o||s&ee.SkipSelf)&&(a=-1===o?Vn(e,t):t[o+8],Yn(s,!1)?(r=t[1],o=In(a),t=Rn(a,t)):o=-1);-1!==o;){a=t[o+8];const e=t[1];if(Qn(i,o,e.data)){const e=Kn(o,t,n,r,s,l);if(e!==Wn)return e}Yn(s,t[1].data[o+8]===l)&&Qn(i,o,t)?(r=e,o=In(a),t=Rn(a,t)):o=-1}}}if(s&ee.Optional&&void 0===i&&(i=null),0==(s&(ee.Self|ee.Host))){const e=t[9],r=je(void 0);try{return e?e.get(n,i,s&ee.Optional):$e(n,i,s&ee.Optional)}finally{je(r)}}if(s&ee.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Fn(n)}]`)}const Wn={};function Kn(e,t,n,s,i,r){const o=t[1],a=o.data[e+8],l=Zn(a,o,n,null==s?bt(a)&&Ln:s!=o&&3===a.type,i&ee.Host&&r===a);return null!==l?Gn(t,o,l,a):Wn}function Zn(e,t,n,s,i){const r=e.providerIndexes,o=t.data,a=1048575&r,l=e.directiveStart,c=r>>20,u=i?a+c:e.directiveEnd;for(let h=s?a:a+c;h<u;h++){const e=o[h];if(h<l&&n===e||h>=l&&e.type===n)return h}if(i){const e=o[l];if(e&&vt(e)&&e.type===n)return l}return null}function Gn(e,t,n,s){let i=e[n];const r=t.data;if(i instanceof xn){const o=i;if(o.resolving)throw new Error("Circular dep for "+Fn(r[n]));const a=jn(o.canSeeViewProviders);let l;o.resolving=!0,o.injectImpl&&(l=je(o.injectImpl)),ln(e,s);try{i=e[n]=o.factory(void 0,r,e,s),t.firstCreatePass&&n>=s.directiveStart&&function(e,t,n){const{ngOnChanges:s,ngOnInit:i,ngDoCheck:r}=t.type.prototype;if(s){const s=xt(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r))}(n,r[n],t)}finally{o.injectImpl&&je(l),jn(a),o.resolving=!1,pn()}}return i}function Qn(e,t,n){const s=64&e,i=32&e;let r;return r=128&e?s?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:s?i?n[t+3]:n[t+2]:i?n[t+1]:n[t],!!(r&1<<e)}function Yn(e,t){return!(e&ee.Self||e&ee.Host&&t)}class Jn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return qn(this._tNode,this._lView,e,void 0,t)}}function Xn(e){return e.ngDebugContext}function es(e){return e.ngOriginalError}function ts(e,...t){e.error(...t)}class ns{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),s=function(e){return e.ngErrorLogger||ts}(e);s(this._console,"ERROR",e),t&&s(this._console,"ORIGINAL ERROR",t),n&&s(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?Xn(e)?Xn(e):this._findContext(es(e)):null}_findOriginalError(e){let t=es(e);for(;t&&es(t);)t=es(t);return t}}class ss{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class is extends ss{getTypeName(){return"HTML"}}class rs extends ss{getTypeName(){return"Style"}}class os extends ss{getTypeName(){return"Script"}}class as extends ss{getTypeName(){return"URL"}}class ls extends ss{getTypeName(){return"ResourceURL"}}function cs(e){return e instanceof ss?e.changingThisBreaksApplicationSecurity:e}function us(e,t){const n=hs(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===t}function hs(e){return e instanceof ss&&e.getTypeName()||null}let ds=!0,ps=!1;function fs(){return ps=!0,ds}class ms{getInertBodyElement(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}}class gs{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;const n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let s=t.length-1;0<s;s--){const n=t.item(s).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ys=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,bs=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function _s(e){return(e=String(e)).match(ys)||e.match(bs)?e:(fs()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function vs(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function ws(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const ks=vs("area,br,col,hr,img,wbr"),Ss=vs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xs=vs("rp,rt"),Cs=ws(xs,Ss),Es=ws(ks,ws(Ss,vs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ws(xs,vs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cs),Ts=vs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),As=vs("srcset"),Os=ws(Ts,As,vs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Is=vs("script,style,template");class Ps{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Es.hasOwnProperty(t))return this.sanitizedSomething=!0,!Is.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,r=t.toLowerCase();if(!Os.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let o=e.value;Ts[r]&&(o=_s(o)),As[r]&&(s=o,o=(s=String(s)).split(",").map(e=>_s(e.trim())).join(", ")),this.buf.push(" ",t,'="',Fs(o),'"')}var s;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Es.hasOwnProperty(t)&&!ks.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Fs(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}const Rs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ms=/([^\#-~ |!])/g;function Fs(e){return e.replace(/&/g,"&amp;").replace(Rs,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Ms,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ds;function Ns(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ls=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function js(e,t){e.__ngContext__=t}function Hs(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function Bs(){throw new Error("Cannot mix multi providers and regular providers")}function $s(e,t,n){let s=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===s||e.charCodeAt(i+n)<=32)return i}n=i+1}}const zs="ng-template";function Vs(e,t,n){let s=0;for(;s<e.length;){let i=e[s++];if(n&&"class"===i){if(i=e[s],-1!==$s(i.toLowerCase(),t,0))return!0}else if(1===i){for(;s<e.length&&"string"==typeof(i=e[s++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Us(e){return 0===e.type&&e.tagName!==zs}function qs(e,t,n){return t===(0!==e.type||n?e.tagName:zs)}function Ws(e,t,n){let s=4;const i=e.attrs||[],r=function(e){for(let n=0;n<e.length;n++)if(3===(t=e[n])||4===t||6===t)return n;var t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&s){if(s=2|1&s,""!==l&&!qs(e,l,n)||""===l&&1===t.length){if(Ks(s))return!1;o=!0}}else{const c=8&s?l:t[++a];if(8&s&&null!==e.attrs){if(!Vs(e.attrs,c,n)){if(Ks(s))return!1;o=!0}continue}const u=Zs(8&s?"class":l,i,Us(e),n);if(-1===u){if(Ks(s))return!1;o=!0;continue}if(""!==c){let e;e=u>r?"":i[u+1].toLowerCase();const t=8&s?e:null;if(t&&-1!==$s(t,c,0)||2&s&&c!==e){if(Ks(s))return!1;o=!0}}}}else{if(!o&&!Ks(s)&&!Ks(l))return!1;if(o&&Ks(l))continue;o=!1,s=l|1&s}}return Ks(s)||o}function Ks(e){return 0==(1&e)}function Zs(e,t,n,s){if(null===t)return-1;let i=0;if(s||!n){let n=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)n=!0;else{if(1===s||2===s){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const s=e[n];if("number"==typeof s)return-1;if(s===t)return n;n++}return-1}(t,e)}function Gs(e,t,n=!1){for(let s=0;s<t.length;s++)if(Ws(e,t[s],n))return!0;return!1}function Qs(e,t){e:for(let n=0;n<t.length;n++){const s=t[n];if(e.length===s.length){for(let t=0;t<e.length;t++)if(e[t]!==s[t])continue e;return!0}}return!1}function Ys(e,t){return e?":not("+t.trim()+")":t}function Js(e){let t=e[0],n=1,s=2,i="",r=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&s){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&s?i+="."+o:4&s&&(i+=" "+o);else""===i||Ks(o)||(t+=Ys(r,i),i=""),s=o,r=r||!Ks(s);n++}return""!==i&&(t+=Ys(r,i)),t}const Xs={};function ei(e){const t=e[3];return gt(t)?t[3]:t}function ti(e){return si(e[13])}function ni(e){return si(e[4])}function si(e){for(;null!==e&&!gt(e);)e=e[4];return e}function ii(e){ri(qt(),Ut(),mn()+e,Yt())}function ri(e,t,n,s){if(!s)if(3==(3&t[2])){const s=e.preOrderCheckHooks;null!==s&&_n(t,s,n)}else{const s=e.preOrderHooks;null!==s&&vn(t,s,0,n)}gn(n)}function oi(e,t){return e<<17|t<<2}function ai(e){return e>>17&32767}function li(e){return 2|e}function ci(e){return(131068&e)>>2}function ui(e,t){return-131069&e|t<<2}function hi(e){return 1|e}function di(e,t){const n=e.contentQueries;if(null!==n)for(let s=0;s<n.length;s+=2){const i=n[s],r=n[s+1];if(-1!==r){const n=e.data[r];an(i),n.contentQueries(2,t[r],r)}}}function pi(e,t,n){return Ot(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function fi(e,t,n,s,i,r,o,a,l,c){const u=t.blueprint.slice();return u[0]=i,u[2]=140|s,Bt(u),u[3]=u[15]=e,u[8]=n,u[10]=o||e&&e[10],u[11]=a||e&&e[11],u[12]=l||e&&e[12]||null,u[9]=c||e&&e[9]||null,u[6]=r,u[16]=2==t.type?e[16]:u,u}function mi(e,t,n,s,i,r){const o=n+pt,a=e.data[o]||function(e,t,n,s,i,r){const o=Kt(),a=Gt(),l=a?o:o&&o.parent,c=e.data[n]=Ei(0,l&&l!==t?l:null,s,n,i,r);return null===e.firstChild&&(e.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(e,t,o,s,i,r);return Zt(a,!0),a}function gi(e,t,n){cn(t,t[6]);try{const s=e.viewQuery;null!==s&&Ki(1,s,n);const i=e.template;null!==i&&_i(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&di(e,t),e.staticViewQueries&&Ki(2,e.viewQuery,n);const r=e.components;null!==r&&function(e,t){for(let n=0;n<t.length;n++)zi(e,t[n])}(t,r)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),s}finally{t[2]&=-5,fn()}}function yi(e,t,n,s){const i=t[2];if(256==(256&i))return;cn(t,t[6]);const r=Yt();try{Bt(t),zt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&_i(e,t,n,2,s);const o=3==(3&i);if(!r)if(o){const n=e.preOrderCheckHooks;null!==n&&_n(t,n,null)}else{const n=e.preOrderHooks;null!==n&&vn(t,n,0,null),wn(t,0)}if(function(e){for(let t=ti(e);null!==t;t=ni(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],s=n[3];0==(1024&n[2])&&$t(s,1),n[2]|=1024}}}(t),function(e){for(let t=ti(e);null!==t;t=ni(t))for(let e=ft;e<t.length;e++){const n=t[e],s=n[1];jt(n)&&yi(s,n,s.template,n[8])}}(t),null!==e.contentQueries&&di(e,t),!r)if(o){const n=e.contentCheckHooks;null!==n&&_n(t,n)}else{const n=e.contentHooks;null!==n&&vn(t,n,1),wn(t,1)}!function(e,t){try{const n=e.expandoInstructions;if(null!==n){let s=e.expandoStartIndex,i=-1,r=-1;for(let e=0;e<n.length;e++){const o=n[e];"number"==typeof o?o<=0?(r=0-o,gn(r),s+=9+n[++e],i=s):s+=o:(null!==o&&(sn(s,i),o(2,t[i])),i++)}}}finally{gn(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)$i(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&Ki(2,l,s),!r)if(o){const n=e.viewCheckHooks;null!==n&&_n(t,n)}else{const n=e.viewHooks;null!==n&&vn(t,n,2),wn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,$t(t[3],-1))}finally{fn()}}function bi(e,t,n,s){const i=t[10],r=!Yt(),o=Lt(t);try{r&&!o&&i.begin&&i.begin(),o&&gi(e,t,s),yi(e,t,n,s)}finally{r&&!o&&i.end&&i.end()}}function _i(e,t,n,s,i){const r=mn();try{gn(-1),2&s&&t.length>pt&&ri(e,t,0,Yt()),n(s,i)}finally{gn(r)}}function vi(e,t,n){if(yt(t)){const s=t.directiveEnd;for(let i=t.directiveStart;i<s;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function wi(e,t,n){Vt()&&(function(e,t,n,s){const i=n.directiveStart,r=n.directiveEnd;e.firstCreatePass||Bn(n,t),js(s,t);const o=n.initialInputs;for(let a=i;a<r;a++){const s=e.data[a],r=vt(s);r&&Li(t,n,s);const l=Gn(t,e,a,n);js(l,t),null!==o&&ji(0,a-i,l,s,0,o),r&&(Dt(n.index,t)[8]=l)}}(e,t,n,Mt(n,t)),128==(128&n.flags)&&function(e,t,n){const s=n.directiveStart,i=n.directiveEnd,r=e.expandoInstructions,o=e.firstCreatePass,a=n.index-pt,l=zt.lFrame.currentDirectiveIndex;try{gn(a);for(let n=s;n<i;n++){const s=e.data[n],i=t[n];rn(n),null!==s.hostBindings||0!==s.hostVars||null!==s.hostAttrs?Pi(s,i):o&&r.push(null)}}finally{gn(-1),rn(l)}}(e,t,n))}function ki(e,t,n=Mt){const s=t.localNames;if(null!==s){let i=t.index+1;for(let r=0;r<s.length;r+=2){const o=s[r+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function Si(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=xi(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function xi(e,t,n,s,i,r,o,a,l,c){const u=pt+s,h=u+i,d=function(e,t){const n=[];for(let s=0;s<t;s++)n.push(s<e?null:Xs);return n}(u,h);return d[1]={type:e,id:t,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:c,incompleteFirstPass:!1}}function Ci(e,t,n,s){const i=Gi(t);i.push(n),e.firstCreatePass&&function(e){return e.cleanup||(e.cleanup=[])}(e).push(s,i.length-1)}function Ei(e,t,n,s,i,r){return{type:n,index:s,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ti(e,t,n){for(let s in e)if(e.hasOwnProperty(s)){const i=e[s];(n=null===n?{}:n).hasOwnProperty(s)?n[s].push(t,i):n[s]=[t,i]}return n}function Ai(e,t,n,s){let i=!1;if(Vt()){const r=function(e,t,n){const s=e.directiveRegistry;let i=null;if(s)for(let r=0;r<s.length;r++){const o=s[r];Gs(n,o.selectors,!1)&&(i||(i=[]),Un(Bn(n,t),e,o.type),vt(o)?(2&n.flags&&Hs(n),Mi(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===s?null:{"":-1};if(null!==r){let s=0;i=!0,Di(n,e.data.length,r.length);for(let e=0;e<r.length;e++){const t=r[e];t.providersResolver&&t.providersResolver(t)}Ri(e,n,r.length);let a=!1,l=!1;for(let i=0;i<r.length;i++){const c=r[i];n.mergedAttrs=Tn(n.mergedAttrs,c.hostAttrs),Ni(e,t,c),Fi(e.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const u=c.type.prototype;!a&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-pt),a=!0),l||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-pt),l=!0),Oi(e,c),s+=c.hostVars}!function(e,t){const n=t.directiveEnd,s=e.data,i=t.attrs,r=[];let o=null,a=null;for(let l=t.directiveStart;l<n;l++){const e=s[l],n=e.inputs,c=null===i||Us(t)?null:Hi(n,i);r.push(c),o=Ti(n,l,o),a=Ti(e.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=r,t.inputs=o,t.outputs=a}(e,n),Ii(e,t,s)}o&&function(e,t,n){if(t){const s=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new Error(`Export of name '${t[e+1]}' not found!`);s.push(t[e],i)}}}(n,s,o)}return n.mergedAttrs=Tn(n.mergedAttrs,n.attrs),i}function Oi(e,t){const n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function Ii(e,t,n){for(let s=0;s<n;s++)t.push(Xs),e.blueprint.push(Xs),e.data.push(null)}function Pi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ri(e,t,n){const s=pt-t.index,i=e.data.length-(1048575&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(s,i,n)}function Mi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Fi(e,t,n){if(n){if(t.exportAs)for(let s=0;s<t.exportAs.length;s++)n[t.exportAs[s]]=e;vt(t)&&(n[""]=e)}}function Di(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ni(e,t,n){e.data.push(n);const s=n.factory||(n.factory=ht(n.type)),i=new xn(s,vt(n),null);e.blueprint.push(i),t.push(i)}function Li(e,t,n){const s=Mt(t,e),i=Si(n),r=e[10],o=Vi(e,fi(e,i,null,n.onPush?64:16,s,t,r,r.createRenderer(s,n)));e[t.index]=o}function ji(e,t,n,s,i,r){const o=r[t];if(null!==o){const e=s.setInput;for(let t=0;t<o.length;){const i=o[t++],r=o[t++],a=o[t++];null!==e?s.setInput(n,a,i,r):n[r]=a}}}function Hi(e,t){let n=null,s=0;for(;s<t.length;){const i=t[s];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[s+1])),s+=2}else s+=2;else s+=4}return n}function Bi(e,t,n,s){return new Array(e,!0,!1,t,null,0,s,n,null,null)}function $i(e,t){const n=Dt(t,e);if(jt(n)){const e=n[1];80&n[2]?yi(e,n,e.template,n[8]):n[5]>0&&function e(t){for(let s=ti(t);null!==s;s=ni(s))for(let t=ft;t<s.length;t++){const n=s[t];if(1024&n[2]){const e=n[1];yi(e,n,e.template,n[8])}else n[5]>0&&e(n)}const n=t[1].components;if(null!==n)for(let s=0;s<n.length;s++){const i=Dt(n[s],t);jt(i)&&i[5]>0&&e(i)}}(n)}}function zi(e,t){const n=Dt(t,e),s=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(s,n),gi(s,n,n[8])}function Vi(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Ui(e){for(;e;){e[2]|=64;const t=ei(e);if(wt(e)&&!t)return e;e=t}return null}function qi(e,t,n){const s=t[10];s.begin&&s.begin();try{yi(e,t,e.template,n)}catch(i){throw Qi(t,i),i}finally{s.end&&s.end()}}function Wi(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],s=Nt(n),i=s[1];bi(i,s,i.template,n)}}(e[8])}function Ki(e,t,n){an(0),t(e,n)}const Zi=(()=>Promise.resolve(null))();function Gi(e){return e[7]||(e[7]=[])}function Qi(e,t){const n=e[9],s=n?n.get(ns,null):null;s&&s.handleError(t)}function Yi(e,t,n,s,i){for(let r=0;r<n.length;){const o=n[r++],a=n[r++],l=t[o],c=e.data[o];null!==c.setInput?c.setInput(l,i,s,a):l[a]=i}}function Ji(e,t,n){const s=Rt(t,e),i=e[11];Ot(i)?i.setValue(s,n):s.textContent=n}function Xi(e,t){const n=t[3];return-1===e.index?gt(n)?n:null:n}function er(e,t){const n=Xi(e,t);return n?dr(t[11],n[7]):null}function tr(e,t,n,s,i){if(null!=s){let r,o=!1;gt(s)?r=s:mt(s)&&(o=!0,s=s[0]);const a=Pt(s);0===e&&null!==n?null==i?ur(t,n,a):cr(t,n,a,i||null):1===e&&null!==n?cr(t,n,a,i||null):2===e?function(e,t,n){const s=dr(e,t);s&&function(e,t,n,s){Ot(e)?e.removeChild(t,n,s):t.removeChild(n)}(e,s,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=r&&function(e,t,n,s,i){const r=n[7];r!==Pt(n)&&tr(t,e,s,r,i);for(let o=ft;o<n.length;o++){const i=n[o];yr(i[1],i,e,t,s,r)}}(t,e,r,n,i)}}function nr(e,t,n,s){const i=er(e.node,t);i&&yr(e,t,t[11],n?1:2,i,s)}function sr(e,t){const n=e[9],s=n.indexOf(t);1024&t[2]&&$t(t[3],-1),n.splice(s,1)}function ir(e,t){if(e.length<=ft)return;const n=ft+t,s=e[n];if(s){const i=s[17];null!==i&&i!==e&&sr(i,s),t>0&&(e[n-1][4]=s[4]);const r=Ke(e,ft+t);nr(s[1],s,!1,null);const o=r[19];null!==o&&o.detachView(r[1]),s[3]=null,s[4]=null,s[2]&=-129}return s}function rr(e,t){if(!(256&t[2])){const n=t[11];Ot(n)&&n.destroyNode&&yr(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return ar(e[1],e);for(;t;){let n=null;if(mt(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)mt(t)&&ar(t[1],t),t=or(t,e);null===t&&(t=e),mt(t)&&ar(t[1],t),n=t&&t[4]}t=n}}(t)}}function or(e,t){let n;return mt(e)&&(n=e[6])&&2===n.type?Xi(n,e):e[3]===t?null:e[3]}function ar(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let s=0;s<n.length;s+=2){const e=t[n[s]];if(!(e instanceof xn)){const t=n[s+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2)t[n+1].call(e[t[n]]);else t.call(e)}}}(e,t),function(e,t){const n=e.cleanup;if(null!==n){const e=t[7];for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const i=n[s+1],r="function"==typeof i?i(t):Pt(t[i]),o=e[n[s+2]],a=n[s+3];"boolean"==typeof a?r.removeEventListener(n[s],o,a):a>=0?e[a]():e[-a].unsubscribe(),s+=2}else n[s].call(e[n[s+1]]);t[7]=null}}(e,t);const n=t[6];n&&3===n.type&&Ot(t[11])&&t[11].destroy();const s=t[17];if(null!==s&&gt(t[3])){s!==t[3]&&sr(s,t);const n=t[19];null!==n&&n.detachView(e)}}}function lr(e,t,n){let s=t.parent;for(;null!=s&&(4===s.type||5===s.type);)s=(t=s).parent;if(null==s){const e=n[6];return 2===e.type?er(e,n):n[0]}if(t&&5===t.type&&4&t.flags)return Mt(t,n).parentNode;if(2&s.flags){const t=e.data,n=t[t[s.index].directiveStart].encapsulation;if(n!==Xe.ShadowDom&&n!==Xe.Native)return null}return Mt(s,n)}function cr(e,t,n,s){Ot(e)?e.insertBefore(t,n,s):t.insertBefore(n,s,!0)}function ur(e,t,n){Ot(e)?e.appendChild(t,n):t.appendChild(n)}function hr(e,t,n,s){null!==s?cr(e,t,n,s):ur(e,t,n)}function dr(e,t){return Ot(e)?e.parentNode(t):t.parentNode}function pr(e,t){if(2===e.type){const n=Xi(e,t);return null===n?null:mr(n.indexOf(t,ft)-ft,n)}return 4===e.type||5===e.type?Mt(e,t):null}function fr(e,t,n,s){const i=lr(e,s,t);if(null!=i){const e=t[11],r=pr(s.parent||t[6],t);if(Array.isArray(n))for(let t=0;t<n.length;t++)hr(e,i,n[t],r);else hr(e,i,n,r)}}function mr(e,t){const n=ft+e+1;if(n<t.length){const e=t[n],s=e[1].firstChild;if(null!==s)return function e(t,n){if(null!==n){const s=n.type;if(3===s)return Mt(n,t);if(0===s)return mr(-1,t[n.index]);if(4===s||5===s){const s=n.child;if(null!==s)return e(t,s);{const e=t[n.index];return gt(e)?mr(-1,e):Pt(e)}}{const s=t[16],i=s[6],r=ei(s),o=i.projection[n.projection];return null!=o?e(r,o):e(t,n.next)}}return null}(e,s)}return t[7]}function gr(e,t,n,s,i,r,o){for(;null!=n;){const a=s[n.index],l=n.type;o&&0===t&&(a&&js(Pt(a),s),n.flags|=4),64!=(64&n.flags)&&(4===l||5===l?(gr(e,t,n.child,s,i,r,!1),tr(t,e,i,a,r)):1===l?br(e,t,s,n,i,r):tr(t,e,i,a,r)),n=o?n.projectionNext:n.next}}function yr(e,t,n,s,i,r){gr(n,s,e.node.child,t,i,r,!1)}function br(e,t,n,s,i,r){const o=n[16],a=o[6].projection[s.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)tr(t,e,i,a[l],r);else gr(e,t,a,o[3],i,r,!0)}function _r(e,t,n){Ot(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function vr(e,t,n){Ot(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}class wr{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const e=this._lView;return null==e[0]?function e(t,n,s,i,r=!1){for(;null!==s;){const o=n[s.index];if(null!==o&&i.push(Pt(o)),gt(o))for(let t=ft;t<o.length;t++){const n=o[t],s=n[1].firstChild;null!==s&&e(n[1],n,s,i)}const a=s.type;if(4===a||5===a)e(t,n,s.child,i);else if(1===a){const t=n[16],r=t[6].projection[s.projection];if(Array.isArray(r))i.push(...r);else{const n=ei(t);e(n[1],n,r,i,!0)}}s=r?s.projectionNext:s.next}return i}(e[1],e,e[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}rr(this._lView[1],this._lView)}onDestroy(e){Ci(this._lView[1],this._lView,null,e)}markForCheck(){Ui(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){qi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Jt(!0);try{qi(e,t,n)}finally{Jt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){var e;this._appRef=null,yr(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class kr extends wr{constructor(e){super(e),this._view=e}detectChanges(){Wi(this._view)}checkNoChanges(){!function(e){Jt(!0);try{Wi(e)}finally{Jt(!1)}}(this._view)}get context(){return null}}let Sr,xr,Cr;function Er(e,t,n){return Sr||(Sr=class extends e{}),new Sr(Mt(t,n))}function Tr(e,t,n,s){return xr||(xr=class extends e{constructor(e,t,n){super(),this._declarationView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=fi(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];const s=this._declarationView[19];return null!==s&&(n[19]=s.createEmbeddedView(t)),gi(t,n,e),new wr(n)}}),0===n.type?new xr(s,n,Er(t,n,s)):null}function Ar(e,t,n,s){let i;Cr||(Cr=class extends e{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostView=n}get element(){return Er(t,this._hostTNode,this._hostView)}get injector(){return new Jn(this._hostTNode,this._hostView)}get parentInjector(){const e=Vn(this._hostTNode,this._hostView),t=Rn(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){const e=n.parent.injectorIndex;let t=n.parent;for(;null!=t.parent&&e==t.parent.injectorIndex;)t=t.parent;return t}let s=Pn(e),i=t,r=t[6];for(;s>1;)i=i[15],r=i[6],s--;return r}(e,this._hostView,this._hostTNode);return On(e)&&null!=n?new Jn(n,t):new Jn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(e,t,n){const s=e.createEmbeddedView(t||{});return this.insert(s,n),s}createComponent(e,t,n,s,i){const r=n||this.parentInjector;if(!i&&null==e.ngModule&&r){const e=r.get(Ue,null);e&&(i=e)}const o=e.create(r,s,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,s=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),gt(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],s=new Cr(t,t[6],t[3]);s.detach(s.indexOf(e))}}const i=this._adjustIndex(t);return function(e,t,n,s){const i=ft+s,r=n.length;s>0&&(n[i-1][4]=t),s<r-ft?(t[4]=n[i],We(n,ft+s,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(s,n,this._lContainer,i),nr(s,n,!0,mr(i,this._lContainer)),e.attachToViewContainerRef(this),We(this._lContainer[8],i,e),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}indexOf(e){const t=this._lContainer[8];return null!==t?t.indexOf(e):-1}remove(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1),n=ir(this._lContainer,t);n&&(Ke(this._lContainer[8],t),rr(n[1],n))}detach(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1),n=ir(this._lContainer,t);return n&&null!=Ke(this._lContainer[8],t)?new wr(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const r=s[n.index];if(gt(r))i=r;else{let e;if(4===n.type)e=Pt(r);else if(e=s[11].createComment(""),wt(s)){const t=s[11],i=Mt(n,s);cr(t,dr(t,i),e,function(e,t){return Ot(e)?e.nextSibling(t):t.nextSibling}(t,i))}else fr(s[1],s,e,n);s[n.index]=i=Bi(r,s,e,n),Vi(s,i)}return new Cr(i,n,s)}const Or=new Oe("Set Injector scope."),Ir={},Pr={},Rr=[];let Mr=void 0;function Fr(){return void 0===Mr&&(Mr=new Ve),Mr}function Dr(e,t=null,n=null,s){return new Nr(e,n,t||Fr(),s)}class Nr{constructor(e,t,n,s=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&qe(t,n=>this.processProvider(n,e,t)),qe([e],e=>this.processInjectorType(e,[],i)),this.records.set(Ie,jr(void 0,this));const r=this.records.get(Or);this.scope=null!=r?r.value:null,this.source=s||("object"==typeof e?null:de(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Pe,n=ee.Default){this.assertNotDestroyed();const s=Le(this);try{if(!(n&ee.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof Oe)&&ie(e);t=n&&this.injectableDefInScope(n)?jr(Lr(e),Ir):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&ee.Self?Fr():this.parent).get(e,t=n&ee.Optional&&t===Pe?null:t)}catch(r){if("NullInjectorError"===r.name){if((r.ngTempTokenPath=r.ngTempTokenPath||[]).unshift(de(e)),s)throw r;return function(e,t,n,s){const i=e.ngTempTokenPath;throw t[Me]&&i.unshift(t[Me]),e.message=function(e,t,n,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=de(t);if(Array.isArray(t))i=t.map(de).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let s=t[n];e.push(n+":"+("string"==typeof s?JSON.stringify(s):de(s)))}i=`{${e.join(", ")}}`}return`${n}${s?"("+s+")":""}[${i}]: ${e.replace(Re,"\n  ")}`}("\n"+e.message,i,n,s),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(r,e,"R3InjectorError",this.source)}throw r}finally{Le(s)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(de(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=ge(e)))return!1;let s=oe(e);const i=null==s&&e.ngModule||void 0,r=void 0===i?e:i,o=-1!==n.indexOf(r);if(void 0!==i&&(s=oe(i)),null==s)return!1;if(null!=s.imports&&!o){let e;n.push(r);try{qe(s.imports,s=>{this.processInjectorType(s,t,n)&&(void 0===e&&(e=[]),e.push(s))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:s}=e[t];qe(s,e=>this.processProvider(e,n,s||Rr))}}this.injectorDefTypes.add(r),this.records.set(r,jr(s.factory,Ir));const a=s.providers;if(null!=a&&!o){const t=e;qe(a,e=>this.processProvider(e,t,a))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let s=Br(e=ge(e))?e:ge(e&&e.provide);const i=function(e,t,n){return Hr(e)?jr(void 0,e.useValue):jr(function(e,t,n){let s=void 0;if(Br(e)){const t=ge(e);return ht(t)||Lr(t)}if(Hr(e))s=()=>ge(e.useValue);else if((i=e)&&i.useFactory)s=()=>e.useFactory(...ze(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))s=()=>Be(ge(e.useExisting));else{const i=ge(e&&(e.useClass||e.provide));if(i||function(e,t,n){let s="";throw e&&t&&(s=` - only instances of Provider and Type are allowed, got: [${t.map(e=>e==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${de(e)}'`+s)}(t,n,e),!function(e){return!!e.deps}(e))return ht(i)||Lr(i);s=()=>new i(...ze(e.deps))}var i;return s}(e,t,n),Ir)}(e,t,n);if(Br(e)||!0!==e.multi){const e=this.records.get(s);e&&void 0!==e.multi&&Bs()}else{let t=this.records.get(s);t?void 0===t.multi&&Bs():(t=jr(void 0,Ir,!0),t.factory=()=>ze(t.multi),this.records.set(s,t)),s=e,t.multi.push(e)}this.records.set(s,i)}hydrate(e,t){var n;return t.value===Pr?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(de(e)):t.value===Ir&&(t.value=Pr,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function Lr(e){const t=ie(e),n=null!==t?t.factory:ht(e);if(null!==n)return n;const s=oe(e);if(null!==s)return s.factory;if(e instanceof Oe)throw new Error(`Token ${de(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=Ze(t,"?");throw new Error(`Can't resolve all parameters for ${de(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[ae]||e[ue]||e[ce]&&e[ce]());if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function jr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Hr(e){return null!==e&&"object"==typeof e&&Fe in e}function Br(e){return"function"==typeof e}const $r=function(e,t,n){return function(e,t=null,n=null,s){const i=Dr(e,t,n,s);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};let zr=(()=>{class e{static create(e,t){return Array.isArray(e)?$r(e,t,""):$r(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Pe,e.NULL=new Ve,e.\u0275prov=ne({token:e,providedIn:"any",factory:()=>Be(Ie)}),e.__NG_ELEMENT_ID__=-1,e})();function Vr(e,t,n){let s=n?e.styles:null,i=n?e.classes:null,r=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?r=e:1==r?i=pe(i,e):2==r&&(s=pe(s,e+": "+t[++o]+";"))}n?e.styles=s:e.stylesWithoutHost=s,n?e.classes=i:e.classesWithoutHost=i}let Ur=null;function qr(){if(!Ur){const e=we.Symbol;if(e&&e.iterator)Ur=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ur=n)}}}return Ur}class Wr{constructor(e){this.wrapped=e}static wrap(e){return new Wr(e)}static unwrap(e){return Wr.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Wr}}function Kr(e){return!!Zr(e)&&(Array.isArray(e)||!(e instanceof Map)&&qr()in e)}function Zr(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Gr(e,t,n){return e[t]=n}function Qr(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Yr(e,t,n,s){const i=Qr(e,t,n);return Qr(e,t+1,s)||i}function Jr(e,t,n,s){const i=Ut();return Qr(i,tn(),t)&&(qt(),function(e,t,n,s,i,r){const o=Mt(e,t),a=t[11];if(null==s)Ot(a)?a.removeAttribute(o,n,r):o.removeAttribute(n);else{const t=null==i?Mn(s):i(s,e.tagName||"",n);Ot(a)?a.setAttribute(o,n,t,r):r?o.setAttributeNS(r,n,t):o.setAttribute(n,t)}}(yn(),i,e,t,n,s)),Jr}function Xr(e,t,n,s,i,r,o,a){const l=Ut(),c=qt(),u=e+pt,h=c.firstCreatePass?function(e,t,n,s,i,r,o,a,l){const c=t.consts,u=mi(t,n[6],e,0,o||null,Ht(c,a));Ai(t,n,u,Ht(c,l)),bn(t,u);const h=u.tViews=xi(2,-1,s,i,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),d=Ei(0,null,2,-1,null,null);return d.injectorIndex=u.injectorIndex,h.node=d,null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(e,c,l,t,n,s,i,r,o):c.data[u];Zt(h,!1);const d=l[11].createComment("");fr(c,l,d,h),js(d,l),Vi(l,l[u]=Bi(d,l,d,h)),_t(h)&&wi(c,l,h),null!=o&&ki(l,h,a)}function eo(e,t=ee.Default){const n=Ut();return null==n?Be(e,t):qn(Kt(),n,ge(e),t)}function to(e,t,n){const s=Ut();return Qr(s,tn(),t)&&function(e,t,n,s,i,r,o,a){const l=Mt(t,n);let c,u=t.inputs;var h;null!=u&&(c=u[s])?(Yi(e,n,c,s,i),bt(t)&&function(e,t){const n=Dt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(s="class"===(h=s)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,t.tagName||"",s):i,Ot(r)?r.setProperty(l,s,i):En(s)||(l.setProperty?l.setProperty(s,i):l[s]=i))}(qt(),yn(),s,e,t,s[11],n),to}function no(e,t,n,s,i){const r=i?"class":"style";Yi(e,n,t.inputs[r],r,s)}function so(e,t,n,s){const i=Ut(),r=qt(),o=pt+e,a=i[11],l=i[o]=pi(t,a,zt.lFrame.currentNamespace),c=r.firstCreatePass?function(e,t,n,s,i,r,o){const a=t.consts,l=Ht(a,r),c=mi(t,n[6],e,3,i,l);return Ai(t,n,c,Ht(a,o)),null!==c.attrs&&Vr(c,c.attrs,!1),null!==c.mergedAttrs&&Vr(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(e,r,i,0,t,n,s):r.data[o];Zt(c,!0);const u=c.mergedAttrs;null!==u&&Cn(a,l,u);const h=c.classes;null!==h&&vr(a,l,h);const d=c.styles;null!==d&&_r(a,l,d),fr(r,i,l,c),0===zt.lFrame.elementDepthCount&&js(l,i),zt.lFrame.elementDepthCount++,_t(c)&&(wi(r,i,c),vi(r,c,i)),null!==s&&ki(i,c)}function io(){let e=Kt();Gt()?Qt():(e=e.parent,Zt(e,!1));const t=e;zt.lFrame.elementDepthCount--;const n=qt();n.firstCreatePass&&(bn(n,e),yt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&no(n,t,Ut(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&no(n,t,Ut(),t.stylesWithoutHost,!1)}function ro(e,t,n,s){so(e,t,n,s),io()}function oo(){return Ut()}function ao(e){return!!e&&"function"==typeof e.then}function lo(e,t,n=!1,s){const i=Ut(),r=qt(),o=Kt();return function(e,t,n,s,i,r,o=!1,a){const l=_t(s),c=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),u=Gi(t);let h=!0;if(3===s.type){const d=Mt(s,t),p=a?a(d):et,f=p.target||d,m=u.length,g=a?e=>a(Pt(e[s.index])).target:s.index;if(Ot(n)){let o=null;if(!a&&l&&(o=function(e,t,n,s){const i=e.cleanup;if(null!=i)for(let r=0;r<i.length-1;r+=2){const e=i[r];if(e===n&&i[r+1]===s){const e=t[7],n=i[r+2];return e.length>n?e[n]:null}"string"==typeof e&&(r+=2)}return null}(e,t,i,s.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=r,o.__ngLastListenerFn__=r,h=!1;else{r=uo(s,t,r,!1);const e=n.listen(p.name||f,i,r);u.push(r,e),c&&c.push(i,g,m,m+1)}}else r=uo(s,t,r,!0),f.addEventListener(i,r,o),u.push(r),c&&c.push(i,g,m,o)}const d=s.outputs;let p;if(h&&null!==d&&(p=d[i])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(r),o=u.length;u.push(r,e),c&&c.push(i,s.index,o,-(o+1))}}}(r,i,i[11],o,e,t,n,s),lo}function co(e,t,n){try{return!1!==t(n)}catch(s){return Qi(e,s),!1}}function uo(e,t,n,s){return function i(r){if(r===Function)return n;const o=2&e.flags?Dt(e.index,t):t;0==(32&t[2])&&Ui(o);let a=co(t,n,r),l=i.__ngNextListenerFn__;for(;l;)a=co(t,l,r)&&a,l=l.__ngNextListenerFn__;return s&&!1===a&&(r.preventDefault(),r.returnValue=!1),a}}function ho(e=1){return function(e){return(zt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,zt.lFrame.contextLView))[8]}(e)}function po(e,t){let n=null;const s=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const r=t[i];if("*"!==r){if(null===s?Gs(e,r,!0):Qs(s,r))return i}else n=i}return n}function fo(e){const t=Ut()[16][6];if(!t.projection){const n=t.projection=Ze(e?e.length:1,null),s=n.slice();let i=t.child;for(;null!==i;){const t=e?po(i,e):0;null!==t&&(s[t]?s[t].projectionNext=i:n[t]=i,s[t]=i),i=i.next}}}function mo(e,t=0,n){const s=Ut(),i=qt(),r=mi(i,s[6],e,1,null,n||null);null===r.projection&&(r.projection=t),Qt(),function(e,t,n){br(t[11],0,t,n,lr(e,n,t),pr(n.parent||t[6],t))}(i,s,r)}const go=[];function yo(e,t,n,s,i){const r=e[n+1],o=null===t;let a=s?ai(r):ci(r),l=!1;for(;0!==a&&(!1===l||o);){const n=e[a+1];bo(e[a],t)&&(l=!0,e[a+1]=s?hi(n):li(n)),a=s?ai(n):ci(n)}l&&(e[n+1]=s?li(r):hi(r))}function bo(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ye(e,t)>=0}const _o={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vo(e){return e.substring(_o.key,_o.keyEnd)}function wo(e,t){const n=_o.textEnd;return n===t?-1:(t=_o.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,_o.key=t,n),ko(e,t,n))}function ko(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function So(e,t){return function(e,t,n,s){const i=Ut(),r=qt(),o=nn(2);r.firstUpdatePass&&To(r,e,o,true),t!==Xs&&Qr(i,o,t)&&Io(r,r.data[mn()+pt],i,i[11],e,i[o+1]=function(e,t){return null==e||"object"==typeof e&&(e=de(cs(e))),e}(t),true,o)}(e,t),So}function xo(e){!function(e,t,n,s){const i=qt(),r=nn(2);i.firstUpdatePass&&To(i,null,r,s);const o=Ut();if(n!==Xs&&Qr(o,r,n)){const a=i.data[mn()+pt];if(Mo(a,s)&&!Eo(i,r)){let e=a.classesWithoutHost;null!==e&&(n=pe(e,n||"")),no(i,a,o,n,s)}else!function(e,t,n,s,i,r,o,a){i===Xs&&(i=go);let l=0,c=0,u=0<i.length?i[0]:null,h=0<r.length?r[0]:null;for(;null!==u||null!==h;){const o=l<i.length?i[l+1]:void 0,d=c<r.length?r[c+1]:void 0;let p=null,f=void 0;u===h?(l+=2,c+=2,o!==d&&(p=h,f=d)):null===h||null!==u&&u<h?(l+=2,p=u):(c+=2,p=h,f=d),null!==p&&Io(e,t,n,s,p,f,true,a),u=l<i.length?i[l]:null,h=c<r.length?r[c]:null}}(i,a,o,o[11],o[r+1],o[r+1]=function(e,t,n){if(null==n||""===n)return go;const s=[],i=cs(n);if(Array.isArray(i))for(let r=0;r<i.length;r++)e(s,i[r],!0);else if("object"==typeof i)for(const r in i)i.hasOwnProperty(r)&&e(s,r,i[r]);else"string"==typeof i&&t(s,i);return s}(e,t,n),0,r)}}(Ge,Co,e,!0)}function Co(e,t){for(let n=function(e){return function(e){_o.key=0,_o.keyEnd=0,_o.value=0,_o.valueEnd=0,_o.textEnd=e.length}(e),wo(e,ko(e,0,_o.textEnd))}(t);n>=0;n=wo(t,n))Ge(e,vo(t),!0)}function Eo(e,t){return t>=e.expandoStartIndex}function To(e,t,n,s){const i=e.data;if(null===i[n+1]){const r=i[mn()+pt],o=Eo(e,n);Mo(r,s)&&null===t&&!o&&(t=!1),t=function(e,t,n,s){const i=function(e){const t=zt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let r=s?t.residualClasses:t.residualStyles;if(null===i)0===(s?t.classBindings:t.styleBindings)&&(n=Oo(n=Ao(null,e,t,n,s),t.attrs,s),r=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=Ao(i,e,t,n,s),null===r){let n=function(e,t,n){const s=n?t.classBindings:t.styleBindings;if(0!==ci(s))return e[ai(s)]}(e,t,s);void 0!==n&&Array.isArray(n)&&(n=Ao(null,e,t,n[1],s),n=Oo(n,t.attrs,s),function(e,t,n,s){e[ai(n?t.classBindings:t.styleBindings)]=s}(e,t,s,n))}else r=function(e,t,n){let s=void 0;const i=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<i;r++)s=Oo(s,e[r].hostAttrs,n);return Oo(s,t.attrs,n)}(e,t,s)}return void 0!==r&&(s?t.residualClasses=r:t.residualStyles=r),n}(i,r,t,s),function(e,t,n,s,i,r){let o=r?t.classBindings:t.styleBindings,a=ai(o),l=ci(o);e[s]=n;let c,u=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||Ye(e,c)>0)&&(u=!0)}else c=n;if(i)if(0!==l){const t=ai(e[a+1]);e[s+1]=oi(t,a),0!==t&&(e[t+1]=ui(e[t+1],s)),e[a+1]=131071&e[a+1]|s<<17}else e[s+1]=oi(a,0),0!==a&&(e[a+1]=ui(e[a+1],s)),a=s;else e[s+1]=oi(l,0),0===a?a=s:e[l+1]=ui(e[l+1],s),l=s;u&&(e[s+1]=li(e[s+1])),yo(e,c,s,!0),yo(e,c,s,!1),function(e,t,n,s,i){const r=i?e.residualClasses:e.residualStyles;null!=r&&"string"==typeof t&&Ye(r,t)>=0&&(n[s+1]=hi(n[s+1]))}(t,c,e,s,r),o=oi(a,l),r?t.classBindings=o:t.styleBindings=o}(i,r,t,n,o,s)}}function Ao(e,t,n,s,i){let r=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(r=t[a],s=Oo(s,r.hostAttrs,i),r!==e);)a++;return null!==e&&(n.directiveStylingLast=a),s}function Oo(e,t,n){const s=n?1:2;let i=-1;if(null!==t)for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?i=o:i===s&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ge(e,o,!!n||t[++r]))}return void 0===e?null:e}function Io(e,t,n,s,i,r,o,a){if(3!==t.type)return;const l=e.data,c=l[a+1];Ro(1==(1&c)?Po(l,t,n,i,ci(c),o):void 0)||(Ro(r)||2==(2&c)&&(r=Po(l,null,n,i,a,o)),function(e,t,n,s,i){const r=Ot(e);if(t)i?r?e.addClass(n,s):n.classList.add(s):r?e.removeClass(n,s):n.classList.remove(s);else{const t=-1==s.indexOf("-")?void 0:2;null==i?r?e.removeStyle(n,s,t):n.style.removeProperty(s):r?e.setStyle(n,s,i,t):n.style.setProperty(s,i)}}(s,o,Rt(mn(),n),i,r))}function Po(e,t,n,s,i,r){const o=null===t;let a=void 0;for(;i>0;){const t=e[i],r=Array.isArray(t),l=r?t[1]:t,c=null===l;let u=n[i+1];u===Xs&&(u=c?go:void 0);let h=c?Qe(u,s):l===s?u:void 0;if(r&&!Ro(h)&&(h=Qe(t,s)),Ro(h)&&(a=h,o))return a;const d=e[i+1];i=o?ai(d):ci(d)}if(null!==t){let e=r?t.residualClasses:t.residualStyles;null!=e&&(a=Qe(e,s))}return a}function Ro(e){return void 0!==e}function Mo(e,t){return 0!=(e.flags&(t?16:32))}function Fo(e,t=""){const n=Ut(),s=qt(),i=e+pt,r=s.firstCreatePass?mi(s,n[6],e,3,null,null):s.data[i],o=n[i]=function(e,t){return Ot(t)?t.createText(e):t.createTextNode(e)}(t,n[11]);fr(s,n,o,r),Zt(r,!1)}function Do(e){return No("",e,""),Do}function No(e,t,n){const s=Ut(),i=function(e,t,n,s){return Qr(e,tn(),n)?t+Mn(n)+s:Xs}(s,e,t,n);return i!==Xs&&Ji(s,mn(),i),No}function Lo(e,t,n,s,i){const r=Ut(),o=function(e,t,n,s,i,r){const o=Yr(e,en(),n,i);return nn(2),o?t+Mn(n)+s+Mn(i)+r:Xs}(r,e,t,n,s,i);return o!==Xs&&Ji(r,mn(),o),Lo}function jo(e,t){const n=Nt(e)[1],s=n.data.length-1;bn(n,{directiveStart:s,directiveEnd:s+1})}class Ho{}class Bo{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${de(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let $o=(()=>{class e{}return e.NULL=new Bo,e})(),zo=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>Vo(e),e})();const Vo=function(e){return Er(e,Kt(),Ut())};class Uo{}var qo=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});let Wo=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Ko(),e})();const Ko=function(){const e=Ut(),t=Dt(Kt().index,e);return function(e){const t=e[11];if(Ot(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(mt(t)?t:e)};let Zo=(()=>{class e{}return e.\u0275prov=ne({token:e,providedIn:"root",factory:()=>null}),e})();class Go{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Qo=new Go("10.0.10");class Yo{constructor(){}supports(e){return Kr(e)}create(e){return new Xo(e)}}const Jo=(e,t)=>t;class Xo{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Jo}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,s=0,i=null;for(;t||n;){const r=!n||t&&t.currentIndex<sa(n,s,i)?t:n,o=sa(r,s,i),a=r.currentIndex;if(r===n)s--,n=n._nextRemoved;else if(t=t._next,null==r.previousIndex)s++;else{i||(i=[]);const e=o-s,t=a-s;if(e!=t){for(let n=0;n<e;n++){const s=n<i.length?i[n]:i[n]=0,r=s+n;t<=r&&r<e&&(i[n]=s+1)}i[r.previousIndex]=t-e}}o!==a&&e(r,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Kr(e))throw new Error(`Error trying to diff '${de(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,s,i=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],s=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,s)?(r&&(i=this._verifyReinsertion(i,n,s,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,s,t),r=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[qr()]();let s;for(;!(s=n.next()).done;)t(s.value)}}(e,e=>{s=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,s)?(r&&(i=this._verifyReinsertion(i,e,s,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,s,t),r=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,s){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,s))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,s)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,s)):e=this._addAfter(new ea(t,n),i,s),e}_verifyReinsertion(e,t,n,s){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,s):e.currentIndex!=s&&(e.currentIndex=s,this._addToMoves(e,s)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const s=e._prevRemoved,i=e._nextRemoved;return null===s?this._removalsHead=i:s._nextRemoved=i,null===i?this._removalsTail=s:i._prevRemoved=s,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const s=null===t?this._itHead:t._next;return e._next=s,e._prev=t,null===s?this._itTail=e:s._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new na),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new na),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class ea{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ta{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class na{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new ta,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sa(e,t,n){const s=e.previousIndex;if(null===s)return s;let i=0;return n&&s<n.length&&(i=n[s]),s+t+i}class ia{constructor(){}supports(e){return e instanceof Map||Zr(e)}create(){return new ra}}class ra{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Zr(e)))throw new Error(`Error trying to diff '${de(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const s=n._prev,i=n._next;return s&&(s._next=i),i&&(i._prev=s),n._next=null,n._prev=null,n}const n=new oa(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class oa{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let aa=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new X,new Y]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=ne({token:e,providedIn:"root",factory:()=>new e([new Yo])}),e})(),la=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new X,new Y]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=ne({token:e,providedIn:"root",factory:()=>new e([new ia])}),e})();const ca=[new ia],ua=new aa([new Yo]),ha=new la(ca);let da=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>pa(e,zo),e})();const pa=function(e,t){return Tr(e,t,Kt(),Ut())};let fa=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>ma(e,zo),e})();const ma=function(e,t){return Ar(e,t,Kt(),Ut())},ga={};class ya extends $o{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ut(e);return new va(t,this.ngModule)}}function ba(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const _a=new Oe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Dn});class va extends Ho{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(Js).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return ba(this.componentDef.inputs)}get outputs(){return ba(this.componentDef.outputs)}create(e,t,n,s){const i=(s=s||this.ngModule)?function(e,t){return{get:(n,s,i)=>{const r=e.get(n,ga,i);return r!==ga||s===ga?r:t.get(n,s,i)}}}(e,s.injector):e,r=i.get(Uo,It),o=i.get(Zo,null),a=r.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(e,t,n){if(Ot(e))return e.selectRootElement(t,n===Xe.ShadowDom);let s="string"==typeof t?e.querySelector(t):t;return s.textContent="",s}(a,n,this.componentDef.encapsulation):pi(l,r.createRenderer(null,this.componentDef),function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:Dn,clean:Zi,playerHandler:null,flags:0},d=xi(0,-1,null,1,0,null,null,null,null,null),p=fi(null,d,h,u,null,null,r,a,o,i);let f,m;cn(p,null);try{const e=function(e,t,n,s,i,r){const o=n[1];n[20]=e;const a=mi(o,null,0,3,null,null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(Vr(a,l,!0),null!==e&&(Cn(i,e,l),null!==a.classes&&vr(i,e,a.classes),null!==a.styles&&_r(i,e,a.styles)));const c=s.createRenderer(e,t),u=fi(n,Si(t),null,t.onPush?64:16,n[20],a,s,c,void 0);return o.firstCreatePass&&(Un(Bn(a,n),o,t.type),Mi(o,a),Di(a,n.length,1)),Vi(n,u),n[20]=u}(c,this.componentDef,p,r,a);if(c)if(n)Cn(a,c,["ng-version",Qo.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let s=1,i=2;for(;s<e.length;){let r=e[s];if("string"==typeof r)2===i?""!==r&&t.push(r,e[++s]):8===i&&n.push(r);else{if(!Ks(i))break;i=r}s++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Cn(a,c,e),t&&t.length>0&&vr(a,c,t.join(" "))}if(m=Ft(d,0),void 0!==t){const e=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const s=t[n];e.push(null!=s?Array.from(s):null)}}f=function(e,t,n,s,i){const r=n[1],o=function(e,t,n){const s=Kt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ri(e,s,1),Ni(e,t,n));const i=Gn(t,e,t.length-1,s);js(i,t);const r=Mt(s,t);return r&&js(r,t),i}(r,n,t);s.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries&&t.contentQueries(1,o,n.length-1);const a=Kt();if(r.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){gn(a.index-pt);const e=n[1];Oi(e,t),Ii(e,n,t.hostVars),Pi(t,o)}return o}(e,this.componentDef,p,h,[jo]),gi(d,p,null)}finally{fn()}const g=new wa(this.componentType,f,Er(zo,m,p),p,m);return d.node.child=m,g}}class wa extends class{}{constructor(e,t,n,s,i){super(),this.location=n,this._rootLView=s,this._tNode=i,this.destroyCbs=[],this.instance=t,this.hostView=this.changeDetectorRef=new kr(s),function(e,t,n,s){let i=e.node;null==i&&(e.node=i=Ei(0,null,2,-1,null,null)),s[6]=i}(s[1],0,0,s),this.componentType=e}get injector(){return new Jn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(e=>e()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(e){this.destroyCbs&&this.destroyCbs.push(e)}}const ka=void 0;var Sa=["en",[["a","p"],["AM","PM"],ka],[["AM","PM"],ka,ka],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ka,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ka,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ka,"{1} 'at' {0}",ka],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let xa={};function Ca(e){return e in xa||(xa[e]=we.ng&&we.ng.common&&we.ng.common.locales&&we.ng.common.locales[e]),xa[e]}var Ea=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});const Ta="en-US";let Aa=Ta;function Oa(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,s){throw new Error("ASSERTION ERROR: "+e+` [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(Aa=e.toLowerCase().replace(/_/g,"-"))}const Ia=new Map;class Pa extends Ue{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ya(this);const n=dt(e),s=e[Ee]||null;s&&Oa(s),this._bootstrapComponents=Nn(n.bootstrap),this._r3Injector=Dr(e,t,[{provide:Ue,useValue:this},{provide:$o,useValue:this.componentFactoryResolver}],de(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=zr.THROW_IF_NOT_FOUND,n=ee.Default){return e===zr||e===Ue||e===Ie?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ra extends class{}{constructor(e){super(),this.moduleType=e,null!==dt(e)&&function e(t){if(null!==t.\u0275mod.id){const e=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${de(t)} vs ${de(t.name)}`)})(e,Ia.get(e),t),Ia.set(e,t)}let n=t.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(t=>e(t))}(e)}create(e){return new Pa(this.moduleType,e)}}function Ma(e,t,n){const s=Xt()+e,i=Ut();return i[s]===Xs?Gr(i,s,n?t.call(n):t()):function(e,t){return e[t]}(i,s)}function Fa(e,t){const n=e[t];return n===Xs?void 0:n}function Da(e,t){const n=qt();let s;const i=e+pt;n.firstCreatePass?(s=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const s=t[n];if(e===s.name)return s}throw new Error(`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=s,s.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,s.onDestroy)):s=n.data[i];const r=s.factory||(s.factory=ht(s.type)),o=je(eo),a=jn(!1),l=r();return jn(a),je(o),function(e,t,n,s){const i=n+pt;i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=s}(n,Ut(),e,l),l}function Na(e,t,n){const s=Ut(),i=function(e,t){return e[t+pt]}(s,e);return function(e,t){return Wr.isWrapped(t)&&(t=Wr.unwrap(t),e[en()]=Xs),t}(s,function(e,t){return e[1].data[t+pt].pure}(s,e)?function(e,t,n,s,i,r){const o=t+n;return Qr(e,o,i)?Gr(e,o+1,r?s.call(r,i):s(i)):Fa(e,o+1)}(s,Xt(),t,i.transform,n,i):i.transform(n))}const La=class extends S{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let s,i=e=>null,r=()=>null;e&&"object"==typeof e?(s=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(i=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(r=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(r=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(s,i,r);return e instanceof h&&e.add(o),o}};function ja(){return this._results[qr()]()}class Ha{constructor(){this.dirty=!0,this._results=[],this.changes=new La,this.length=0;const e=qr(),t=Ha.prototype;t[e]||(t[e]=ja)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let i=t[s];Array.isArray(i)?(n===t&&(n=t.slice(0,s)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ba{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ba(this.queryList)}setDirty(){this.queryList.setDirty()}}class $a{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,s=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);s.push(this.queries[n.indexInDeclarationView].clone())}return new $a(s)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Za(e,t).matches&&this.queries[t].setDirty()}}class za{constructor(e,t,n,s=null){this.predicate=e,this.descendants=t,this.isStatic=n,this.read=s}}class Va{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const s=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,s);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new Va(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Ua{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Ua(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let s=0;s<n.length;s++){const i=n[s];this.matchTNodeWithReadOption(e,t,qa(t,i)),this.matchTNodeWithReadOption(e,t,Zn(t,e,i,!1,!1))}else n===da?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Zn(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const s=this.metadata.read;if(null!==s)if(s===zo||s===fa||s===da&&0===t.type)this.addMatch(t.index,-2);else{const n=Zn(t,e,s,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function qa(e,t){const n=e.localNames;if(null!==n)for(let s=0;s<n.length;s+=2)if(n[s]===t)return n[s+1];return null}function Wa(e,t,n,s){return-1===n?function(e,t){return 3===e.type||4===e.type?Er(zo,e,t):0===e.type?Tr(da,zo,e,t):null}(t,e):-2===n?function(e,t,n){return n===zo?Er(zo,t,e):n===da?Tr(da,zo,t,e):n===fa?Ar(fa,zo,t,e):void 0}(e,t,s):Gn(e,e[1],n,t)}function Ka(e,t,n,s){const i=t[19].queries[s];if(null===i.matches){const s=e.data,r=n.matches,o=[];for(let e=0;e<r.length;e+=2){const i=r[e];o.push(i<0?null:Wa(t,s[i],r[e+1],n.metadata.read))}i.matches=o}return i.matches}function Za(e,t){return e.queries.getByIndex(t)}const Ga=new Oe("Application Initializer");let Qa=(()=>{class e{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();ao(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Be(Ga,8))},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})();const Ya=new Oe("AppId"),Ja={provide:Ya,useFactory:function(){return`${Xa()}${Xa()}${Xa()}`},deps:[]};function Xa(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const el=new Oe("Platform Initializer"),tl=new Oe("Platform ID"),nl=new Oe("appBootstrapListener");let sl=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})();const il=new Oe("LocaleId"),rl=new Oe("DefaultCurrencyCode");class ol{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const al=function(e){return new Ra(e)},ll=al,cl=function(e){return Promise.resolve(al(e))},ul=function(e){const t=al(e),n=Nn(dt(e).declarations).reduce((e,t)=>{const n=ut(t);return n&&e.push(new va(n)),e},[]);return new ol(t,n)},hl=ul,dl=function(e){return Promise.resolve(ul(e))};let pl=(()=>{class e{constructor(){this.compileModuleSync=ll,this.compileModuleAsync=cl,this.compileModuleAndAllComponentsSync=hl,this.compileModuleAndAllComponentsAsync=dl}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})();const fl=(()=>Promise.resolve(0))();function ml(e){"undefined"==typeof Zone?fl.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class gl{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new La(!1),this.onMicrotaskEmpty=new La(!1),this.onStable=new La(!1),this.onError=new La(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=t,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let e=we.requestAnimationFrame,t=we.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=!!e.shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&(()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(we,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,vl(e),_l(e)},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),vl(e))}(e)});e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:(n,s,i,r,o,a)=>{try{return wl(e),n.invokeTask(i,r,o,a)}finally{t&&"eventTask"===r.type&&t(),kl(e)}},onInvoke:(t,n,s,i,r,o,a)=>{try{return wl(e),t.invoke(s,i,r,o,a)}finally{kl(e)}},onHasTask:(t,n,s,i)=>{t.hasTask(s,i),n===s&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,vl(e),_l(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,s,i)=>(t.handleError(s,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,s){const i=this._inner,r=i.scheduleEventTask("NgZoneEvent: "+s,e,bl,yl,yl);try{return i.runTask(r,t,n)}finally{i.cancelTask(r)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function yl(){}const bl={};function _l(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function vl(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function wl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function kl(e){e._nesting--,_l(e)}class Sl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new La,this.onMicrotaskEmpty=new La,this.onStable=new La,this.onError=new La}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,s){return e.apply(t,n)}}let xl=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gl.assertNotInAngularZone(),ml(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ml(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let s=-1;t&&t>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==s),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(Be(gl))},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})(),Cl=(()=>{class e{constructor(){this._applications=new Map,Al.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Al.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})();class El{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let Tl,Al=new El;const Ol=new Oe("AllowMultipleToken");function Il(e,t,n=[]){const s="Platform: "+t,i=new Oe(s);return(t=[])=>{let r=Pl();if(!r||r.injector.get(Ol,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:Or,useValue:"platform"});!function(e){if(Tl&&!Tl.destroyed&&!Tl.injector.get(Ol,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Tl=e.get(Rl);const t=e.get(el,null);t&&t.forEach(e=>e())}(zr.create({providers:e,name:s}))}return function(e){const t=Pl();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Pl(){return Tl&&!Tl.destroyed?Tl:null}let Rl=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Sl:("zone.js"===e?void 0:e)||new gl({enableLongStackTrace:fs(),shouldCoalesceEventChangeDetection:t}),n}(t?t.ngZone:void 0,t&&t.ngZoneEventCoalescing||!1),s=[{provide:gl,useValue:n}];return n.run(()=>{const t=zr.create({providers:s,parent:this.injector,name:e.moduleType.name}),i=e.create(t),r=i.injector.get(ns,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Dl(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{r.handleError(e)}})),function(e,t,n){try{const s=n();return ao(s)?s.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):s}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}(r,n,()=>{const e=i.injector.get(Qa);return e.runInitializers(),e.donePromise.then(()=>(Oa(i.injector.get(il,Ta)||Ta),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=Ml({},t);return function(e,t,n){const s=new Ra(n);return Promise.resolve(s)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Fl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${de(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Be(zr))},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})();function Ml(e,t){return Array.isArray(t)?t.reduce(Ml,e):Object.assign(Object.assign({},e),t)}let Fl=(()=>{class e{constructor(e,t,n,s,i,r){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=s,this._componentFactoryResolver=i,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=fs(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new b(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new b(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{gl.assertNotInAngularZone(),ml(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{gl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=function(...e){let t=Number.POSITIVE_INFINITY,n=null,s=e[e.length-1];return C(s)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof s&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof b?e[0]:function(e=Number.POSITIVE_INFINITY){return N(y,e)}(t)(H(e,n))}(o,a.pipe(e=>{return B()((t=W,function(e){let n;n="function"==typeof t?t:function(){return t};const s=Object.create(e,U);return s.source=e,s.subjectFactory=n,s})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Ho?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const s=n.isBoundToModule?void 0:this._injector.get(Ue),i=n.create(zr.NULL,[],t||n.selector,s);i.onDestroy(()=>{this._unloadComponent(i)});const r=i.injector.get(xl,null);return r&&i.injector.get(Cl).registerApplication(i.location.nativeElement,r),this._loadComponent(i),fs()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Dl(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(nl,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Dl(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(Be(gl),Be(sl),Be(zr),Be(ns),Be($o),Be(Qa))},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})();function Dl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Nl=Il(null,"core",[{provide:tl,useValue:"unknown"},{provide:Rl,deps:[zr]},{provide:Cl,deps:[]},{provide:sl,deps:[]}]),Ll=[{provide:Fl,useClass:Fl,deps:[gl,sl,zr,ns,$o,Qa]},{provide:_a,deps:[gl],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Qa,useClass:Qa,deps:[[new Y,Ga]]},{provide:pl,useClass:pl,deps:[]},Ja,{provide:aa,useFactory:function(){return ua},deps:[]},{provide:la,useFactory:function(){return ha},deps:[]},{provide:il,useFactory:function(e){return Oa(e=e||"undefined"!=typeof $localize&&$localize.locale||Ta),e},deps:[[new Q(il),new Y,new X]]},{provide:rl,useValue:"USD"}];let jl=(()=>{class e{constructor(e){}}return e.\u0275mod=at({type:e}),e.\u0275inj=se({factory:function(t){return new(t||e)(Be(Fl))},providers:Ll}),e})(),Hl=null;function Bl(){return Hl}const $l=new Oe("DocumentToken");var zl=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({});class Vl{}let Ul=(()=>{class e extends Vl{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(function(e){return function(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Ca(t);if(n)return n;const s=t.split("-")[0];if(n=Ca(s),n)return n;if("en"===s)return Sa;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[Ea.PluralCase]}(t||this.locale)(e)){case zl.Zero:return"zero";case zl.One:return"one";case zl.Two:return"two";case zl.Few:return"few";case zl.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(Be(il))},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})(),ql=(()=>{class e{constructor(e,t,n,s){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Kr(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+de(e.item));this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(eo(aa),eo(la),eo(zo),eo(Wo))},e.\u0275dir=ct({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class Wl{constructor(e,t,n,s){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Kl=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){fs()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,s)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Wl(null,this._ngForOf,-1,-1),null===s?void 0:s),i=new Zl(e,n);t.push(i)}else if(null==s)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,s);const r=new Zl(e,i);t.push(r)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,s=this._viewContainer.length;n<s;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=s,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(eo(fa),eo(da),eo(aa))},e.\u0275dir=ct({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class Zl{constructor(e,t){this.record=e,this.view=t}}let Gl=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new Ql,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Yl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Yl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(eo(fa),eo(da))},e.\u0275dir=ct({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class Ql{constructor(){this.$implicit=null,this.ngIf=null}}function Yl(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${de(t)}'.`)}let Jl=(()=>{class e{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[n,s]=e.split(".");null!=(t=null!=t&&s?`${t}${s}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(eo(zo),eo(la),eo(Wo))},e.\u0275dir=ct({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),Xl=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){for(let e of n)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}return e.\u0275fac=function(t){return new(t||e)(eo(fa))},e.\u0275dir=ct({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[St]}),e})(),ec=(()=>{class e{}return e.\u0275mod=at({type:e}),e.\u0275inj=se({factory:function(t){return new(t||e)},providers:[{provide:Vl,useClass:Ul}]}),e})();function tc(e){return"browser"===e}class nc extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var e;e=new nc,Hl||(Hl=e)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=ic||(ic=document.querySelector("base"),ic)?ic.getAttribute("href"):null;return null==t?null:(n=t,sc||(sc=document.createElement("a")),sc.setAttribute("href",n),"/"===sc.pathname.charAt(0)?sc.pathname:"/"+sc.pathname);var n}resetBaseElement(){ic=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[s,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(s.trim()===t)return decodeURIComponent(i)}return null}(document.cookie,e)}}let sc,ic=null;const rc=new Oe("TRANSITION_ID"),oc=[{provide:Ga,useFactory:function(e,t,n){return()=>{n.get(Qa).donePromise.then(()=>{const n=Bl();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[rc,$l,zr],multi:!0}];class ac{static init(){var e;e=new ac,Al=e}addToWindow(e){we.getAngularTestability=(t,n=!0)=>{const s=e.findTestabilityInTree(t,n);if(null==s)throw new Error("Could not find testability for element.");return s},we.getAllAngularTestabilities=()=>e.getAllTestabilities(),we.getAllAngularRootElements=()=>e.getAllRootElements(),we.frameworkStabilizers||(we.frameworkStabilizers=[]),we.frameworkStabilizers.push(e=>{const t=we.getAllAngularTestabilities();let n=t.length,s=!1;const i=function(t){s=s||t,n--,0==n&&e(s)};t.forEach((function(e){e.whenStable(i)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:n?Bl().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}const lc=new Oe("EventManagerPlugins");let cc=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let s=0;s<n.length;s++){const t=n[s];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}return e.\u0275fac=function(t){return new(t||e)(Be(lc),Be(gl))},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})();class uc{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const s=Bl().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,n)}}let hc=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})(),dc=(()=>{class e extends hc{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>Bl().remove(e))}}return e.\u0275fac=function(t){return new(t||e)(Be($l))},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})();const pc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},fc=/%COMP%/g;function mc(e,t,n){for(let s=0;s<t.length;s++){let i=t[s];Array.isArray(i)?mc(e,i,n):(i=i.replace(fc,e),n.push(i))}return n}function gc(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let yc=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new bc(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Xe.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new _c(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case Xe.Native:case Xe.ShadowDom:return new vc(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=mc(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(Be(cc),Be(dc),Be(Ya))},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})();class bc{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(pc[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,s){if(s){t=s+":"+t;const i=pc[s];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const s=pc[n];s?e.removeAttributeNS(s,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,s){s&qo.DashCase?e.style.setProperty(t,n,s&qo.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&qo.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,gc(n)):this.eventManager.addEventListener(e,t,gc(n))}}class _c extends bc{constructor(e,t,n,s){super(e),this.component=n;const i=mc(s+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(fc,s+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(fc,s+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class vc extends bc{constructor(e,t,n,s){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=s,this.shadowRoot=s.encapsulation===Xe.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=mc(s.id,s.styles,[]);for(let r=0;r<i.length;r++){const e=document.createElement("style");e.textContent=i[r],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let wc=(()=>{class e extends uc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(Be($l))},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})();const kc=["alt","control","meta","shift"],Sc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Cc={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Ec=(()=>{class e extends uc{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,s){const i=e.parseEventName(n),r=e.eventCallback(i.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bl().onAndCancel(t,i.domEventName,r))}static parseEventName(t){const n=t.toLowerCase().split("."),s=n.shift();if(0===n.length||"keydown"!==s&&"keyup"!==s)return null;const i=e._normalizeKey(n.pop());let r="";if(kc.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),r+=e+".")}),r+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=s,o.fullKey=r,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&xc.hasOwnProperty(t)&&(t=xc[t]))}return Sc[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),kc.forEach(s=>{s!=n&&(0,Cc[s])(e)&&(t+=s+".")}),t+=n,t}static eventCallback(t,n,s){return i=>{e.getEventFullKey(i)===t&&s.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(Be($l))},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})(),Tc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ne({factory:function(){return Be(Ac)},token:e,providedIn:"root"}),e})(),Ac=(()=>{class e extends Tc{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case Ls.NONE:return t;case Ls.HTML:return us(t,"HTML")?cs(t):function(e,t){let n=null;try{Ds=Ds||function(e){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(e){return!1}}()?new ms:new gs(e)}(e);let s=t?String(t):"";n=Ds.getInertBodyElement(s);let i=5,r=s;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,s=r,r=n.innerHTML,n=Ds.getInertBodyElement(s)}while(s!==r);const o=new Ps,a=o.sanitizeChildren(Ns(n)||n);return fs()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const e=Ns(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}(this._doc,String(t));case Ls.STYLE:return us(t,"Style")?cs(t):t;case Ls.SCRIPT:if(us(t,"Script"))return cs(t);throw new Error("unsafe value used in a script context");case Ls.URL:return hs(t),us(t,"URL")?cs(t):_s(String(t));case Ls.RESOURCE_URL:if(us(t,"ResourceURL"))return cs(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return new is(e)}bypassSecurityTrustStyle(e){return new rs(e)}bypassSecurityTrustScript(e){return new os(e)}bypassSecurityTrustUrl(e){return new as(e)}bypassSecurityTrustResourceUrl(e){return new ls(e)}}return e.\u0275fac=function(t){return new(t||e)(Be($l))},e.\u0275prov=ne({factory:function(){return e=Be(Ie),new Ac(e.get($l));var e},token:e,providedIn:"root"}),e})();const Oc=Il(Nl,"browser",[{provide:tl,useValue:"browser"},{provide:el,useValue:function(){nc.makeCurrent(),ac.init()},multi:!0},{provide:$l,useFactory:function(){return function(e){At=e}(document),document},deps:[]}]),Ic=[[],{provide:Or,useValue:"root"},{provide:ns,useFactory:function(){return new ns},deps:[]},{provide:lc,useClass:wc,multi:!0,deps:[$l,gl,tl]},{provide:lc,useClass:Ec,multi:!0,deps:[$l]},[],{provide:yc,useClass:yc,deps:[cc,dc,Ya]},{provide:Uo,useExisting:yc},{provide:hc,useExisting:dc},{provide:dc,useClass:dc,deps:[$l]},{provide:xl,useClass:xl,deps:[gl]},{provide:cc,useClass:cc,deps:[lc,gl]},[]];let Pc=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:Ya,useValue:t.appId},{provide:rc,useExisting:Ya},oc]}}}return e.\u0275mod=at({type:e}),e.\u0275inj=se({factory:function(t){return new(t||e)(Be(e,12))},providers:Ic,imports:[ec,jl]}),e})();var Rc,Mc;"undefined"!=typeof window&&window,function(e){e.removeFrom=function(e,t){return t.filter(t=>t!==e)},e.flatten=function(e){return e.reduce((e,t)=>e.concat(t))},e.addWithoutDuplicate=function(e,t){return t.includes(e)?t:t.concat([e])}}(Rc||(Rc={})),function(e){e.impossible=function(e){throw new Error("this code should be unreachable")}}(Mc||(Mc={}));var Fc,Dc,Nc=function(e){return e.Tank="\ud83d\udc64",e.Drone="\ud83e\udd16",e.Creature="\ud83d\udc1b",e.Deposit="\ud83c\udf44",e}({});!function(e){function t(e,t){return Math.random()*(t-e)+e}function n(e,n){return 0|t(e,n)}function s(e,t){return[n(0,e),n(0,t)]}e.boolean=function(e){return Math.random()<e},e.float=t,e.int=n,e.point=s,e.points=function(e,t,n){const i=[];for(;i.length<e;){let e=s(t,n);i.some(t=>t[0]===e[0]&&t[1]===e[1])||i.push(e)}return i},e.fromArray=function(e){return e[n(0,e.length)]},e.shuffle=function(e){const t=[];for(const n of e)t.push(n);for(let s=0;s<t.length-1;s++){const e=n(s,t.length),i=t[s];t[s]=t[e],t[e]=i}return t},e.weightedRandom=function(e){let n=0;for(const t of e)n+=t[1];const s=t(0,n);let i=0;for(const t of e)if(i+=t[1],s<i)return t[0];throw new Error("weightedRandom failed to find a result")}}(Fc||(Fc={})),function(e){e.safeKeys=function(e){return Object.keys(e)},e.safeEntries=function(e){return Object.entries(e)},e.multitonEntries=function(t){const n={};return e.safeEntries(t).filter(e=>e[1]instanceof t).forEach(([e,t])=>{n[e]=t}),n},e.multitonValues=function(t){return e.safeKeys(t).map(e=>t[e]).filter(e=>e instanceof t)},e.multitonKey=function(t,n){for(const s of e.safeKeys(t))if(t[s]===n)return s;throw new Error("Invalid multiton passed into multitonKey")},e.enumKey=function(t,n){for(const s of e.safeKeys(t))if(t[s]===n)return s;throw new Error("invalid enum passed into enumKey")}}(Dc||(Dc={}));let Lc=(()=>{class e{constructor(e,t,n,s=!0){this.name=e,this.description=t,this.value=n,this.forSale=s}}return e.Aluminite=new e("Aluminite","Ambiguous metallic alloy. Cheap and ubiquitous.",3),e.Silicate=new e("Silicate","Clarified sand. Common computational substrate.",3),e.Petranol=new e("Petranol","Odorous liquid. Clean-burning fuel.",2),e.Cordylith=new e("Cordylith","Crystalline fungus mesh. Mood regulator in low doses.",20),e.Hide=new e("Hide","Chitinous creature dermis. Usable after processing.",1),e.Gristle=new e("Gristle","Low-quality creature flesh. Technically edible.",1),e.Nodule=new e("Nodule","Sucrose storage organ. Calorie dense.",10),e.Lithifer=new e("Lithifer","Faintly slippery mineral. Electrically useful.",5),e.Heart=new e("Heart","Fungiform organ of alien nature. Invaluable genetic sample.",7500,!1),e.Fang=new e("Fang","Serpentine relic producing constant energy.",2500,!1),e.Scale=new e("Scale","Fragment of extraterrestrial bio-alloy.",250,!1),e.Amnion=new e("Amnion","Spore-infused egg matter. Genetically interesting.",10,!1),e})();function jc(e){return void 0===e.chance||Fc.boolean(e.chance)?Fc.int(e.min,e.max+1):0}class Hc{constructor(e={}){this.amounts=e}static fromAmounts(e){const t={};for(const n of e){const e=Dc.multitonKey(Lc,n.resource);void 0===t[e]?t[e]=n.amount:t[e]+=n.amount}return new Hc(t)}static fromAmount(e){const t=[];for(const n of Dc.safeKeys(Lc))Lc[n]instanceof Lc&&t.push({resource:Lc[n],amount:e});return this.fromAmounts(t)}get arr(){const e=Dc.safeEntries(Lc).filter(e=>e[1]instanceof Lc),t=[];for(const n of e){const e=this.getAmount(n[1]);e>0&&t.push({resource:n[1],amount:e})}return t}getAmount(e){const t=Dc.multitonKey(Lc,e),n=this.amounts[t];return void 0!==n?n:0}add(e,t){const n=Dc.multitonKey(Lc,e),s=Object.assign({},this.amounts);return s[n]=this.getAmount(e)+t,new Hc(s)}remove(e,t){const n=Dc.multitonKey(Lc,e),s=Object.assign({},this.amounts);return s[n]=this.getAmount(e)-t,s[n]<=0&&delete s[n],new Hc(s)}combine(e){const t={},n=Dc.safeEntries(Lc).filter(e=>e[1]instanceof Lc);for(const s of n)t[s[0]]=this.getAmount(s[1])+e.getAmount(s[1]);return new Hc(t)}removeAll(e){const t={},n=Dc.safeEntries(Lc).filter(e=>e[1]instanceof Lc);for(const s of n){const n=this.getAmount(s[1])-e.getAmount(s[1]);n>0&&(t[s[0]]=n)}return new Hc(t)}canAfford(e){const t=Dc.safeEntries(Lc).filter(e=>e[1]instanceof Lc);for(const n of t)if(e.getAmount(n[1])>this.getAmount(n[1]))return!1;return!0}toString(){return this.arr.map(e=>`${e.resource.name} \xd7${e.amount}`).join("\n")}}var Bc=function(e){return e[e.Good=1]="Good",e[e.Neutral=0]="Neutral",e[e.Bad=-1]="Bad",e}({});function $c(...e){return e.reduce((e,t)=>e===Bc.Neutral?t:t===Bc.Neutral||e===t?e:Bc.Neutral,Bc.Neutral)}class zc{constructor(e){this.targetable=!0,this.name=e,this.units=[],this.resources=new Hc}get rating(){return $c(...this.units.map(e=>e.rating))}addUnit(e){if(this.units.includes(e))throw new Error("Unit cannot exist in a region twice");this.units.unshift(e),e.containingRegion=this}removeUnit(e){if(!this.units.includes(e))throw new Error("Cannot remove Unit from a region it's not in");this.units.splice(this.units.indexOf(e),1),e.containingRegion=void 0}addResource(e,t){this.resources=this.resources.add(e,t)}collectResources(){const e=this.resources;return this.resources=new Hc,e}}let Vc=(()=>{class e{constructor(e,t){this.unitFunc=e,this.toStringFunc=t}test(e,...t){return this.unitFunc(e,...t)}toString(e,...t){return this.toStringFunc(e,...t)}}return e.HasStatus=new e((e,t)=>e.statuses.includes(t),(e,t)=>`${e} has ${t.emoji} ${t.name}`),e.IsFaction=new e((e,t)=>e.faction===t,(e,t)=>`${e} is a ${t} ${Dc.enumKey(Nc,t)}`),e.IsOneOfFaction=new e((e,t)=>t.includes(e.faction),(e,t)=>`${e} is one of ${t.map(e=>`${e} ${Dc.enumKey(Nc,e)}`).join(", ")}`),e.IsDead=new e(e=>!e.alive,e=>e+" is dead"),e})();function Uc(e){switch(e.type){case"HasStatus":return Vc.HasStatus.toString(e.focus,e.status);case"IsFaction":return Vc.IsFaction.toString(e.focus,e.faction);case"IsOneOfFaction":return Vc.IsOneOfFaction.toString(e.focus,e.factions);case"IsDead":return Vc.IsDead.toString(e.focus);case"and":return`${Uc(e.a)} and ${Uc(e.b)}`;case"or":return`${Uc(e.a)} or ${Uc(e.b)}`;default:return Mc.impossible(e)}}let qc=(()=>{class e{constructor(e,t,n,s){this.name=e,this.emoji=t,this.desc=n,this.rating=s}}return e.Fire=new e("Fire","\ud83d\udd25","Take one damage at the start of every turn.",Bc.Bad),e.Advantage=new e("Advantage","\u23e9","Extra free action.",Bc.Good),e.MindControl=new e("Hypnotized","\ud83c\udfae","Under enemy control.",Bc.Bad),e.Armored=new e("Armored","\ud83d\udee1\ufe0f","Take one less damage from attacks.",Bc.Good),e.Corroded=new e("Corroded","\ud83e\uddea","Take one more damage from attacks.",Bc.Bad),e.Pheromones=new e("Pheromones","\u2697\ufe0f","Blend in with creatures. Goes away after using a skill.",Bc.Good),e.Shield=new e("Shield","\ud83d\udd35","Blocks next damage taken.",Bc.Good),e.Charged=new e("Charged","\ud83d\udd0b","Required for more powerful skills.",Bc.Good),e.Boss=new e("Boss","\ud83d\udc80","Immune to instant-kill effects and mind control.",Bc.Good),e.Undying=new e("Undying","\ud83e\uddec","Prevents next death.",Bc.Good),e.Slippery=new e("Slippery","\ud83d\udca6","Immune to additional status effects.",Bc.Neutral),e.Stunned=new e("Stunned","\u23f8\ufe0f","Actions don't refresh next turn.",Bc.Bad),e.Piezoelectric=new e("Piezoelectric","\ud83d\udd0c","Gain Charged when taking damage.",Bc.Good),e.Projecting=new e("Projecting","\ud83d\udce1","At the start of each turn, give all adjacent units Shields.",Bc.Good),e.Aromatic=new e("Aromatic","\u2668\ufe0f","At the start of each turn, give all adjacent units Pheromones.",Bc.Good),e.Avian=new e("Avian","\ud83e\udd85","Lay an egg upon leaving a region.",Bc.Good),e.Hatching=new e("Hatching","\ud83e\udd5a","Lose 1 maximum health each turn. Hatches when it hits zero.",Bc.Neutral),e})(),Wc=(()=>{class e{constructor(e,t,n){this.unitFunc=e,this.regionFunc=t,this.ratingFunc=n}static fromUnitFunction(t,n){return new e(t,(e,n,s,...i)=>{const r=[...n.units];for(const o of r)t(e,o,s,...i)},n)}static fromRegionFunction(t,n){return new e((e,n,s,...i)=>{void 0!==n.containingRegion&&t(e,n.containingRegion,s,...i)},t,n)}applyToUnit(e,t,n,s,i,...r){void 0===s||function e(t,n,s){let i;switch(i="target"===s.focus?n:t,s.type){case"HasStatus":return Vc.HasStatus.test(i,s.status);case"IsFaction":return Vc.IsFaction.test(i,s.faction);case"IsOneOfFaction":return Vc.IsOneOfFaction.test(i,s.factions);case"IsDead":return Vc.IsDead.test(i);case"and":return e(t,n,s.a)&&e(t,n,s.b);case"or":return e(t,n,s.a)||e(t,n,s.b);default:return Mc.impossible(s)}}(e,t,s)?this.unitFunc(e,t,n,...r):void 0!==i&&Kc(i,e,t)}applyToRegion(e,t,n,s,i,...r){this.regionFunc(e,t,n,...r)}applyToTargetable(e,t,n,s,i,...r){t instanceof zc?this.applyToRegion(e,t,n,s,i,...r):this.applyToUnit(e,t,n,s,i,...r)}getRating(...e){return this.ratingFunc(...e)}}return e.Damage=e.fromUnitFunction((e,t,n,s)=>{let i;i="target"===n?t:e,i.wound(s)},()=>Bc.Bad),e.Heal=e.fromUnitFunction((e,t,n,s)=>{let i;i="target"===n?t:e,i.heal(s)},()=>Bc.Good),e.Status=e.fromUnitFunction((e,t,n,s)=>{let i;i="target"===n?t:e,s===qc.MindControl&&i.statuses.includes(qc.Boss)||i.addStatus(s)},e=>e.rating),e.RemoveStatus=e.fromUnitFunction((e,t,n,s)=>{let i;i="target"===n?t:e,i.removeStatus(s)},e=>-1*e.rating),e.Kill=e.fromUnitFunction((e,t,n)=>{let s;s="target"===n?t:e,s.statuses.includes(qc.Boss)||s.die()},()=>Bc.Bad),e.MoveTo=e.fromRegionFunction((e,t,n)=>{e.moveTo(t)},()=>Bc.Neutral),e.Collect=e.fromRegionFunction((e,t,n,s)=>{let i;i="target"===n?t:e.containingRegion,s.addResourceInventory(i.collectResources())},()=>Bc.Neutral),e.Refresh=e.fromUnitFunction((e,t,n,s)=>{let i;i="target"===n?t:e,i.addActions(s)},()=>Bc.Good),e.Harvest=e.fromUnitFunction((e,t,n,s,i)=>{let r;r="target"===n?t:e,r.statuses.includes(qc.Boss)||(r.faction===Nc.Drone?i.buildActions+=r.buildActionCost:s.addResourceInventory(r.buildCost),r.die(!1))},()=>Bc.Good),e.BuildActions=e.fromUnitFunction((e,t,n,s,i)=>{i.buildActions+=s},()=>Bc.Neutral),e.And=e.fromUnitFunction((e,t,n,s,i,r,o)=>{Kc(s,e,t,r,o),Kc(i,e,t,r,o)},(e,t)=>$c(Gc(e),Gc(t))),e})();function Kc(e,t,n,s,i){switch(e.type){case"Damage":return void Wc.Damage.applyToTargetable(t,n,e.focus,e.predicate,e.otherwise,e.amount);case"Heal":return void Wc.Heal.applyToTargetable(t,n,e.focus,e.predicate,e.otherwise,e.amount);case"Status":return void Wc.Status.applyToTargetable(t,n,e.focus,e.predicate,e.otherwise,e.status);case"RemoveStatus":return void Wc.RemoveStatus.applyToTargetable(t,n,e.focus,e.predicate,e.otherwise,e.status);case"Kill":return void Wc.Kill.applyToTargetable(t,n,e.focus,e.predicate,e.otherwise);case"MoveTo":return void Wc.MoveTo.applyToTargetable(t,n,e.focus,e.predicate,e.otherwise);case"Collect":return void Wc.Collect.applyToTargetable(t,n,e.focus,e.predicate,e.otherwise,s);case"Harvest":return void Wc.Harvest.applyToTargetable(t,n,e.focus,e.predicate,e.otherwise,s,i);case"Refresh":return void Wc.Refresh.applyToTargetable(t,n,e.focus,e.predicate,e.otherwise,e.amount);case"BuildActions":return void Wc.BuildActions.applyToTargetable(t,n,e.focus,e.predicate,e.otherwise,e.amount,i);case"and":return void Wc.And.applyToTargetable(t,n,e.focus,e.predicate,e.otherwise,e.a,e.b,s,i);default:return Mc.impossible(e)}}function Zc(e){switch(e.type){case"Damage":return`Deal ${e.amount} damage to ${e.focus}`;case"Heal":return`Heal ${e.focus} for ${e.amount}`;case"Status":return`Give ${e.focus} ${e.status.emoji} ${e.status.name}`;case"RemoveStatus":return`Remove ${e.status.emoji} ${e.status.name} from ${e.focus}`;case"Kill":return"Kill "+e.focus;case"MoveTo":return"Move to "+e.focus;case"Collect":return"Collect resources at "+e.focus;case"Harvest":return"Harvest "+e.focus;case"Refresh":return`Increase ${e.focus}'s actions by ${e.amount}`;case"BuildActions":return`Gain ${e.amount}\u2699\ufe0f`;case"and":return`${Zc(e.a)}, then ${Zc(e.b)}`}}function Gc(e){switch(e.type){case"Damage":return Wc.Damage.getRating(e.amount);case"Heal":return Wc.Heal.getRating(e.amount);case"Status":return Wc.Status.getRating(e.status);case"RemoveStatus":return Wc.RemoveStatus.getRating(e.status);case"Kill":return Wc.Kill.getRating();case"MoveTo":return Wc.MoveTo.getRating();case"Collect":return Wc.Collect.getRating();case"Harvest":return Wc.Harvest.getRating();case"Refresh":return Wc.Refresh.getRating();case"BuildActions":return Wc.BuildActions.getRating();case"and":return Wc.And.getRating(e.a,e.b);default:return Mc.impossible(e)}}function Qc(e){return void 0!==e.predicate?void 0!==e.otherwise?`If ${Uc(e.predicate)}: ${Zc(e)}; otherwise: ${Zc(e.otherwise)}.`:`If ${Uc(e.predicate)}: ${Zc(e)}.`:Zc(e)+"."}var Yc=function(e){return e[e.Self=0]="Self",e[e.UnitMelee=1]="UnitMelee",e[e.UnitArtillery=2]="UnitArtillery",e[e.UnitRanged=3]="UnitRanged",e[e.RegionMelee=4]="RegionMelee",e[e.RegionAdjacent=5]="RegionAdjacent",e[e.RegionArtillery=6]="RegionArtillery",e[e.RegionRanged=7]="RegionRanged",e}({});let Jc=(()=>{class e{constructor(e,t,n,s=!1){this.requiresCharge=s,this.name=e,this.targetingMode=t,this.effects=n;const i=this.effects.map(e=>function(e){const t={user:Bc.Neutral,target:Bc.Neutral};return t[e.focus]=Gc(e),t}(e));this._rating={target:$c(...i.map(e=>e.target)),user:$c(...i.map(e=>e.user))}}get description(){let e=[];return this.requiresCharge&&e.push("Requires \ud83d\udd0b Charged."),0===this.effects.length?e.push("Do nothing."):e=e.concat(this.effects.map(Qc)),e.join("\n")}get rating(){return this._rating}canBeUsedBy(e){return!this.requiresCharge||e.statuses.includes(qc.Charged)}}return e.Move=new e("Move",Yc.RegionAdjacent,[{type:"MoveTo",focus:"target"}]),e.Burrow=new e("Burrow",Yc.RegionRanged,[{type:"MoveTo",focus:"target"}]),e.FlamingWings=new e("Flaming Wings",Yc.RegionRanged,[{type:"Status",status:qc.Fire,focus:"target"},{type:"MoveTo",focus:"target"}]),e.Collect=new e("Collect",Yc.RegionMelee,[{type:"Collect",focus:"user"}]),e.Deconstruct=new e("Deconstruct",Yc.UnitMelee,[{type:"Harvest",focus:"target",predicate:{type:"IsFaction",faction:Nc.Drone,focus:"target"}}]),e.Prune=new e("Prune",Yc.UnitMelee,[{type:"Harvest",focus:"target",predicate:{type:"IsFaction",faction:Nc.Deposit,focus:"target"}}]),e.Sting=new e("Sting",Yc.UnitMelee,[{type:"Damage",focus:"target",amount:1},{type:"Kill",focus:"user"}]),e.Prod=new e("Prod",Yc.UnitMelee,[{type:"Damage",focus:"target",amount:1}]),e.Slash=new e("Slash",Yc.UnitMelee,[{type:"Damage",focus:"target",amount:2}]),e.Repair=new e("Repair",Yc.UnitMelee,[{type:"Heal",focus:"target",amount:1}]),e.Gnaw=new e("Gnaw",Yc.UnitMelee,[{type:"Damage",focus:"target",amount:1},{type:"Refresh",focus:"user",amount:1,predicate:{type:"IsDead",focus:"target"}}]),e.Maul=new e("Maul",Yc.UnitMelee,[{type:"Damage",focus:"target",amount:2},{type:"Refresh",focus:"user",amount:1,predicate:{type:"IsDead",focus:"target"}}]),e.Siphon=new e("Siphon",Yc.UnitMelee,[{type:"Damage",focus:"target",amount:2},{type:"Status",focus:"user",status:qc.Charged,predicate:{type:"IsDead",focus:"target"}}]),e.Arc=new e("Arc",Yc.UnitArtillery,[{type:"Status",status:qc.Charged,focus:"target",predicate:{type:"IsFaction",faction:Nc.Drone,focus:"target"},otherwise:{type:"Damage",focus:"target",amount:3}},{type:"RemoveStatus",status:qc.Charged,focus:"user"}],!0),e.Electrify=new e("Electrify",Yc.UnitRanged,[{type:"Status",status:qc.Charged,focus:"target"},{type:"Status",status:qc.Stunned,focus:"user"}]),e.Shock=new e("Shock",Yc.UnitRanged,[{type:"Damage",focus:"target",amount:4}],!0),e.Protect=new e("Protect",Yc.UnitRanged,[{type:"Status",status:qc.Shield,focus:"target"},{type:"RemoveStatus",status:qc.Charged,focus:"user"}],!0),e.Charge=new e("Charge",Yc.UnitMelee,[{type:"Status",status:qc.Charged,focus:"target"},{type:"Kill",focus:"user"}]),e.Transfer=new e("Transfer",Yc.UnitRanged,[{type:"Status",status:qc.Charged,focus:"target"},{type:"RemoveStatus",status:qc.Charged,focus:"user"}],!0),e.Clobber=new e("Clobber",Yc.UnitMelee,[{type:"Damage",focus:"target",amount:3},{type:"BuildActions",focus:"target",amount:3,predicate:{type:"IsDead",focus:"target"}}]),e.Mulch=new e("Mulch",Yc.UnitMelee,[{type:"and",focus:"target",a:{type:"Kill",focus:"target"},b:{type:"BuildActions",focus:"user",amount:1},predicate:{type:"IsFaction",faction:Nc.Deposit,focus:"target"}}]),e.Burn=new e("Burn",Yc.UnitMelee,[{type:"Status",focus:"target",status:qc.Fire}]),e.Detonate=new e("Detonate",Yc.UnitMelee,[{type:"Status",status:qc.Fire,focus:"target"},{type:"Kill",focus:"user"}]),e.Bite=new e("Bite",Yc.UnitMelee,[{type:"Damage",focus:"target",amount:1},{type:"Refresh",focus:"user",amount:1,predicate:{type:"HasStatus",focus:"target",status:qc.Fire}}]),e.Smother=new e("Smother",Yc.UnitMelee,[{type:"RemoveStatus",status:qc.Fire,focus:"target",predicate:{type:"HasStatus",focus:"target",status:qc.Fire},otherwise:{type:"Damage",focus:"target",amount:2}}]),e.Chop=new e("Chop",Yc.UnitMelee,[{type:"Damage",focus:"target",amount:3,predicate:{type:"HasStatus",focus:"target",status:qc.Fire}}]),e.Corrode=new e("Corrode",Yc.UnitMelee,[{type:"Status",focus:"target",status:qc.Corroded}]),e.Pinch=new e("Pinch",Yc.UnitMelee,[{type:"Damage",focus:"target",amount:1},{type:"Damage",focus:"target",amount:3,predicate:{type:"HasStatus",focus:"target",status:qc.Corroded}}]),e.PhlegmaticShriek=new e("Phlegmatic Shriek",Yc.RegionAdjacent,[{type:"Status",focus:"target",status:qc.Corroded}]),e.Hypnotize=new e("Hypnotize",Yc.UnitMelee,[{type:"Status",focus:"target",status:qc.MindControl},{type:"Kill",focus:"user"}]),e.Mist=new e("Mist",Yc.UnitMelee,[{type:"Status",focus:"target",status:qc.Pheromones},{type:"Kill",focus:"user"}]),e.Spycheck=new e("Spycheck",Yc.UnitMelee,[{type:"Damage",amount:3,focus:"target",predicate:{type:"HasStatus",focus:"target",status:qc.Pheromones},otherwise:{type:"Heal",amount:1,focus:"target"}}]),e.Lift=new e("Lift",Yc.UnitMelee,[{type:"Status",focus:"target",status:qc.Advantage}]),e.Divebomb=new e("Divebomb",Yc.UnitArtillery,[{type:"MoveTo",focus:"target"},{type:"Damage",amount:3,focus:"target"}]),e.Buffet=new e("Buffet",Yc.RegionArtillery,[{type:"Damage",focus:"target",amount:1},{type:"MoveTo",focus:"target"}]),e.Roost=new e("Roost",Yc.RegionArtillery,[{type:"Heal",focus:"target",amount:1,predicate:{type:"HasStatus",focus:"target",status:qc.Hatching}},{type:"MoveTo",focus:"target"}]),e.Decapitate=new e("Decapitate",Yc.UnitMelee,[{type:"Kill",focus:"target"}]),e.Meteor=new e("Meteor",Yc.RegionRanged,[{type:"Kill",focus:"target"}]),e})();class Xc{constructor(e){this.regions=e}moveUnit(e,t,n){if(!t.units.includes(e))throw new Error("Can only remove unit from region it is in");if(n.units.includes(e))throw new Error("Cannot move unit to region it is in");t.removeUnit(e),n.addUnit(e)}getAllUnits(){return Rc.flatten(this.regions.map(e=>e.units))}getAllUnitsOfFaction(e){return this.getAllUnits().filter(t=>t.faction===e)}getEnemyActors(){return this.getAllUnits().filter(e=>!e.playerControlled&&e.canAct())}getTargetables(e,t){switch(t){case Yc.Self:return[e];case Yc.UnitMelee:return e.containingRegion.units;case Yc.UnitArtillery:return this.getAllUnits().filter(t=>t.containingRegion!==e.containingRegion);case Yc.UnitRanged:return this.getAllUnits();case Yc.RegionMelee:return[e.containingRegion];case Yc.RegionAdjacent:{const t=this.regions.indexOf(e.containingRegion);return this.regions.filter((e,n)=>1===Math.abs(n-t))}case Yc.RegionArtillery:return this.regions.filter(t=>t!==e.containingRegion);case Yc.RegionRanged:return this.regions;default:return Mc.impossible(t)}}}let eu=(()=>{class e{constructor(e,t,n=!1){this.title=e,this.body=t,this.isEnding=n}get available(){return!this.isEnding}}return e.Welcome=new e("CONGRATULATIONS, CITIZEN!","\n    We're glad to inform you that you're one of the winners of this month's debtors' lottery! You'll get to hunt the alien lifeforms living outside your hermetically-sealed dome from a state-of-the-art fungus-proof tank! All net proceeds from sale of materials acquired will be used to pay off your outstanding debts.\n\n    Please be aware that you are responsible for both your pre-existing 500&curren; debt and the additional cost of your tank, gene therapies, life insurance, etc. In total, your debt amounts to **5000&curren;** and must be paid in full before you may retire from service.\n\n    In order to comply with Committee regulations and prevent unnecessary losses, you have been given the following informative literature:\n\n    * _Tank Combat for the Debt-Ridden_\n    * _History and Nature of the Blight (Abridged Fourth Edition)_\n\n    We are all wishing you a meritorious term as pilot!\n\n    ---\n\n    Dallas \"Dale\" Breckenridge\n\n    Chairman of the Interlock Committee for Post-Blight Living\n    "),e.Combat=new e("Tank Combat for the Debt-Ridden","\n    Hello, pilot! I'm sure you're going through a lot right now. Your tank is a state-of-the-art amalgam of machinery and software, but it doesn't make the melding process any easier. Stressed pilots aren't productive pilots, so take your time to recuperate. This guide is here to help you be an effective hunter once the post-gene therapy migraine subsides.\n\n    Historically, most losses came from pilots having to make difficult decisions under time pressure. This problem has been solved by an experimental blend of software and synthetic neurotransmitters. Combat has been abstracted to a clear interface, and it will feel as though you have infinite time to decide what to do. Information on entities, such as nature, physical integrity, and time left to act are determined through extensive machine analysis and displayed with friendly icons.\n\n    Your tank's extensive armor renders it too unwieldy to engage in combat directly. To counteract this, each tank is outfitted with drone-manufacturing capabilities. Each drone requires a certain amount of material to build; the tank produces a certain amount each \"turn.\" Material is represented with a \u2699\ufe0f icon; the sidebar allows you to spend said material on units. New schematics can frequently be bought when transacting with cities.\n\n    Drones can be commanded and your tank can be piloted via buttons representing their capabilities. Targetable regions or entities will show up in green and can be selected by clicking on them, and you can cancel a command with the X button next to it.\n\n    Resources in a particular region will be listed at the bottom. They can be collected by your tank and some drones and sold in cities.\n\n    Sometimes units will have certain modifiers applied. They may be on fire, or afflicted with corrosive acid. These are indicated by icons following their name. Please read the attached explanatory tooltips (found by hovering over said icons) for further details.\n\n    You should now be able to effectively interface with your tank. Best of luck, pilot!"),e.Blight=new e("History and Nature of the Blight (Abridged Fourth Edition)","\n    The Serpent coming in from beyond the Kuiper belt sent the world into a panic [...] It came apart near Mars, and there was\n    a collective sigh of relief [...] the surreality of the fragmented alien mothership slowly descending with all its pilots and crew dead was a cause for further panic even before the mutagenic spores were released [...]\n\n    It is a great irony that serpentine detritus was our salvation even as it ravaged the world [...] the air was toxifying in preparation for a deceased invading force [...] wildlife twisted into forms designed for efficient resource extraction [...]\n    alien technology was necessary to construct the vast airtight domes into which humanity retreated [...]\n\n    Even now, travel into the outer wastelands is the only way any of these domed communities can obtain the resources necessary to survive [...]"),e.Victory=new e("Congratulations On Your Retirement","Commendable service, pilot! The resources you harvested are vital to the continued survival of the last bastions of humanity.\n\n    If you choose to come out of retirement and enter the debtor's lottery again, we'll be rooting for you to win.\n\n    ---\n\n    Dallas \"Dale\" Breckenridge\n\n    Chairman of the Interlock Committee for Post-Blight Living",!0),e})();var tu=function(e){return e.Map="map",e.Town="town",e.Battle="battle",e}({});class nu{constructor(e,t,n,s){this.mode=e,this.combat=t,this.inventory=n,this.map=s,this.creditsActive=!1,this.titleActive=!0,this.activeNote=eu.Welcome}}class su{constructor(e,t,n,s,i,r=[],o=[],a=[]){this.targetable=!0,this.containingRegion=void 0,this.alive=!0,this.name=e,this.faction=t,this.health=n,this.maxHealth=n,this.skills=r,this.statuses=[],this.drops=o,this.actionsPerTurn=s,this.buildPerTurn=i,this.actionsLeft=s;for(const l of a)this.statuses.push(l)}get formattedName(){return`${this.faction} ${this.name}`}get statString(){return`\u2764\ufe0f ${this.health}/${this.maxHealth} \u26a1 ${this.actionsLeft}/${this.actionsPerTurn}`}get playerControlled(){const e=this.faction===Nc.Drone||this.faction===Nc.Tank;return this.statuses.includes(qc.MindControl)?!e:e}get buildCost(){return Hc.fromAmounts(this.drops.map(e=>({resource:e.resource,amount:e.max})))}get buildActionCost(){return this.drops.map(e=>e.max).reduce((e,t)=>e+t,0)}get rating(){return this.statuses.includes(qc.Pheromones)?Bc.Good:this.faction===Nc.Deposit?Bc.Neutral:this.playerControlled?Bc.Bad:Bc.Good}wound(e,t=!1,n=!1){this.statuses.includes(qc.Armored)&&!t&&(e=Math.max(0,e-1)),this.statuses.includes(qc.Corroded)&&!n&&(e+=1),!t&&this.statuses.includes(qc.Shield)&&e>0?this.removeStatus(qc.Shield):(this.health-=e,e>0&&this.statuses.includes(qc.Piezoelectric)&&this.addStatus(qc.Charged),this.health<=0&&this.die())}die(e=!0){if(this.alive&&this.health!==1/0){if(this.statuses.includes(qc.Undying))return this.health=this.maxHealth,void this.removeStatus(qc.Undying);if(void 0!==this.containingRegion){if(e){for(const e of this.drops)this.containingRegion.addResource(e.resource,jc(e));this.faction===Nc.Creature&&Fc.boolean(this.maxHealth/255)&&this.containingRegion.addResource(Lc.Scale,1)}this.containingRegion.removeUnit(this)}this.alive=!1}}heal(e){this.health+=e,this.health>this.maxHealth&&(this.health=this.maxHealth)}moveTo(e){this.containingRegion&&this.containingRegion.removeUnit(this),e.addUnit(this)}canAct(){return this.faction!==Nc.Deposit&&(this.actionsLeft>0||this.statuses.includes(qc.Advantage))}addActions(e){this.actionsLeft=Math.min(this.actionsLeft+e,this.actionsPerTurn)}spendAction(){this.actionsLeft>0?this.actionsLeft--:this.statuses.includes(qc.Advantage)&&this.removeStatus(qc.Advantage)}addStatus(e){this.statuses.includes(qc.Slippery)||(this.statuses=Rc.addWithoutDuplicate(e,this.statuses))}removeStatus(e){this.statuses=Rc.removeFrom(e,this.statuses)}advanceTurn(){if(this.statuses.includes(qc.Stunned)?this.removeStatus(qc.Stunned):this.actionsLeft=this.actionsPerTurn,this.statuses.includes(qc.Projecting)&&void 0!==this.containingRegion)for(let e of this.containingRegion.units)e.addStatus(qc.Shield);if(this.statuses.includes(qc.Aromatic)&&void 0!==this.containingRegion)for(let e of this.containingRegion.units)e.addStatus(qc.Pheromones);this.statuses.includes(qc.Fire)&&this.wound(1,!0,!0),this.alive&&this.statuses.includes(qc.Hatching)&&(this.maxHealth--,this.health=Math.min(this.health,this.maxHealth))}}let iu=(()=>{class e{constructor(e,t,n,s,i,r,o=[],a=0){this.name=e,this.faction=t,this.health=n,this.actionsPerTurn=s,this.skills=i,this.drops=r,this.statuses=o,this.buildPerTurn=a}static drone(t,n,s,i,r,o=[],a=0){return new e(t,Nc.Drone,n,s,r,[{resource:Lc.Aluminite,min:i,max:i,chance:0}],o,a)}static deposit(t,n,s,i=[]){return new e(t,Nc.Deposit,n,0,[],s,i)}get buildCost(){return Hc.fromAmounts(this.drops.map(e=>({resource:e.resource,amount:e.max})))}get buildActionCost(){return this.drops.map(e=>e.max).reduce((e,t)=>e+t,0)}instantiate(){return new su(this.name,this.faction,this.health,this.actionsPerTurn,this.buildPerTurn,this.skills,this.drops,this.statuses)}}return e.Tank=new e("Tank",Nc.Tank,1/0,3,[Jc.Move,Jc.Collect,Jc.Deconstruct],[],[],5),e.Stinger=e.drone("Stinger",1,2,1,[Jc.Move,Jc.Sting,Jc.Collect]),e.Scuttler=e.drone("Scuttler",4,2,3,[Jc.Move,Jc.Slash,Jc.Collect]),e.Firebomb=e.drone("Firebomb",1,2,2,[Jc.Move,Jc.Detonate]),e.Controller=e.drone("Controller",1,2,8,[Jc.Move,Jc.Hypnotize]),e.Mister=e.drone("Mister",1,2,3,[Jc.Move,Jc.Mist]),e.MiniFactory=e.drone("Mini-Factory",5,0,10,[],[qc.Armored],3),e.ShieldGenerator=e.drone("Shield Generator",5,0,10,[],[qc.Armored,qc.Projecting]),e.Diffuser=e.drone("Diffuser",5,0,10,[],[qc.Aromatic,qc.Armored]),e.Gardener=e.drone("Gardener",4,1,2,[Jc.Move,Jc.Prune]),e.Mulcher=e.drone("Mulcher",4,2,3,[Jc.Move,Jc.Mulch]),e.Dynamo=e.drone("Dynamo",7,2,6,[Jc.Move,Jc.Arc],[qc.Piezoelectric]),e.Battery=e.drone("Battery",1,2,3,[Jc.Move,Jc.Charge]),e.Firefighter=e.drone("Firefighter",4,2,6,[Jc.Move,Jc.Smother,Jc.Chop]),e.Igniter=e.drone("Igniter",3,3,4,[Jc.Move,Jc.Burn]),e.Protector=e.drone("Protector",2,3,4,[Jc.Move,Jc.Protect]),e.Lifter=e.drone("Lifter",3,2,3,[Jc.Move,Jc.Collect,Jc.Lift]),e.Gearhead=e.drone("Gearhead",5,2,8,[Jc.Move,Jc.Repair,Jc.Deconstruct],[],1),e.Salvager=e.drone("Salvager",5,2,10,[Jc.Move,Jc.Clobber,Jc.Repair]),e.Debug=e.drone("Troubleshooter",1/0,1/0,0,[Jc.Move,Jc.Decapitate,Jc.Meteor,Jc.Slash],[]),e.Rat=new e("Rat",Nc.Creature,1,1,[Jc.Move,Jc.Gnaw],[{resource:Lc.Hide,min:0,max:1},{resource:Lc.Gristle,min:0,max:1}]),e.Tyger=new e("Tyger",Nc.Creature,3,1,[Jc.Move,Jc.Maul],[{resource:Lc.Hide,min:3,max:4},{resource:Lc.Gristle,min:3,max:4}]),e.Wyrm=new e("Wyrm",Nc.Creature,1,3,[Jc.Burrow,Jc.Burn],[{resource:Lc.Petranol,min:1,max:3,chance:.75},{resource:Lc.Gristle,min:1,max:2,chance:.75}]),e.Drake=new e("Drake",Nc.Creature,3,3,[Jc.Move,Jc.Bite],[{resource:Lc.Petranol,min:4,max:6,chance:.75},{resource:Lc.Gristle,min:3,max:5,chance:.75},{resource:Lc.Cordylith,min:0,max:1,chance:.01}]),e.Isopod=new e("Isopod",Nc.Creature,2,1,[Jc.Move,Jc.Prod],[{resource:Lc.Aluminite,min:1,max:3,chance:.75},{resource:Lc.Hide,min:2,max:4,chance:.75}],[qc.Shield]),e.Barracuda=new e("Barracuda",Nc.Creature,2,1,[Jc.Move,Jc.Slash],[{resource:Lc.Aluminite,min:4,max:5,chance:.75},{resource:Lc.Hide,min:4,max:6,chance:.75}],[qc.Shield]),e.Crab=new e("Crab",Nc.Creature,2,1,[Jc.Move,Jc.Corrode],[{resource:Lc.Nodule,min:0,max:1,chance:.2},{resource:Lc.Silicate,min:1,max:2,chance:.75}]),e.Lobster=new e("Lobster",Nc.Creature,2,1,[Jc.Move,Jc.Pinch],[{resource:Lc.Nodule,min:0,max:2,chance:.3},{resource:Lc.Silicate,min:3,max:5,chance:.75}]),e.Anemone=new e("Anemone",Nc.Creature,3,1,[Jc.Electrify,Jc.Protect],[{resource:Lc.Lithifer,min:1,max:2,chance:.2}]),e.Vermin=new e("Vermin",Nc.Creature,1,3,[Jc.Burrow,Jc.Shock],[{resource:Lc.Lithifer,min:1,max:2,chance:.2}]),e.Friday=new e("Friday",Nc.Creature,10,2,[Jc.Move,Jc.PhlegmaticShriek,Jc.Pinch,Jc.Spycheck],[{resource:Lc.Fang,min:1,max:1,chance:1},{resource:Lc.Silicate,min:10,max:20,chance:1},{resource:Lc.Nodule,min:5,max:10,chance:1}],[qc.Boss]),e.Mint=new e("Mint",Nc.Creature,10,2,[Jc.Move,Jc.Slash,Jc.Spycheck],[{resource:Lc.Fang,min:1,max:1,chance:1},{resource:Lc.Hide,min:10,max:20,chance:1},{resource:Lc.Aluminite,min:8,max:16,chance:1}],[qc.Boss,qc.Shield,qc.Slippery]),e.Ember=new e("Ember",Nc.Creature,10,2,[Jc.FlamingWings,Jc.Bite,Jc.Burn,Jc.Spycheck],[{resource:Lc.Fang,min:1,max:1,chance:1},{resource:Lc.Petranol,min:15,max:24,chance:1},{resource:Lc.Gristle,min:10,max:14,chance:1},{resource:Lc.Cordylith,min:3,max:3,chance:1}],[qc.Boss]),e.Magic=new e("Magic",Nc.Creature,10,3,[Jc.Move,Jc.Shock,Jc.Protect,Jc.Spycheck],[{resource:Lc.Fang,min:1,max:1,chance:1},{resource:Lc.Lithifer,min:10,max:20,chance:1}],[qc.Boss,qc.Piezoelectric]),e.Charleston=new e("Charleston",Nc.Creature,10,3,[Jc.Move,Jc.Maul],[{resource:Lc.Fang,min:1,max:1,chance:1},{resource:Lc.Hide,min:10,max:30,chance:1},{resource:Lc.Gristle,min:10,max:30,chance:1}],[qc.Boss]),e.Matriarch=new e("Matriarch",Nc.Creature,20,3,[Jc.Divebomb,Jc.Buffet,Jc.Roost],[{resource:Lc.Heart,min:1,max:1,chance:1}],[qc.Boss,qc.Avian]),e.Egg=e.deposit("Egg",3,[{resource:Lc.Amnion,min:1,max:1,chance:.5}],[qc.Armored,qc.Hatching]),e.Larva=new e("Larva",Nc.Creature,3,2,[Jc.Move,Jc.Gnaw],[{resource:Lc.Amnion,min:1,max:2,chance:.5}],[]),e.Clutch=e.deposit("Clutch",4,[{resource:Lc.Nodule,min:3,max:5}]),e.Well=e.deposit("Well",3,[{resource:Lc.Petranol,min:2,max:4}]),e.Coral=e.deposit("Coral",5,[{resource:Lc.Silicate,min:2,max:4},{resource:Lc.Aluminite,min:1,max:3}],[qc.Slippery]),e.Spire=e.deposit("Spire",6,[{resource:Lc.Cordylith,min:2,max:4}]),e.Lodestone=e.deposit("Lodestone",7,[{resource:Lc.Lithifer,min:3,max:5}],[qc.Slippery]),e})();class ru{constructor(){this.credits=0,this.debt=5e3,this.resources=new Hc,this.schematics=[iu.Stinger,iu.Scuttler]}addCredits(e){this.credits+=e}removeCredits(e){this.credits-=e,this.credits=Math.max(0,this.credits)}addResource(e,t){this.resources=this.resources.add(e,t)}removeResource(e,t){this.resources=this.resources.remove(e,t)}canAfford(e){return this.resources.canAfford(e)}addResourceInventory(e){this.resources=this.resources.combine(e)}removeResourceInventory(e){this.resources=this.resources.removeAll(e)}addSchematic(e){this.schematics.includes(e)||this.schematics.push(e)}}class ou{constructor(e,t,n,s=!1,i=5,r,o){if(this.tank=e,this.battlefield=t,this.mapState=n,this.isEnemyTurn=s,this.buildActions=i,void 0!==r)this._bossFight=r;else{const e=t.getAllUnits().filter(e=>e.statuses.includes(qc.Boss));this._bossFight=e.length>0,this._bossFight&&(this.boss=e[0])}}get isBossFight(){return this._bossFight}advanceTurn(){for(const e of this.battlefield.getAllUnits())if(e.advanceTurn(),e.playerControlled&&(this.buildActions+=e.buildPerTurn),e.statuses.includes(qc.Hatching)&&0===e.maxHealth){const t=e.containingRegion;e.die(),void 0!==t&&t.addUnit(iu.Larva.instantiate())}}applyAction(e){this.useSkill(e.user,e.skill,e.target)}useSkill(e,t,n,s=new ru){const i=e.containingRegion;for(const r of t.effects)Kc(r,e,n,s,this);e.containingRegion!==i&&void 0!==i&&e.statuses.includes(qc.Avian)&&i.addUnit(iu.Egg.instantiate()),e.spendAction(),e.removeStatus(qc.Pheromones),void 0===this.boss||this.boss.alive||("Matriarch"===this.boss.name?this.mapState.matriarchBeaten=!0:this.mapState.killBoss())}*calculateEnemyActions(){let e=[];for(;;){const t=this.battlefield.getEnemyActors().filter(t=>!e.includes(t));if(0===t.length)return;const n=Fc.fromArray(t),s=[],i=[],r=[];for(let e of n.skills){if(!e.canBeUsedBy(n))continue;let t=this.battlefield.getTargetables(n,e.targetingMode);for(let o of t){const t={user:n,target:o,skill:e};switch(e.rating.target*o.rating){case Bc.Good:s.push(t);break;case Bc.Neutral:i.push(t);break;case Bc.Bad:r.push(t)}}}s.length>0?yield Fc.fromArray(s):i.length>0?yield Fc.fromArray(i):e.push(n)}}canRetreat(){return this.tank.containingRegion===this.battlefield.regions[0]}canPackUp(){return 0===this.battlefield.getAllUnitsOfFaction(Nc.Creature).length}}let au=(()=>{class e{constructor(e,t,n,s,i){this._name=e,this.regionNames=t,this.species=n,this.deposits=s,this.boss=i}get name(){return this._name}generateBattlefield(e=!1){const t=e?3:Fc.int(3,6),n=[],s=[];for(let r=0;r<t;r++){const e=new zc(Fc.fromArray(this.regionNames));n.push(e),s.push([e,r+1])}e&&n[n.length-1].addUnit(this.boss.instantiate());const i=e?4:Fc.int(t,2*t);if(this.species.length>0)for(let r=0;r<i;r++)Fc.weightedRandom(s).addUnit(Fc.weightedRandom(this.species).instantiate());if(this.deposits.length>0){const e=Fc.int(.5*t,1*t);for(let t=0;t<e;t++)Fc.fromArray(n).addUnit(Fc.weightedRandom(this.deposits).instantiate())}return new Xc(n)}}return e.Desert=new e("Desert",["Dune","Oasis","Flats"],[[iu.Crab,2],[iu.Lobster,1]],[[iu.Well,1]],iu.Friday),e.Forest=new e("Forest",["Clearing","Thicket","Creek"],[[iu.Rat,2],[iu.Tyger,1]],[[iu.Clutch,1]],iu.Charleston),e.Mountain=new e("Mountain",["Plateau","Peak","Valley"],[[iu.Wyrm,2],[iu.Drake,1]],[[iu.Spire,1]],iu.Ember),e.Ocean=new e("Ocean",["Sandbar","Shallows","Tide Pool"],[[iu.Isopod,2],[iu.Barracuda,1]],[[iu.Coral,1]],iu.Mint),e.Wasteland=new e("Wasteland",["Ruins","Tarmac","Sewers"],[[iu.Anemone,1],[iu.Vermin,1]],[[iu.Lodestone,1]],iu.Magic),e.Nest=new e("Nest",["Marsh","Swamp","Wetland"],[],[[iu.Egg,1]],iu.Matriarch),e})(),lu=(()=>{class e{constructor(e,t,n,s,i=[],r={}){this.name=e,this.motto=t,this.location=n,this.explorationNeeded=s,this.schematics=i,this.priceMultipliers=r}static getCities(){return[e.FlowerHeights,e.Iivi,e.Solarium,e.HuskGarage,e.MilleniumHall]}getPriceMultiplier(e){const t=Dc.multitonKey(Lc,e),n=this.priceMultipliers[t];return void 0!==n?n:1}getBuyPrice(e){return e.value*this.getPriceMultiplier(e)}getSellPrice(e){return 2*this.getBuyPrice(e)}}return e.FlowerHeights=new e("Flower Heights","Pruning a World in Bloom",au.Forest,0,[[iu.Mister,30],[iu.Gardener,50],[iu.Mulcher,60],[iu.Diffuser,90]]),e.Iivi=new e("iivi","Resonance Without Limit",au.Mountain,0,[[iu.Controller,100]]),e.Solarium=new e("Solarium","For the Love of Light",au.Desert,0,[[iu.Firebomb,10],[iu.Igniter,25],[iu.Firefighter,50]]),e.MilleniumHall=new e("Millenium Hall","To One Thousand Years of Progress",au.Ocean,0,[[iu.Lifter,25],[iu.Protector,60],[iu.ShieldGenerator,100]]),e.HuskGarage=new e("Husk Garage","Repair and Breathe",au.Wasteland,0,[[iu.Battery,25],[iu.Dynamo,50],[iu.Gearhead,60],[iu.Salvager,75],[iu.MiniFactory,125]]),e})();class cu{constructor(e){if(this.matriarchBeaten=!1,this.biomes=[au.Ocean,au.Forest,au.Mountain,au.Wasteland,au.Desert],this._location=au.Desert,void 0!==e)this.progress=e;else{let e={};for(let t of this.biomes)e[t.name]={percentExplored:0,bossBeaten:!1};this.progress=e}}get playerLocation(){return this._location}get finalBossAvailable(){return!this.matriarchBeaten&&Object.values(this.progress).map(e=>e.bossBeaten).reduce((e,t)=>e&&t)}bossFightAvailable(e){const t=this.progress[e.name];return!t.bossBeaten&&t.percentExplored>=100}getProgress(e){return e===au.Nest?{percentExplored:100,bossBeaten:this.matriarchBeaten}:this.progress[e.name]}citiesAvailableIn(e){return lu.getCities().filter(t=>t.location===e&&this.getProgress(e).percentExplored>=t.explorationNeeded)}exploreRegion(e,t){e!==au.Nest&&(this.progress[e.name].percentExplored=Math.min(100,this.progress[e.name].percentExplored+t))}moveTank(e){this._location=e}killBoss(e=this._location){e!==au.Nest&&(this.progress[e.name].bossBeaten=!0)}}var uu,hu,du,pu;!function(e){e.wait=function(e){return new Promise((t,n)=>{window.setTimeout(()=>{t()},1e3*e)})}}(uu||(uu={})),function(e){let t={active:!1,user:void 0,skill:void 0,targetables:[]};function n(){const e=new cu,t=new ru,n=function(e){const t=["Plains","Island","Swamp","Mountain","Forest"],n=iu.Tank.instantiate(),s=[iu.Rat,iu.Wyrm],i=new Xc([]);for(const r of t){const e=new zc(r);for(let t=0;t<1;t++)e.addUnit(Fc.fromArray(s).instantiate());i.regions.push(e)}return i.regions=Fc.shuffle(i.regions),i.regions[0].addUnit(n),new ou(n,i,e)}(e);return new nu(tu.Map,n,t,e)}let s=n();function i(e){const t=iu.Tank.instantiate();e.regions[0].addUnit(t),s.combat=new ou(t,e,s.map),s.mode=tu.Battle}function r(){s.mode=tu.Map}function o(e){if(!t.active||!t.targetables.includes(e))throw new Error("Game.target() called while not targeting, somehow");s.combat.useSkill(t.user,t.skill,e,s.inventory),t.active=!1}e.newGame=function(){s=n()},e.getMode=function(){return s.mode},e.getBattlefield=function(){return s.combat.battlefield},e.getInventoryState=function(){return s.inventory},e.getCombatState=function(){return s.combat},e.getMapState=function(){return s.map},e.getTargetables=function(){return t.active?t.targetables:[]},e.isEnemyTurn=function(){return s.combat.isEnemyTurn},e.enterCity=function(e){s.map.city=e,s.mode=tu.Town},e.enterBiome=function(e,t=!1){s.map.exploreRegion(e,2),i(e.generateBattlefield(t))},e.enterCombat=i,e.returnToMap=r,e.packUp=function(){const e=s.combat.battlefield.getAllUnitsOfFaction(Nc.Drone);for(let t of e)s.inventory.addResourceInventory(t.buildCost);for(let t of s.combat.battlefield.regions)s.inventory.addResourceInventory(t.collectResources());s.map.exploreRegion(s.map.playerLocation,3),r()},e.beginTargeting=function(e,n){t={active:!0,user:e,skill:n,targetables:s.combat.battlefield.getTargetables(e,n.targetingMode),target:void 0}},e.cancelTargeting=function(){t.active=!1},e.target=o,e.isCurrentlyUsing=function(e,n){return!1!==t.active&&(void 0===n?t.user===e:t.user===e&&t.skill===n)},e.isCurrentlyBeingTargeted=function(e){return t.active&&t.target===e},e.advanceTurn=function(){return e=this,void 0,i=function*(){s.combat.isEnemyTurn=!0;const e=s.combat.calculateEnemyActions();for(let n of e)t={active:!0,target:n.target,targetables:s.combat.battlefield.getTargetables(n.user,n.skill.targetingMode),user:n.user,skill:n.skill},console.log(n),yield uu.wait(2),o(n.target);s.combat.advanceTurn(),s.combat.isEnemyTurn=!1},new((n=void 0)||(n=Promise))((function(t,s){function r(e){try{a(i.next(e))}catch(t){s(t)}}function o(e){try{a(i.throw(e))}catch(t){s(t)}}function a(e){var s;e.done?t(e.value):(s=e.value,s instanceof n?s:new n((function(e){e(s)}))).then(r,o)}a((i=i.apply(e,[])).next())}));var e,n,i},e.build=function(e){console.log("Building "+e.name);const t=s.combat.tank.containingRegion;void 0!==t&&(t.addUnit(e.instantiate()),s.combat.buildActions-=e.buildActionCost)},e.creditsActive=function(){return s.creditsActive},e.toggleCredits=function(){s.creditsActive=!s.creditsActive},e.setCreditsActive=function(e){s.creditsActive=e},e.titleActive=function(){return s.titleActive},e.toggleTitle=function(){s.titleActive=!s.titleActive},e.setTitleActive=function(e){s.titleActive=e},e.noteActive=function(){return void 0!==s.activeNote},e.viewNote=function(e){s.activeNote=e},e.activeNote=function(){return s.activeNote},e.hideNote=function(){s.activeNote=void 0},e.retire=function(){s.activeNote=eu.Victory}}(hu||(hu={})),(pu=du||(du={})).eliminateScarcity=function(){hu.getInventoryState().addResourceInventory(Hc.fromAmount(1/0))},pu.receiveMassiveInheritance=function(){hu.getInventoryState().addCredits(1/0)},pu.inventEverything=function(){const e=Dc.safeKeys(iu);for(const t of e)iu[t]instanceof iu&&hu.getInventoryState().addSchematic(iu[t])},pu.mapTheWorld=function(){const e=hu.getMapState();for(let t of e.biomes)e.exploreRegion(t,100)},pu.hundredAndFourDays=function(){hu.getCombatState().buildActions=1/0},pu.efficientDefeats=function(){const e=hu.getMapState();for(let t of e.biomes)e.killBoss(t)};let fu=(()=>{class e{static addClass(e,t){e.classList?e.classList.add(t):e.className+=" "+t}static addMultipleClasses(e,t){if(e.classList){let n=t.split(" ");for(let t=0;t<n.length;t++)e.classList.add(n[t])}else{let n=t.split(" ");for(let t=0;t<n.length;t++)e.className+=" "+n[t]}}static removeClass(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,(function(t){return t!==e}))}static find(e,t){return Array.from(e.querySelectorAll(t))}static findSingle(e,t){return e?e.querySelector(t):null}static index(e){let t=e.parentNode.childNodes,n=0;for(var s=0;s<t.length;s++){if(t[s]==e)return n;1==t[s].nodeType&&n++}return-1}static indexWithinGroup(e,t){let n=e.parentNode?e.parentNode.childNodes:[],s=0;for(var i=0;i<n.length;i++){if(n[i]==e)return s;n[i].attributes&&n[i].attributes[t]&&1==n[i].nodeType&&s++}return-1}static relativePosition(e,t){let n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const s=t.offsetHeight,i=t.getBoundingClientRect(),r=this.getViewport();let o,a;i.top+s+n.height>r.height?(o=-1*n.height,e.style.transformOrigin="bottom",i.top+o<0&&(o=-1*i.top)):(o=s,e.style.transformOrigin="top"),a=n.width>r.width?-1*i.left:i.left+n.width>r.width?-1*(i.left+n.width-r.width):0,e.style.top=o+"px",e.style.left=a+"px"}static absolutePosition(e,t){let n,s,i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),r=i.height,o=i.width,a=t.offsetHeight,l=t.offsetWidth,c=t.getBoundingClientRect(),u=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),d=this.getViewport();c.top+a+r>d.height?(n=c.top+u-r,e.style.transformOrigin="bottom",n<0&&(n=u)):(n=a+c.top+u,e.style.transformOrigin="top"),s=c.left+o>d.width?Math.max(0,c.left+h+l-o):c.left+h,e.style.top=n+"px",e.style.left=s+"px"}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}static getHiddenElementDimensions(e){let t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t}static scrollInView(e,t){let n=getComputedStyle(e).getPropertyValue("borderTopWidth"),s=n?parseFloat(n):0,i=getComputedStyle(e).getPropertyValue("paddingTop"),r=i?parseFloat(i):0,o=e.getBoundingClientRect(),a=t.getBoundingClientRect().top+document.body.scrollTop-(o.top+document.body.scrollTop)-s-r,l=e.scrollTop,c=e.clientHeight,u=this.getOuterHeight(t);a<0?e.scrollTop=l+a:a+u>c&&(e.scrollTop=l+a-c+u)}static fadeIn(e,t){e.style.opacity=0;let n=+new Date,s=0,i=function(){s=+e.style.opacity.replace(",",".")+((new Date).getTime()-n)/t,e.style.opacity=s,n=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))};i()}static fadeOut(e,t){var n=1,s=50/t;let i=setInterval(()=>{(n-=s)<=0&&(n=0,clearInterval(i)),e.style.opacity=n},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,t){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),this)}).call(e,t)}static getOuterWidth(e,t){let n=e.offsetWidth;if(t){let t=getComputedStyle(e);n+=parseFloat(t.marginLeft)+parseFloat(t.marginRight)}return n}static getHorizontalPadding(e){let t=getComputedStyle(e);return parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)}static getHorizontalMargin(e){let t=getComputedStyle(e);return parseFloat(t.marginLeft)+parseFloat(t.marginRight)}static innerWidth(e){let t=e.offsetWidth,n=getComputedStyle(e);return t+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}static width(e){let t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}static getInnerHeight(e){let t=e.offsetHeight,n=getComputedStyle(e);return t+=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom),t}static getOuterHeight(e,t){let n=e.offsetHeight;if(t){let t=getComputedStyle(e);n+=parseFloat(t.marginTop)+parseFloat(t.marginBottom)}return n}static getHeight(e){let t=e.offsetHeight,n=getComputedStyle(e);return t-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),t}static getWidth(e){let t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),t}static getViewport(){let e=window,t=document,n=t.documentElement,s=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||s.clientWidth,height:e.innerHeight||n.clientHeight||s.clientHeight}}static getOffset(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,t){let n=e.parentNode;if(!n)throw"Can't replace element";return n.replaceChild(t,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static appendChild(e,t){if(this.isElement(t))t.appendChild(e);else{if(!t.el||!t.el.nativeElement)throw"Cannot append "+t+" to "+e;t.el.nativeElement.appendChild(e)}}static removeChild(e,t){if(this.isElement(t))t.removeChild(e);else{if(!t.el||!t.el.nativeElement)throw"Cannot remove "+e+" from "+t;t.el.nativeElement.removeChild(e)}}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let t=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let t=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t}static invokeElementMethod(e,t,n){e[t].apply(e,n)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(t){let n=e.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'),s=[];for(let e of n)"none"!=getComputedStyle(e).display&&"hidden"!=getComputedStyle(e).visibility&&s.push(e);return s}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return e.zindex=1e3,e.calculatedScrollbarWidth=null,e.calculatedScrollbarHeight=null,e})(),mu=(()=>{class e{constructor(){this.ripple=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ne({factory:function(){return new e},token:e,providedIn:"root"}),e})(),gu=(()=>{class e{constructor(e){this.template=e}getType(){return this.name}}return e.\u0275fac=function(t){return new(t||e)(eo(da))},e.\u0275dir=ct({type:e,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),e})(),yu=(()=>{class e{}return e.\u0275mod=at({type:e}),e.\u0275inj=se({factory:function(t){return new(t||e)},imports:[[ec]]}),e})(),bu=(()=>{class e{constructor(e,t,n){this.el=e,this.zone=t,this.config=n}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let t=this.getInk();if(!t||"none"===getComputedStyle(t,null).display)return;if(fu.removeClass(t,"p-ink-active"),!fu.getHeight(t)&&!fu.getWidth(t)){let e=Math.max(fu.getOuterWidth(this.el.nativeElement),fu.getOuterHeight(this.el.nativeElement));t.style.height=e+"px",t.style.width=e+"px"}let n=fu.getOffset(this.el.nativeElement),s=e.pageX-n.left+document.body.scrollTop-fu.getWidth(t)/2,i=e.pageY-n.top+document.body.scrollLeft-fu.getHeight(t)/2;t.style.top=i+"px",t.style.left=s+"px",fu.addClass(t,"p-ink-active")}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&fu.removeClass(e,"p-ink-active")}onAnimationEnd(e){fu.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),e.remove())}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return e.\u0275fac=function(t){return new(t||e)(eo(zo),eo(gl),eo(mu,8))},e.\u0275dir=ct({type:e,selectors:[["","pRipple",""]],hostVars:2,hostBindings:function(e,t){2&e&&So("p-ripple",!0)}}),e})(),_u=(()=>{class e{}return e.\u0275mod=at({type:e}),e.\u0275inj=se({factory:function(t){return new(t||e)},imports:[[ec]]}),e})();function vu(e,t){var n,s;1&e&&(function(e,t,n){const s=Ut(),i=qt(),r=e+pt,o=i.firstCreatePass?function(e,t,n,s,i){const r=t.consts,o=Ht(r,s),a=mi(t,n[6],e,4,"ng-container",o);return null!==o&&Vr(a,o,!0),Ai(t,n,a,Ht(r,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(e,i,s,t,n):i.data[r];Zt(o,!0);const a=s[r]=s[11].createComment("");fr(i,s,a,o),js(a,s),_t(o)&&(wi(i,s,o),vi(i,o,s)),null!=n&&ki(s,o)}(0,n,s),function(){let e=Kt();const t=qt();Gt()?Qt():(e=e.parent,Zt(e,!1)),t.firstCreatePass&&(bn(t,e),yt(e)&&t.queries.elementEnd(e))}())}const wu=function(e,t,n,s){return{"p-button-icon":!0,"p-button-icon-left":e,"p-button-icon-right":t,"p-button-icon-top":n,"p-button-icon-bottom":s}};function ku(e,t){if(1&e&&ro(0,"span",4),2&e){const e=ho();xo(e.icon),to("ngClass",(n=4,s=wu,i="left"===e.iconPos&&e.label,r="right"===e.iconPos&&e.label,o="top"===e.iconPos&&e.label,a="bottom"===e.iconPos&&e.label,function(e,t,n,s,i,r,o,a,l){const c=t+n;return function(e,t,n,s,i,r){const o=Yr(e,t,n,s);return Yr(e,t+2,i,r)||o}(e,c,i,r,o,a)?Gr(e,c+4,l?s.call(l,i,r,o,a):s(i,r,o,a)):Fa(e,c+4)}(Ut(),Xt(),n,s,i,r,o,a,l))),Jr("aria-hidden",!0)}var n,s,i,r,o,a,l}function Su(e,t){if(1&e&&(so(0,"span",4),Fo(1),io()),2&e){const e=ho();xo(e.badgeClass),to("ngClass","p-badge"),ii(1),Do(e.badge)}}const xu=function(e,t){return{"p-button p-component":!0,"p-button-icon-only":e,"p-button-vertical":t}},Cu=["*"];let Eu=(()=>{class e{constructor(){this.type="button",this.iconPos="left",this.onClick=new La,this.onFocus=new La,this.onBlur=new La}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":default:this.contentTemplate=e.template}})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=st({type:e,selectors:[["p-button"]],contentQueries:function(e,t,n){var s,i,r,o,a,l,c;1&e&&(o=n,a=gu,l=!1,function(e,t,n,s,i,r,o,a){e.firstCreatePass&&(function(e,t,n){null===e.queries&&(e.queries=new Va),e.queries.track(new Ua(t,n))}(e,new za(n,s,!1,i),o.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,a)),function(e,t){const n=new Ha;Ci(e,t,n,n.destroy),null===t[19]&&(t[19]=new $a),t[19].queries.push(new Ba(n))}(e,t)}(qt(),Ut(),a,l,c,0,Kt(),o)),2&e&&function(e){const t=Ut(),n=qt(),s=on();an(s+1);const i=Za(n,s);if(e.dirty&&Lt(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{const r=i.crossesNgTemplate?function e(t,n,s,i){const r=t.queries.getByIndex(s),o=r.matches;if(null!==o){const a=Ka(t,n,r,s);for(let t=0;t<o.length;t+=2){const s=o[t];if(s>0)i.push(a[t/2]);else{const r=o[t+1],a=n[-s];for(let t=ft;t<a.length;t++){const n=a[t];n[17]===n[3]&&e(n[1],n,r,i)}if(null!==a[9]){const t=a[9];for(let n=0;n<t.length;n++){const s=t[n];e(s[1],s,r,i)}}}}}return i}(n,t,s,[]):Ka(n,t,i,s);e.reset(r),e.notifyOnChanges()}return!0}return!1}((i=Ut(),r=on(),s=i[19].queries[r].queryList))&&(t.templates=s)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",style:"style",styleClass:"styleClass",badgeClass:"badgeClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:Cu,decls:7,vars:14,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(e,t){var n,s,i,r,o;1&e&&(fo(),so(0,"button",0),lo("click",(function(e){return t.onClick.emit(e)}))("focus",(function(e){return t.onFocus.emit(e)}))("blur",(function(e){return t.onBlur.emit(e)})),mo(1),Xr(2,vu,1,0,"ng-container",1),Xr(3,ku,1,9,"span",2),so(4,"span",3),Fo(5),io(),Xr(6,Su,2,4,"span",2),io()),2&e&&(xo(t.styleClass),to("ngStyle",t.style)("disabled",t.disabled)("ngClass",(n=11,s=xu,i=t.icon&&!t.label,r=("top"===t.iconPos||"bottom"===t.iconPos)&&t.label,function(e,t,n,s,i,r,o){const a=t+n;return Yr(e,a,i,r)?Gr(e,a+2,o?s.call(o,i,r):s(i,r)):Fa(e,a+2)}(Ut(),Xt(),n,s,i,r,o))),Jr("type",t.type),ii(2),to("ngTemplateOutlet",t.contentTemplate),ii(1),to("ngIf",t.icon),ii(1),Jr("aria-hidden",t.icon&&!t.label),ii(1),Do(t.label||"\xa0"),ii(1),to("ngIf",t.badge))},directives:[bu,Jl,ql,Xl,Gl],encapsulation:2,changeDetection:0}),e})(),Tu=(()=>{class e{}return e.\u0275mod=at({type:e}),e.\u0275inj=se({factory:function(t){return new(t||e)},imports:[[ec,_u]]}),e})(),Au=(()=>{class e{constructor(e,t){this.name=e,this.duties=t}get dutiesString(){return this.duties.join(", ")}}return e.May=new e("May Lawver",["team lead","programming"]),e.Mitchell=new e("Mitchell Philipp",["programming"]),e.Lilly=new e("Lilly Rizvi",["photography"]),e.Grace=new e("Grace Rarer",["programming"]),e.Nicole=new e("Nicole Prindle",["continuous integration","programming"]),e})();function Ou(e,t){if(1&e&&(so(0,"p"),so(1,"strong"),Fo(2),io(),Fo(3),io()),2&e){const e=t.$implicit;ii(2),No("",e.name,":"),ii(1),No(" ",e.dutiesString,"")}}let Iu=(()=>{class e{constructor(){}ngOnInit(){}credits(){return Dc.multitonValues(Au)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=st({type:e,selectors:[["app-credits-page"]],decls:4,vars:1,consts:[[1,"heading"],[1,"people"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(so(0,"h2",0),Fo(1,"Credits"),io(),so(2,"div",1),Xr(3,Ou,4,2,"p",2),io()),2&e&&(ii(3),to("ngForOf",t.credits()))},directives:[Kl],styles:[".people[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;align-items:center;bottom:.5em;left:auto;right:auto;font-size:1.15em}.heading[_ngcontent-%COMP%]{text-align:center}h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:.5em 1em}"]}),e})(),Pu=(()=>{class e{constructor(){}ngOnInit(){}enterGame(){hu.newGame(),hu.setTitleActive(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=st({type:e,selectors:[["app-title-screen"]],decls:6,vars:0,consts:[[1,"main"],[3,"onClick"]],template:function(e,t){1&e&&(so(0,"div",0),so(1,"h1"),Fo(2,"Snakeskin Tanktread"),io(),so(3,"p-button",1),lo("onClick",(function(){return t.enterGame()})),Fo(4,"New Game"),io(),ro(5,"app-credits-page"),io())},directives:[Eu,Iu],styles:["[_nghost-%COMP%]{display:flex;width:100%;height:100vh;width:100vw;background-size:100% auto;background-position:bottom;background-repeat:no-repeat;background-image:url(title.9f4d0e9ecbee1a8725ab.png);position:fixed;top:0;left:0}.main[_ngcontent-%COMP%]{background:hsla(0,0%,100%,.9);margin:auto;border:4px solid #000;padding:48px}.main[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{text-align:center}.main[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{display:block}"]}),e})();var Ru=n("DlQD");class Mu{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Fu(e,this.predicate,this.thisArg))}}class Fu extends f{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}class Du{}class Nu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),s=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,s),this.headers.has(s)?this.headers.get(s).push(i):this.headers.set(s,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const s=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(s,n),this.maybeSetNormalizedName(t,s))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Nu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Nu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Nu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...n),this.headers.set(t,s);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===i.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Lu{encodeKey(e){return ju(e)}encodeValue(e){return ju(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function ju(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Hu{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Lu,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const s=e.indexOf("="),[i,r]=-1==s?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,s)),t.decodeValue(e.slice(s+1))],o=n.get(i)||[];o.push(r),n.set(i,o)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Hu({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function Bu(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function $u(e){return"undefined"!=typeof Blob&&e instanceof Blob}function zu(e){return"undefined"!=typeof FormData&&e instanceof FormData}class Vu{constructor(e,t,n,s){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==n?n:null,i=s):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Nu),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new Hu,this.urlWithParams=t}serializeBody(){return null===this.body?null:Bu(this.body)||$u(this.body)||zu(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||zu(this.body)?null:$u(this.body)?this.body.type||null:Bu(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,s=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,r=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),l)),new Vu(t,n,i,{params:l,headers:a,reportProgress:o,responseType:s,withCredentials:r})}}var Uu=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({});class qu extends class{constructor(e,t=200,n="OK"){this.headers=e.headers||new Nu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Uu.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new qu({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function Wu(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Ku=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let s;if(e instanceof Vu)s=e;else{let i=void 0;i=n.headers instanceof Nu?n.headers:new Nu(n.headers);let r=void 0;n.params&&(r=n.params instanceof Hu?n.params:new Hu({fromObject:n.params})),s=new Vu(e,t,void 0!==n.body?n.body:null,{headers:i,params:r,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=function(...e){let t=e[e.length-1];return C(t)?(e.pop(),D(e,t)):H(e)}(s).pipe(N(e=>this.handler.handle(e),void 0,1));if(e instanceof Vu||"events"===n.observe)return i;const r=i.pipe((o=e=>e instanceof qu,function(e){return e.lift(new Mu(o,undefined))}));var o;switch(n.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return r.pipe(R(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return r.pipe(R(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return r.pipe(R(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return r.pipe(R(e=>e.body))}case"response":return r;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new Hu).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,Wu(n,t))}post(e,t,n={}){return this.request("POST",e,Wu(n,t))}put(e,t,n={}){return this.request("PUT",e,Wu(n,t))}}return e.\u0275fac=function(t){return new(t||e)(Be(Du))},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})();const Zu=["*"];class Gu{}const Qu=new Oe("SECURITY_CONTEXT");let Yu=(()=>{class e{constructor(e,t,n,s,i){this.platform=e,this.securityContext=t,this.http=n,this.sanitizer=i,this.initialMarkedOptions={renderer:new Ru.Renderer},this.options=s}get options(){return this._options}set options(e){this._options=Object.assign(Object.assign({},this.initialMarkedOptions),e)}get renderer(){return this.options.renderer}set renderer(e){this.options.renderer=e}compile(e,t=!1,n=!1,s=this.options){const i=this.trimIndentation(e),r=t?this.decodeHtml(i):i,o=n?this.renderEmoji(r):r,a=Object(Ru.parse)(o,s);return this.sanitizer.sanitize(this.securityContext,a)||""}getSource(e){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(e,{responseType:"text"}).pipe(R(t=>this.handleExtension(e,t)))}highlight(e){if(tc(this.platform)&&"undefined"!=typeof Prism){e||(e=document);const t=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(t,e=>e.classList.add("language-none")),Prism.highlightAllUnder(e)}}renderKatex(e,t){if("undefined"==typeof katex||void 0===katex.renderToString)throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");return e.replace(/\$([^\s][^$]*?[^\s])\$/gm,(e,n)=>katex.renderToString(n,t))}decodeHtml(e){if(tc(this.platform)){const t=document.createElement("textarea");return t.innerHTML=e,t.value}return e}handleExtension(e,t){const n=e?e.split("?")[0].split(".").splice(-1).join():null;return"md"!==n?"```"+n+"\n"+t+"\n```":t}renderEmoji(e){if("undefined"==typeof joypixels||void 0===joypixels.shortnameToUnicode)throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(e)}trimIndentation(e){if(!e)return"";let t;return e.split("\n").map(e=>{let n=t;return e.length>0&&(n=isNaN(n)?e.search(/\S|$/):Math.min(e.search(/\S|$/),n)),isNaN(t)&&(t=n),n?e.substring(n):e}).join("\n")}}return e.\u0275fac=function(t){return new(t||e)(Be(tl),Be(Qu),Be(Ku,8),Be(Gu,8),Be(Tc))},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})();var Ju=function(e){return e.LineHighlight="line-highlight",e.LineNumbers="line-numbers",e}({});let Xu=(()=>{class e{constructor(e,t){this.element=e,this.markdownService=t,this.error=new La,this.load=new La,this.ready=new La,this._emoji=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1}get emoji(){return this._emoji}set emoji(e){this._emoji=this.coerceBooleanProperty(e)}get katex(){return this._katex}set katex(e){this._katex=this.coerceBooleanProperty(e)}get lineHighlight(){return this._lineHighlight}set lineHighlight(e){this._lineHighlight=this.coerceBooleanProperty(e)}get lineNumbers(){return this._lineNumbers}set lineNumbers(e){this._lineNumbers=this.coerceBooleanProperty(e)}ngOnChanges(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){this.data||this.src||this.handleTransclusion()}render(e,t=!1){let n=this.markdownService.compile(e,t,this.emoji);n=this.katex?this.markdownService.renderKatex(n,this.katexOptions):n,this.element.nativeElement.innerHTML=n,this.handlePlugins(),this.markdownService.highlight(this.element.nativeElement),this.ready.emit()}coerceBooleanProperty(e){return null!=e&&""+e!="false"}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe(e=>{this.render(e),this.load.emit(e)},e=>this.error.emit(e))}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.lineHighlight&&(this.setPluginClass(this.element.nativeElement,Ju.LineHighlight),this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset})),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Ju.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(e,t){const n=e.querySelectorAll("pre");for(let s=0;s<n.length;s++){const e=t instanceof Array?t:[t];n.item(s).classList.add(...e)}}setPluginOptions(e,t){const n=e.querySelectorAll("pre");for(let s=0;s<n.length;s++)Object.keys(t).forEach(e=>{const i=t[e];if(i){const t=this.toLispCase(e);n.item(s).setAttribute(t,i.toString())}})}toLispCase(e){const t=e.match(/([A-Z])/g);if(!t)return e;let n=e.toString();for(let s=0,i=t.length;s<i;s++)n=n.replace(new RegExp(t[s]),"-"+t[s].toLowerCase());return"-"===n.slice(0,1)&&(n=n.slice(1)),n}}return e.\u0275fac=function(t){return new(t||e)(eo(zo),eo(Yu))},e.\u0275cmp=st({type:e,selectors:[["markdown"],["","markdown",""]],inputs:{emoji:"emoji",katex:"katex",lineHighlight:"lineHighlight",lineNumbers:"lineNumbers",data:"data",src:"src",katexOptions:"katexOptions",line:"line",lineOffset:"lineOffset",start:"start"},outputs:{error:"error",load:"load",ready:"ready"},features:[St],ngContentSelectors:Zu,decls:1,vars:0,template:function(e,t){1&e&&(fo(),mo(0))},encapsulation:2}),e})(),eh=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[Yu,t&&t.loader||[],t&&t.markedOptions||[],{provide:Qu,useValue:t&&null!=t.sanitize?t.sanitize:Ls.HTML}]}}static forChild(){return{ngModule:e}}}return e.\u0275mod=at({type:e}),e.\u0275inj=se({factory:function(t){return new(t||e)}}),e})(),th=(()=>{class e{constructor(){this.note=eu.Welcome}ngOnInit(){}hide(){this.note.isEnding?hu.setTitleActive(!0):hu.hideNote()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=st({type:e,selectors:[["app-note-screen"]],inputs:{note:"note"},decls:6,vars:2,consts:[[1,"main"],[3,"data"],[3,"onClick"]],template:function(e,t){1&e&&(so(0,"div",0),so(1,"h2"),Fo(2),io(),ro(3,"markdown",1),so(4,"p-button",2),lo("onClick",(function(){return t.hide()})),Fo(5,"Exit"),io(),io()),2&e&&(ii(2),Do(t.note.title),ii(1),to("data",t.note.body))},directives:[Xu,Eu],styles:["[_nghost-%COMP%]{display:flex;width:100%;height:100vh;width:100vw;align-items:center;background-size:100% auto;background-position:bottom;background-repeat:no-repeat;background-image:url(title.9f4d0e9ecbee1a8725ab.png);position:fixed;top:0;left:0}.main[_ngcontent-%COMP%]{background:#fff;margin:auto;border:4px solid #000;padding:3vw;max-width:75vw}.main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;text-align:justify}.main[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{display:block}"]}),e})(),nh=(()=>{class e{transform(e,...t){return e===1/0?"\u221e":"string"==typeof e?e.replace(/Infinity/g,"\u221e"):e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe={type:(t={name:"formatInfinity",type:e,pure:!0}).type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null},e;var t})();function sh(e,t){1&e&&(so(0,"p"),Fo(1,"None"),io())}function ih(e,t){if(1&e&&(so(0,"p"),Fo(1),Da(2,"formatInfinity"),io()),2&e){const e=t.$implicit;ii(1),Lo("",e.resource.name," \xd7",Na(2,2,e.amount),"")}}function rh(e,t){1&e&&(so(0,"p"),Fo(1,"None"),io())}function oh(e,t){if(1&e&&(so(0,"p"),Fo(1),io()),2&e){const e=t.$implicit;ii(1),Do(e.name)}}function ah(e,t){if(1&e){const e=oo();so(0,"p-button",7),lo("onClick",(function(){Wt(e);const n=t.$implicit;return ho().view(n)})),Fo(1),io()}if(2&e){const e=t.$implicit;ii(1),Do(e.title)}}let lh=(()=>{class e{constructor(){this.inventory=new ru,this.flex=!1}ngOnInit(){this.inventory=hu.getInventoryState()}notes(){return Dc.multitonValues(eu).filter(e=>e.available)}view(e){hu.viewNote(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=st({type:e,selectors:[["app-inventory-screen"]],inputs:{flex:"flex"},decls:21,vars:8,consts:[[1,"columns"],["id","resources",1,"flex"],[4,"ngIf"],[4,"ngFor","ngForOf"],["id","schematics",1,"flex"],["id","notes",1,"flex"],[3,"onClick",4,"ngFor","ngForOf"],[3,"onClick"]],template:function(e,t){1&e&&(so(0,"p"),Fo(1),Da(2,"formatInfinity"),io(),so(3,"div",0),so(4,"div"),so(5,"h3"),Fo(6,"Resources"),io(),so(7,"div",1),Xr(8,sh,2,0,"p",2),Xr(9,ih,3,4,"p",3),io(),io(),so(10,"div"),so(11,"h3"),Fo(12,"Schematics"),io(),so(13,"div",4),Xr(14,rh,2,0,"p",2),Xr(15,oh,2,1,"p",3),io(),io(),so(16,"div"),so(17,"h3"),Fo(18,"Documents"),io(),so(19,"div",5),Xr(20,ah,2,1,"p-button",6),io(),io(),io()),2&e&&(ii(1),No("",Na(2,6,t.inventory.credits),"\xa4"),ii(7),to("ngIf",0===t.inventory.resources.arr.length),ii(1),to("ngForOf",t.inventory.resources.arr),ii(5),to("ngIf",0===t.inventory.schematics.length),ii(1),to("ngForOf",t.inventory.schematics),ii(5),to("ngForOf",t.notes()))},directives:[Gl,Kl,Eu],pipes:[nh],styles:[".flex[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:20vh;overflow-y:scroll}.flex[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:2px 0}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}.columns[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.columns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0}"]}),e})();function ch(e,t){1&e&&(so(0,"p",9),Fo(1,"@"),io())}function uh(e,t){if(1&e){const e=oo();so(0,"div",7),lo("click",(function(){Wt(e);const n=t.$implicit;return ho().moveTank(n)})),so(1,"h3"),Fo(2),io(),so(3,"p"),Fo(4),io(),Xr(5,ch,2,0,"p",8),io()}if(2&e){const e=t.$implicit,n=ho();to("ngClass",e.name.toLowerCase()),ii(2),Do(e.name),ii(2),No("",n.progress(e).percentExplored,"% explored"),ii(1),to("ngIf",e==n.playerLocation())}}function hh(e,t){if(1&e){const e=oo();so(0,"p-button",2),lo("onClick",(function(){Wt(e);const n=t.$implicit;return ho().enterCity(n)})),Fo(1),io()}if(2&e){const e=t.$implicit;ii(1),No("Go To ",e.name,"")}}function dh(e,t){if(1&e){const e=oo();so(0,"p-button",2),lo("onClick",(function(){return Wt(e),ho().enterCombat(!0)})),Fo(1,"Enter Alpha Hive"),io()}}function ph(e,t){if(1&e){const e=oo();so(0,"p-button",2),lo("onClick",(function(){return Wt(e),ho().fightMatriarch()})),Fo(1,"Enter the Matriarch's Nest"),io()}}let fh=(()=>{class e{constructor(){}ngOnInit(){}biomes(){return hu.getMapState().biomes}cities(){return hu.getMapState().citiesAvailableIn(this.playerLocation())}playerLocation(){return hu.getMapState().playerLocation}moveTank(e){return hu.getMapState().moveTank(e)}progress(e){return hu.getMapState().getProgress(e)}bossFightAvailable(e){return hu.getMapState().bossFightAvailable(e)}enterCombat(e=!1){hu.enterBiome(hu.getMapState().playerLocation,e)}enterCity(e){hu.enterCity(e)}finalBossAvailable(){return hu.getMapState().finalBossAvailable}fightMatriarch(){hu.enterBiome(au.Nest,!0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=st({type:e,selectors:[["app-map-screen"]],decls:11,vars:4,consts:[["id","upper"],["class","biome",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"onClick"],[3,"onClick",4,"ngFor","ngForOf"],[3,"onClick",4,"ngIf"],["id","inventoryWrapper"],["flex","true"],[1,"biome",3,"ngClass","click"],["class","player",4,"ngIf"],[1,"player"]],template:function(e,t){1&e&&(so(0,"div",0),Xr(1,uh,6,4,"div",1),io(),so(2,"p-button",2),lo("onClick",(function(){return t.enterCombat()})),Fo(3,"Go Hunting"),io(),Xr(4,hh,2,1,"p-button",3),Xr(5,dh,2,0,"p-button",4),Xr(6,ph,2,0,"p-button",4),so(7,"div",5),so(8,"h2"),Fo(9,"Inventory"),io(),ro(10,"app-inventory-screen",6),io()),2&e&&(ii(1),to("ngForOf",t.biomes()),ii(3),to("ngForOf",t.cities()),ii(1),to("ngIf",t.bossFightAvailable(t.playerLocation())),ii(1),to("ngIf",t.finalBossAvailable()))},directives:[Kl,Eu,Gl,lh,ql],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}#upper[_ngcontent-%COMP%], [_nghost-%COMP%]{align-items:center;justify-content:center}#upper[_ngcontent-%COMP%]{display:inline-flex}table[_ngcontent-%COMP%]{font-size:24px}#d-pad[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}#d-pad[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{margin:8px}#sidebar[_ngcontent-%COMP%]{align-items:center}#areaInfo[_ngcontent-%COMP%], #sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center;font-size:125%}#inventoryWrapper[_ngcontent-%COMP%]{display:inline}.biome[_ngcontent-%COMP%]{min-width:128px;min-height:256px;border:4px solid #000;margin:16px;padding:8px;position:relative;cursor:pointer;background-size:contain;background-position:bottom;background-repeat:no-repeat}.biome[_ngcontent-%COMP%]   p.player[_ngcontent-%COMP%]{font-size:32px;text-align:center;margin:none;font-weight:700;position:absolute;top:-36px;left:-24px;background:#000;color:#fff;padding:2px}.biome[_ngcontent-%COMP%]:hover{border-color:#000}.biome[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .biome[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:none;text-align:center;background:hsla(0,0%,100%,.95)}.wasteland[_ngcontent-%COMP%]{background-image:url(wasteland_2.ae50935c63e21490de81.png)}.mountain[_ngcontent-%COMP%]{background-image:url(mountain.3f0628e5f16ac1ff97e2.png)}.forest[_ngcontent-%COMP%]{background-image:url(forest_temp.8387833aa64b6e977cee.png)}.desert[_ngcontent-%COMP%]{background-image:url(desert_temp.06b8b8f79be750b5ab56.png)}.ocean[_ngcontent-%COMP%]{background-image:url(ocean_temp.1b2e00688dbe5d5935cb.png)}"]}),e})(),mh=(()=>{class e{constructor(e,t){this.el=e,this.zone=t,this.tooltipPosition="right",this.tooltipEvent="hover",this.appendTo="body",this.tooltipZIndex="auto",this.escape=!0}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{"hover"===this.tooltipEvent?(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener)):"focus"===this.tooltipEvent&&(this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this),this.el.nativeElement.addEventListener("focus",this.focusListener),this.el.nativeElement.addEventListener("blur",this.blurListener))})}onMouseEnter(e){this.container||this.showTimeout||this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){this.active=!0,this.clearHideTimeout(),this.showDelay?this.showTimeout=setTimeout(()=>{this.show()},this.showDelay):this.show(),this.life&&(this.hideTimeout=setTimeout(()=>{this.hide()},this.showDelay?this.life+this.showDelay:this.life))}deactivate(){this.active=!1,this.clearShowTimeout(),this.hideDelay?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.hideDelay)):this.hide()}get text(){return this._text}set text(e){this._text=e,this.active&&(this._text?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.positionStyle&&(this.container.style.position=this.positionStyle),this.container.appendChild(this.tooltipText),"body"===this.appendTo?document.body.appendChild(this.container):fu.appendChild(this.container,"target"===this.appendTo?this.el.nativeElement:this.appendTo),this.container.style.display="inline-block"}show(){this.text&&!this.disabled&&(this.create(),this.align(),fu.fadeIn(this.container,250),this.container.style.zIndex="auto"===this.tooltipZIndex?++fu.zindex:this.tooltipZIndex,this.bindDocumentResizeListener())}hide(){this.remove()}updateText(){this.escape?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this._text))):this.tooltipText.innerHTML=this._text}align(){switch(this.tooltipPosition){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.appendTo||"target"===this.appendTo){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+fu.getWindowScrollLeft(),top:e.top+fu.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),t=e.left+fu.getOuterWidth(this.el.nativeElement),n=e.top+(fu.getOuterHeight(this.el.nativeElement)-fu.getOuterHeight(this.container))/2;this.container.style.left=t+"px",this.container.style.top=n+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),t=e.left-fu.getOuterWidth(this.container),n=e.top+(fu.getOuterHeight(this.el.nativeElement)-fu.getOuterHeight(this.container))/2;this.container.style.left=t+"px",this.container.style.top=n+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),t=e.left+(fu.getOuterWidth(this.el.nativeElement)-fu.getOuterWidth(this.container))/2,n=e.top-fu.getOuterHeight(this.container);this.container.style.left=t+"px",this.container.style.top=n+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),t=e.left+(fu.getOuterWidth(this.el.nativeElement)-fu.getOuterWidth(this.container))/2,n=e.top+fu.getOuterHeight(this.el.nativeElement);this.container.style.left=t+"px",this.container.style.top=n+"px"}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let t="p-tooltip p-component p-tooltip-"+e;this.container.className=this.tooltipStyleClass?t+" "+this.tooltipStyleClass:t}isOutOfBounds(){let e=this.container.getBoundingClientRect(),t=e.top,n=e.left,s=fu.getOuterWidth(this.container),i=fu.getOuterHeight(this.container),r=fu.getViewport();return n+s>r.width||n<0||t<0||t+i>r.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}unbindEvents(){"hover"===this.tooltipEvent?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.tooltipEvent&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.appendTo?document.body.removeChild(this.container):"target"===this.appendTo?this.el.nativeElement.removeChild(this.container):fu.removeChild(this.container,this.appendTo)),this.unbindDocumentResizeListener(),this.clearTimeouts(),this.container=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.remove()}}return e.\u0275fac=function(t){return new(t||e)(eo(zo),eo(gl))},e.\u0275dir=ct({type:e,selectors:[["","pTooltip",""]],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",tooltipZIndex:"tooltipZIndex",escape:"escape",disabled:["tooltipDisabled","disabled"],text:["pTooltip","text"],positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",showDelay:"showDelay",hideDelay:"hideDelay",life:"life"}}),e})(),gh=(()=>{class e{}return e.\u0275mod=at({type:e}),e.\u0275inj=se({factory:function(t){return new(t||e)},imports:[[ec]]}),e})(),yh=(()=>{class e{constructor(){this.status=qc.Fire}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=st({type:e,selectors:[["app-status-emoji"]],inputs:{status:"status"},decls:2,vars:3,consts:[["tooltipPosition","top",3,"pTooltip","escape"]],template:function(e,t){1&e&&(so(0,"span",0),Fo(1),io()),2&e&&(to("pTooltip",t.status.name+": "+t.status.desc)("escape",!1),ii(1),No("",t.status.emoji,"\ufe0f"))},directives:[mh],styles:[""]}),e})();function bh(e,t){if(1&e&&(so(0,"span"),Fo(1),io()),2&e){const e=t.$implicit;ii(1),No("",e," ")}}function _h(e,t){if(1&e){const e=oo();so(0,"p-button",4),lo("onClick",(function(){return Wt(e),ho(2).cancel()})),Fo(1,"\xd7"),io()}}function vh(e,t){if(1&e){const e=oo();so(0,"div"),so(1,"p-button",1),lo("onClick",(function(t){return Wt(e),ho().use(t)})),so(2,"strong"),Fo(3),io(),Xr(4,bh,2,1,"span",2),io(),Xr(5,_h,2,0,"p-button",3),io()}if(2&e){const e=ho();ii(1),to("disabled",e.disabled()),ii(2),No("",e.skill.name,":"),ii(1),to("ngForOf",e.description),ii(1),to("ngIf",e.currentlyUsing())}}function wh(e,t){if(1&e&&(so(0,"span"),Fo(1),io()),2&e){const e=t.$implicit;ii(1),No("",e," ")}}function kh(e,t){if(1&e&&(so(0,"p"),so(1,"strong"),Fo(2),io(),Xr(3,wh,2,1,"span",2),io()),2&e){const e=ho();ii(2),No("",e.skill.name,": "),ii(1),to("ngForOf",e.description)}}let Sh=(()=>{class e{constructor(){this.canBeUsed=!1,this.playerControlled=!1,this.description=[]}ngOnInit(){this.description=void 0!==this.skill?this.skill.description.split("\n"):[]}use(e){e.stopPropagation(),hu.beginTargeting(this.unit,this.skill)}currentlyUsing(){return hu.isCurrentlyUsing(this.unit,this.skill)}cancel(){hu.cancelTargeting()}disabled(){return!(this.canBeUsed&&!hu.isEnemyTurn()&&this.unit.canAct()&&this.skill.canBeUsedBy(this.unit))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=st({type:e,selectors:[["app-skill"]],hostVars:2,hostBindings:function(e,t){2&e&&So("currentlyUsing",t.currentlyUsing())},inputs:{skill:"skill",unit:"unit",canBeUsed:"canBeUsed",playerControlled:"playerControlled"},decls:2,vars:2,consts:[[4,"ngIf"],["styleClass","p-button-secondary p-button-sm p-button-raised p-button-text",3,"disabled","onClick"],[4,"ngFor","ngForOf"],["styleClass","p-button-secondary p-button-sm p-button-raised p-button-text",3,"onClick",4,"ngIf"],["styleClass","p-button-secondary p-button-sm p-button-raised p-button-text",3,"onClick"]],template:function(e,t){1&e&&(Xr(0,vh,6,4,"div",0),Xr(1,kh,4,2,"p",0)),2&e&&(to("ngIf",t.playerControlled),ii(1),to("ngIf",!t.playerControlled))},directives:[Gl,Eu,Kl],styles:["[_nghost-%COMP%]{display:block}.currentlyUsing[_nghost-%COMP%]{background:#cff}"]}),e})();function xh(e,t){1&e&&ro(0,"app-status-emoji",5),2&e&&to("status",t.$implicit)}function Ch(e,t){if(1&e&&(so(0,"span"),Fo(1),io()),2&e){const e=ho();ii(1),No("(+",e.species.buildPerTurn,"\u2699\ufe0f\ufe0f per turn)")}}function Eh(e,t){if(1&e&&(so(0,"span"),so(1,"span",6),Fo(2,"\u26a1\ufe0f"),io(),Fo(3),Da(4,"formatInfinity"),io()),2&e){const e=ho();ii(3),No(" ",Na(4,1,e.species.actionsPerTurn),"")}}function Th(e,t){1&e&&(so(0,"h4"),Fo(1,"Skills"),io())}function Ah(e,t){if(1&e&&(so(0,"li"),ro(1,"app-skill",7),io()),2&e){const e=t.$implicit;ii(1),to("skill",e)("canBeUsed",!1)}}let Oh=(()=>{class e{constructor(){this.species=iu.Tank}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=st({type:e,selectors:[["app-unit-species"]],inputs:{species:"species"},decls:17,vars:10,consts:[[3,"status",4,"ngFor","ngForOf"],[4,"ngIf"],["pTooltip","Health","tooltipPosition","top"],["id","skills"],[4,"ngFor","ngForOf"],[3,"status"],["pTooltip","Actions","tooltipPosition","top"],[3,"skill","canBeUsed"]],template:function(e,t){1&e&&(so(0,"h3"),Fo(1),Xr(2,xh,1,1,"app-status-emoji",0),Xr(3,Ch,2,1,"span",1),io(),so(4,"p"),so(5,"span",2),Fo(6,"\u2764\ufe0f\ufe0f"),io(),Fo(7),Da(8,"formatInfinity"),Xr(9,Eh,5,3,"span",1),io(),so(10,"p"),so(11,"strong"),Fo(12,"Build Cost:"),io(),Fo(13),io(),Xr(14,Th,2,0,"h4",1),so(15,"ul",3),Xr(16,Ah,2,2,"li",4),io()),2&e&&(ii(1),No(" ",t.species.name," "),ii(1),to("ngForOf",t.species.statuses),ii(1),to("ngIf",t.species.buildPerTurn>0),ii(4),No(" ",Na(8,8,t.species.health)," "),ii(2),to("ngIf",t.species.actionsPerTurn>0),ii(4),No(" ",t.species.buildActionCost,"\u2699\ufe0f\ufe0f"),ii(1),to("ngIf",t.species.skills.length>0),ii(2),to("ngForOf",t.species.skills))},directives:[Kl,Gl,mh,yh,Sh],pipes:[nh],styles:[""]}),e})();function Ih(e,t){if(1&e){const e=oo();so(0,"div"),ro(1,"app-unit-species",1),so(2,"p-button",2),lo("onClick",(function(){Wt(e);const n=t.$implicit;return ho().build(n)})),Fo(3,"Build"),io(),io()}if(2&e){const e=t.$implicit,n=ho();ii(1),to("species",e),ii(1),to("disabled",n.combat.buildActions<e.buildActionsCost)}}let Ph=(()=>{class e{constructor(){this.inventory=new ru,this.combat=hu.getCombatState()}ngOnInit(){this.inventory=hu.getInventoryState(),this.combat=hu.getCombatState()}build(e){hu.build(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=st({type:e,selectors:[["app-unit-build-screen"]],decls:6,vars:4,consts:[[4,"ngFor","ngForOf"],[3,"species"],["styleClass","p-button-secondary p-button-sm p-button-raised p-button-text",3,"disabled","onClick"]],template:function(e,t){1&e&&(so(0,"h2"),Fo(1,"Build a Unit"),io(),so(2,"h2"),Fo(3),Da(4,"formatInfinity"),io(),Xr(5,Ih,4,2,"div",0)),2&e&&(ii(3),No("",Na(4,2,t.combat.buildActions),"\u2699\ufe0f\ufe0f"),ii(2),to("ngForOf",t.inventory.schematics))},directives:[Kl,Oh,Eu],pipes:[nh],styles:[""]}),e})();function Rh(e,t){1&e&&ro(0,"app-status-emoji",4),2&e&&to("status",t.$implicit)}function Mh(e,t){if(1&e&&(so(0,"span"),Fo(1),io()),2&e){const e=ho(2);ii(1),No("(+",e.unit.buildPerTurn,"\u2699\ufe0f\ufe0f per turn)")}}function Fh(e,t){if(1&e&&(so(0,"h3"),Fo(1),Xr(2,Rh,1,1,"app-status-emoji",3),Xr(3,Mh,2,1,"span",0),io()),2&e){const e=ho();ii(1),No(" ",e.formattedName()," "),ii(1),to("ngForOf",e.unit.statuses),ii(1),to("ngIf",e.unit.buildPerTurn>0)}}function Dh(e,t){if(1&e&&(so(0,"span"),so(1,"span",5),Fo(2,"\u26a1\ufe0f"),io(),Fo(3),Da(4,"formatInfinity"),Da(5,"formatInfinity"),io()),2&e){const e=ho();ii(3),Lo(" ",Na(4,2,e.unit.actionsLeft),"/",Na(5,4,e.unit.actionsPerTurn),"")}}function Nh(e,t){if(1&e&&ro(0,"app-skill",8),2&e){const e=t.$implicit,n=ho(2);to("skill",e)("unit",n.unit)("canBeUsed",n.unit.canAct())("playerControlled",n.unit.playerControlled)}}function Lh(e,t){if(1&e&&(so(0,"div",6),so(1,"h4"),Fo(2,"Skills"),io(),Xr(3,Nh,1,4,"app-skill",7),io()),2&e){const e=ho();ii(3),to("ngForOf",e.unit.skills)}}let jh=(()=>{class e{constructor(){this.unit=void 0,this.targetable=!1,this.showHeader=!0,this.statusEmoji=[]}ngOnInit(){}ngOnChanges(){void 0!==this.unit&&(this.statusEmoji=this.unit.statuses.map(e=>e.emoji))}formattedName(){return void 0!==this.unit?this.unit.formattedName:"Undefined Unit"}target(e){this.targetable&&void 0!==this.unit&&(e.stopPropagation(),hu.target(this.unit))}beingTargeted(){return hu.isCurrentlyBeingTargeted(this.unit)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=st({type:e,selectors:[["app-unit"]],hostVars:4,hostBindings:function(e,t){1&e&&lo("click",(function(e){return t.target(e)})),2&e&&So("targetable",t.targetable)("targeted",t.beingTargeted())},inputs:{unit:"unit",targetable:"targetable",showHeader:"showHeader"},features:[St],decls:9,vars:9,consts:[[4,"ngIf"],["pTooltip","Health","tooltipPosition","top"],["id","skills",4,"ngIf"],[3,"status",4,"ngFor","ngForOf"],[3,"status"],["pTooltip","Actions","tooltipPosition","top"],["id","skills"],[3,"skill","unit","canBeUsed","playerControlled",4,"ngFor","ngForOf"],[3,"skill","unit","canBeUsed","playerControlled"]],template:function(e,t){1&e&&(Xr(0,Fh,4,3,"h3",0),so(1,"p"),so(2,"span",1),Fo(3,"\u2764\ufe0f\ufe0f"),io(),Fo(4),Da(5,"formatInfinity"),Da(6,"formatInfinity"),Xr(7,Dh,6,6,"span",0),io(),Xr(8,Lh,4,1,"div",2)),2&e&&(to("ngIf",!0===t.showHeader),ii(4),Lo(" ",Na(5,5,t.unit.health),"/",Na(6,7,t.unit.maxHealth)," "),ii(3),to("ngIf",t.unit.actionsPerTurn>0),ii(1),to("ngIf",t.unit.skills.length>0))},directives:[Gl,mh,Kl,yh,Sh],pipes:[nh],styles:["[_nghost-%COMP%]{display:block;background:#ddd;background-origin:border-box}.targetable[_nghost-%COMP%]{background:#9f9;cursor:pointer}.targetable[_nghost-%COMP%]:hover, .targeted[_nghost-%COMP%]{background:#f99}"]}),e})();function Hh(e,t){if(1&e&&ro(0,"app-unit",2),2&e){const e=t.$implicit,n=ho();to("unit",e)("targetable",n.isTargetable(e))}}function Bh(e,t){if(1&e&&(so(0,"p"),so(1,"strong"),Fo(2),io(),Fo(3),io()),2&e){const e=t.$implicit;ii(2),Do(e.resource.name),ii(1),No(" \xd7",e.amount,"")}}function $h(e,t){if(1&e&&(so(0,"div",3),Xr(1,Bh,4,2,"p",4),io()),2&e){const e=ho();ii(1),to("ngForOf",e.region.resources.arr)}}let zh=(()=>{class e{constructor(){this.targetable=!1}isTargetable(e){return hu.getTargetables().includes(e)}ngOnInit(){}target(){this.targetable&&void 0!==this.region&&hu.target(this.region)}beingTargeted(){return hu.isCurrentlyBeingTargeted(this.region)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=st({type:e,selectors:[["app-battlefield-region"]],hostVars:4,hostBindings:function(e,t){1&e&&lo("click",(function(){return t.target()})),2&e&&So("targetable",t.targetable)("targeted",t.beingTargeted())},inputs:{region:"region",targetable:"targetable"},decls:4,vars:3,consts:[[3,"unit","targetable",4,"ngFor","ngForOf"],["id","resources",4,"ngIf"],[3,"unit","targetable"],["id","resources"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(so(0,"h2"),Fo(1),io(),Xr(2,Hh,1,2,"app-unit",0),Xr(3,$h,2,1,"div",1)),2&e&&(ii(1),Do(t.region.name),ii(1),to("ngForOf",t.region.units),ii(1),to("ngIf",t.region.resources.arr.length>0))},directives:[Kl,Gl,jh],styles:["[_nghost-%COMP%]{display:block;border-left:4px solid grey;padding:2px 16px}.targetable[_nghost-%COMP%]{background:#9f9;cursor:pointer}.targetable[_nghost-%COMP%]:hover, .targeted[_nghost-%COMP%]{background:#f99}#units[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:column;justify-content:space-around}"]}),e})();function Vh(e,t){if(1&e&&ro(0,"app-battlefield-region",2),2&e){const e=t.$implicit,n=ho();to("region",e)("targetable",n.isTargetable(e))}}let Uh=(()=>{class e{constructor(){}ngOnInit(){this.battlefield=hu.getBattlefield(),this.targetables=hu.getTargetables()}isTargetable(e){return hu.getTargetables().includes(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=st({type:e,selectors:[["app-battlefield"]],decls:2,vars:1,consts:[[1,"battlefield-section"],["class","battlefield-section",3,"region","targetable",4,"ngFor","ngForOf"],[1,"battlefield-section",3,"region","targetable"]],template:function(e,t){1&e&&(ro(0,"app-unit-build-screen",0),Xr(1,Vh,1,2,"app-battlefield-region",1)),2&e&&(ii(1),to("ngForOf",t.battlefield.regions))},directives:[Ph,Kl,zh],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-around;overflow-y:hidden;align-items:stretch;height:calc(100vh - 64px);position:absolute;bottom:0}.battlefield-section[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;flex-grow:1;flex-basis:0}"]}),e})(),qh=(()=>{class e{constructor(){}ngOnInit(){}advanceTurn(){hu.advanceTurn()}retreat(){hu.returnToMap()}packUp(){hu.packUp()}canRetreat(){return hu.getCombatState().canRetreat()&&!hu.isEnemyTurn()}canPackUp(){return hu.getCombatState().canPackUp()&&!hu.isEnemyTurn()}canAdvance(){return!hu.isEnemyTurn()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=st({type:e,selectors:[["app-combat-screen"]],decls:8,vars:3,consts:[[1,"buttons"],["pTooltip","Retreat, leaving drones behind. Only possible from the leftmost region.","styleClass","p-button-raised",3,"disabled","click"],["pTooltip","Deconstruct all drones, collect all dropped resources, and leave. Only possible when all creatures are slain.","styleClass","p-button-raised",3,"disabled","click"],["styleClass","p-button-raised",3,"disabled","click"]],template:function(e,t){1&e&&(ro(0,"app-battlefield"),so(1,"div",0),so(2,"p-button",1),lo("click",(function(){return t.retreat()})),Fo(3,"Retreat"),io(),so(4,"p-button",2),lo("click",(function(){return t.packUp()})),Fo(5,"Pack Up"),io(),so(6,"p-button",3),lo("click",(function(){return t.advanceTurn()})),Fo(7,"Advance Turn"),io(),io()),2&e&&(ii(2),to("disabled",!t.canRetreat()),ii(2),to("disabled",!t.canPackUp()),ii(2),to("disabled",!t.canAdvance()))},directives:[Uh,Eu,mh],styles:[".buttons[_ngcontent-%COMP%]{display:block;margin:0 auto;position:fixed;top:8px;right:8px;font-size:16px}[_nghost-%COMP%]{flex:1}"]}),e})();function Wh(e,t){if(1&e){const e=oo();so(0,"p-button",7),lo("onClick",(function(){Wt(e);const n=t.$implicit;return ho(2).payBack(n)})),Fo(1),io()}if(2&e){const e=t.$implicit;to("disabled",!ho(2).canPayBack(e)),ii(1),No("Pay Back ",e,"\xa4.")}}const Kh=function(){return[1,10,100,1e3]};function Zh(e,t){if(1&e&&(so(0,"h2"),Fo(1),Xr(2,Wh,2,2,"p-button",6),io()),2&e){const e=ho();ii(1),No("Debt: ",e.inventory().debt,"\xa4 "),ii(1),to("ngForOf",Ma(2,Kh))}}function Gh(e,t){if(1&e){const e=oo();so(0,"h2"),Fo(1,"Your Debt Is Fully Repaid. "),so(2,"p-button",8),lo("onClick",(function(){return Wt(e),ho().retire()})),Fo(3,"Retire"),io(),io()}}function Qh(e,t){if(1&e){const e=oo();so(0,"p-button",7),lo("onClick",(function(){Wt(e);const n=t.$implicit,s=ho().$implicit;return ho().sell(s,n)})),Fo(1),io()}if(2&e){const e=t.$implicit,n=ho().$implicit,s=ho();to("disabled",!s.canSell(n,e)),ii(1),Lo("Sell ",e," for ",s.city().getSellPrice(n)*e,"\xa4.")}}const Yh=function(){return[1,10,100]};function Jh(e,t){if(1&e&&(so(0,"div",9),so(1,"p"),so(2,"strong"),Fo(3),io(),Fo(4),io(),so(5,"div",10),Xr(6,Qh,2,3,"p-button",6),io(),io()),2&e){const e=t.$implicit,n=ho();ii(3),No("",e.name,":"),ii(1),Lo(" ",e.description," (Owned: ",n.inventory().resources.getAmount(e),")"),ii(2),to("ngForOf",Ma(4,Yh))}}function Xh(e,t){1&e&&(so(0,"p"),Fo(1,"None"),io())}function ed(e,t){if(1&e){const e=oo();so(0,"p-button",7),lo("onClick",(function(){Wt(e);const t=ho().$implicit;return ho().buySchematic(t)})),Fo(1),io()}if(2&e){const e=ho().$implicit;to("disabled",!ho().canBuySchematic(e[1])),ii(1),Lo("Buy ",e[0].name," for ",e[1],"\xa4.")}}function td(e,t){1&e&&(so(0,"p-button",14),Fo(1,"Already Owned."),io()),2&e&&to("disabled",!0)}function nd(e,t){if(1&e&&(so(0,"div"),ro(1,"app-unit-species",11),Xr(2,ed,2,3,"p-button",12),Xr(3,td,2,1,"p-button",13),io()),2&e){const e=t.$implicit,n=ho();ii(1),to("species",e[0]),ii(1),to("ngIf",!n.inventory().schematics.includes(e[0])),ii(1),to("ngIf",n.inventory().schematics.includes(e[0]))}}let sd=(()=>{class e{constructor(){}ngOnInit(){}city(){return hu.getMapState().city}inventory(){return hu.getInventoryState()}canBuy(e,t){if(!e.forSale)return!1;const n=this.city().getBuyPrice(e)*t;return this.inventory().credits>=n}buy(e,t){const n=this.city().getBuyPrice(e)*t;this.inventory().removeCredits(n),this.inventory().addResource(e,t)}canBuySchematic(e){return this.inventory().credits>=e}buySchematic(e){this.inventory().removeCredits(e[1]),this.inventory().addSchematic(e[0])}canSell(e,t){return this.inventory().resources.getAmount(e)>=t}sell(e,t){const n=this.city().getSellPrice(e)*t;this.inventory().addCredits(n),this.inventory().removeResource(e,t)}canPayBack(e){const t=this.inventory();return t.credits>=e&&t.debt>=e}payBack(e){const t=this.inventory();t.debt-=e,t.credits-=e}retire(){hu.retire()}resources(){return Dc.multitonValues(Lc).filter(e=>e.forSale||hu.getInventoryState().resources.getAmount(e)>0)}leave(){hu.returnToMap()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=st({type:e,selectors:[["app-commerce-screen"]],decls:21,vars:10,consts:[[4,"ngIf"],[1,"resources"],["class","resource",4,"ngFor","ngForOf"],[1,"schematics"],[4,"ngFor","ngForOf"],["styleClass","p-button-rounded",3,"onClick"],[3,"disabled","onClick",4,"ngFor","ngForOf"],[3,"disabled","onClick"],[3,"onClick"],[1,"resource"],[1,"sell"],[3,"species"],[3,"disabled","onClick",4,"ngIf"],[3,"disabled",4,"ngIf"],[3,"disabled"]],template:function(e,t){1&e&&(so(0,"h1"),Fo(1),io(),so(2,"h2"),so(3,"em"),Fo(4),io(),io(),so(5,"h2"),Fo(6),Da(7,"formatInfinity"),io(),Xr(8,Zh,3,3,"h2",0),Xr(9,Gh,4,0,"h2",0),so(10,"h2"),Fo(11,"Resources"),io(),so(12,"div",1),Xr(13,Jh,7,5,"div",2),io(),so(14,"h2"),Fo(15,"Schematics"),io(),so(16,"div",3),Xr(17,Xh,2,0,"p",0),Xr(18,nd,4,3,"div",4),io(),so(19,"p-button",5),lo("onClick",(function(){return t.leave()})),Fo(20,"Stop Transacting"),io()),2&e&&(ii(1),Do(t.city().name),ii(3),No('"',t.city().motto,'"'),ii(2),No("Money: ",Na(7,8,t.inventory().credits),"\xa4"),ii(2),to("ngIf",t.inventory().debt>0),ii(1),to("ngIf",t.inventory().debt<=0),ii(4),to("ngForOf",t.resources()),ii(4),to("ngIf",0===t.city().schematics.length),ii(1),to("ngForOf",t.city().schematics))},directives:[Gl,Kl,Eu,Oh],pipes:[nh],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center}.resources[_ngcontent-%COMP%], .schematics[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around}.schematics[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{max-width:20vw}"]}),e})();function id(e,t){1&e&&ro(0,"app-title-screen")}function rd(e,t){1&e&&ro(0,"app-note-screen",2),2&e&&to("note",ho().activeNote())}function od(e,t){if(1&e){const e=oo();so(0,"div",4),so(1,"p-button",5),lo("onClick",(function(){return Wt(e),ho(2).eliminateScarcity()})),Fo(2,"Eliminate Scarcity"),io(),so(3,"p-button",5),lo("onClick",(function(){return Wt(e),ho(2).inventEverything()})),Fo(4,"Invent Everything"),io(),so(5,"p-button",5),lo("onClick",(function(){return Wt(e),ho(2).receiveMassiveInheritance()})),Fo(6,"Receive Massive Inheritance"),io(),so(7,"p-button",5),lo("onClick",(function(){return Wt(e),ho(2).mapTheWorld()})),Fo(8,"Map the World"),io(),so(9,"p-button",5),lo("onClick",(function(){return Wt(e),ho(2).hundredAndFourDays()})),Fo(10,"Hundred and Four Days"),io(),so(11,"p-button",5),lo("onClick",(function(){return Wt(e),ho(2).efficientDefeats()})),Fo(12,"Efficient Defeats"),io(),io()}}function ad(e,t){1&e&&ro(0,"app-map-screen")}function ld(e,t){1&e&&ro(0,"app-combat-screen")}function cd(e,t){1&e&&ro(0,"app-commerce-screen")}function ud(e,t){if(1&e){const e=oo();so(0,"div"),so(1,"p-button",6),lo("onClick",(function(){return Wt(e),ho(2).showCredits()})),Fo(2,"Credits"),io(),Xr(3,ad,1,0,"app-map-screen",0),Xr(4,ld,1,0,"app-combat-screen",0),Xr(5,cd,1,0,"app-commerce-screen",0),io()}if(2&e){const e=ho(2);ii(3),to("ngIf","map"===e.gameMode()),ii(1),to("ngIf","battle"===e.gameMode()),ii(1),to("ngIf","town"===e.gameMode())}}function hd(e,t){if(1&e){const e=oo();so(0,"div"),so(1,"p-button",6),lo("onClick",(function(){return Wt(e),ho(2).hideCredits()})),Fo(2,"Back"),io(),ro(3,"app-credits-page"),io()}}function dd(e,t){if(1&e&&(so(0,"div"),Xr(1,od,13,0,"div",3),Xr(2,ud,6,3,"div",0),Xr(3,hd,4,0,"div",0),io()),2&e){const e=ho();ii(1),to("ngIf",e.debugMode()),ii(1),to("ngIf",!e.creditsActive()),ii(1),to("ngIf",e.creditsActive())}}let pd=(()=>{class e{constructor(){this.title="tanktread"}debugMode(){return fs()}gameMode(){return hu.getMode()}creditsActive(){return hu.creditsActive()}showCredits(){hu.setCreditsActive(!0)}hideCredits(){hu.setCreditsActive(!1)}eliminateScarcity(){du.eliminateScarcity()}inventEverything(){du.inventEverything()}receiveMassiveInheritance(){du.receiveMassiveInheritance()}mapTheWorld(){du.mapTheWorld()}hundredAndFourDays(){du.hundredAndFourDays()}efficientDefeats(){du.efficientDefeats()}titleActive(){return hu.titleActive()}noteActive(){return hu.noteActive()}activeNote(){return hu.activeNote()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=st({type:e,selectors:[["app-root"]],decls:3,vars:3,consts:[[4,"ngIf"],[3,"note",4,"ngIf"],[3,"note"],["id","debugMenu",4,"ngIf"],["id","debugMenu"],["styleClass","p-button-help p-button-rounded",3,"onClick"],[1,"creditsButton",3,"onClick"]],template:function(e,t){1&e&&(Xr(0,id,1,0,"app-title-screen",0),Xr(1,rd,1,1,"app-note-screen",1),Xr(2,dd,4,3,"div",0)),2&e&&(to("ngIf",t.titleActive()),ii(1),to("ngIf",!t.titleActive()&&t.noteActive()),ii(1),to("ngIf",!t.titleActive()&&!t.noteActive()))},directives:[Gl,Pu,th,Eu,fh,qh,sd,Iu],styles:["h1[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]{font-family:monospace;display:flex;flex-direction:column;height:100vh;overflow-x:hidden;padding:8px}#debugMenu[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;align-content:space-around;justify-content:center}#debugMenu[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{display:block;margin:2px}.creditsButton[_ngcontent-%COMP%]{position:absolute;top:8px;left:8px}"]}),e})();class fd{}const md="*";function gd(e,t=null){return{type:2,steps:e,options:t}}function yd(e){return{type:6,styles:e,offset:null}}function bd(e){Promise.resolve(null).then(e)}class _d{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bd(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class vd{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,s=0;const i=this.players.length;0==i?bd(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==i&&this._onFinish()}),e.onDestroy(()=>{++n==i&&this._onDestroy()}),e.onStart(()=>{++s==i&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){let e=0;return this.players.forEach(t=>{const n=t.getPosition();e=Math.min(n,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}let wd=(()=>{class e{}return e.\u0275mod=at({type:e}),e.\u0275inj=se({factory:function(t){return new(t||e)},imports:[[ec],yu]}),e})();function kd(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Sd(e){switch(e.length){case 0:return new _d;case 1:return e[0];default:return new vd(e)}}function xd(e,t,n,s,i={},r={}){const o=[],a=[];let l=-1,c=null;if(s.forEach(e=>{const n=e.offset,s=n==l,u=s&&c||{};Object.keys(e).forEach(n=>{let s=n,a=e[n];if("offset"!==n)switch(s=t.normalizePropertyName(s,o),a){case"!":a=i[n];break;case md:a=r[n];break;default:a=t.normalizeStyleValue(n,s,a,o)}u[s]=a}),s||a.push(u),c=u,l=n}),o.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${o.join(e)}`)}return a}function Cd(e,t,n,s){switch(t){case"start":e.onStart(()=>s(n&&Ed(n,"start",e)));break;case"done":e.onDone(()=>s(n&&Ed(n,"done",e)));break;case"destroy":e.onDestroy(()=>s(n&&Ed(n,"destroy",e)))}}function Ed(e,t,n){const s=n.totalTime,i=Td(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==s?e.totalTime:s,!!n.disabled),r=e._data;return null!=r&&(i._data=r),i}function Td(e,t,n,s,i="",r=0,o){return{element:e,triggerName:t,fromState:n,toState:s,phaseName:i,totalTime:r,disabled:!!o}}function Ad(e,t,n){let s;return e instanceof Map?(s=e.get(t),s||e.set(t,s=n)):(s=e[t],s||(s=e[t]=n)),s}function Od(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let Id=(e,t)=>!1,Pd=(e,t)=>!1,Rd=(e,t,n)=>[];const Md=kd();(Md||"undefined"!=typeof Element)&&(Id=(e,t)=>e.contains(t),Pd=(()=>{if(Md||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):Pd}})(),Rd=(e,t,n)=>{let s=[];if(n)s.push(...e.querySelectorAll(t));else{const n=e.querySelector(t);n&&s.push(n)}return s});let Fd=null,Dd=!1;function Nd(e){Fd||(Fd=("undefined"!=typeof document?document.body:null)||{},Dd=!!Fd.style&&"WebkitAppearance"in Fd.style);let t=!0;return Fd.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Fd.style,!t&&Dd)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Fd.style),t}const Ld=Pd,jd=Id,Hd=Rd;function Bd(e){const t={};return Object.keys(e).forEach(n=>{const s=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[s]=e[n]}),t}let $d=(()=>{class e{validateStyleProperty(e){return Nd(e)}matchesElement(e,t){return Ld(e,t)}containsElement(e,t){return jd(e,t)}query(e,t,n){return Hd(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,s,i,r=[],o){return new _d(n,s)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})(),zd=(()=>{class e{}return e.NOOP=new $d,e})();const Vd="ng-enter",Ud="ng-leave",qd="ng-trigger",Wd=".ng-trigger",Kd="ng-animating",Zd=".ng-animating";function Gd(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Qd(parseFloat(t[1]),t[2])}function Qd(e,t){switch(t){case"s":return 1e3*e;default:return e}}function Yd(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let s,i=0,r="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};s=Qd(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Qd(parseFloat(o),n[4]));const a=n[5];a&&(r=a)}else s=e;if(!n){let n=!1,r=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(r,0,`The provided timing value "${e}" is invalid.`)}return{duration:s,delay:i,easing:r}}(e,t,n)}function Jd(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function Xd(e,t,n={}){if(t)for(let s in e)n[s]=e[s];else Jd(e,n);return n}function ep(e,t,n){return n?t+":"+n+";":""}function tp(e){let t="";for(let n=0;n<e.style.length;n++){const s=e.style.item(n);t+=ep(0,s,e.style.getPropertyValue(s))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=ep(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function np(e,t,n){e.style&&(Object.keys(t).forEach(s=>{const i=up(s);n&&!n.hasOwnProperty(s)&&(n[s]=e.style[i]),e.style[i]=t[s]}),kd()&&tp(e))}function sp(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=up(t);e.style[n]=""}),kd()&&tp(e))}function ip(e){return Array.isArray(e)?1==e.length?e[0]:gd(e):e}const rp=new RegExp("{{\\s*(.+?)\\s*}}","g");function op(e){let t=[];if("string"==typeof e){let n;for(;n=rp.exec(e);)t.push(n[1]);rp.lastIndex=0}return t}function ap(e,t,n){const s=e.toString(),i=s.replace(rp,(e,s)=>{let i=t[s];return t.hasOwnProperty(s)||(n.push("Please provide a value for the animation param "+s),i=""),i.toString()});return i==s?e:i}function lp(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const cp=/-+([a-z0-9])/g;function up(e){return e.replace(cp,(...e)=>e[1].toUpperCase())}function hp(e,t){return 0===e||0===t}function dp(e,t,n){const s=Object.keys(n);if(s.length&&t.length){let r=t[0],o=[];if(s.forEach(e=>{r.hasOwnProperty(e)||o.push(e),r[e]=n[e]}),o.length)for(var i=1;i<t.length;i++){let n=t[i];o.forEach((function(t){n[t]=fp(e,t)}))}}return t}function pp(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function fp(e,t){return window.getComputedStyle(e)[t]}const mp="*";function gp(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const s=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof s)return void t.push(s);e=s}const s=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const i=s[1],r=s[2],o=s[3];t.push(_p(i,o)),"<"!=r[0]||i==mp&&o==mp||t.push(_p(o,i))}(e,n,t)):n.push(e),n}const yp=new Set(["true","1"]),bp=new Set(["false","0"]);function _p(e,t){const n=yp.has(e)||bp.has(e),s=yp.has(t)||bp.has(t);return(i,r)=>{let o=e==mp||e==i,a=t==mp||t==r;return!o&&n&&"boolean"==typeof i&&(o=i?yp.has(e):bp.has(e)),!a&&s&&"boolean"==typeof r&&(a=r?yp.has(t):bp.has(t)),o&&a}}const vp=new RegExp("s*:selfs*,?","g");function wp(e,t,n){return new kp(e).build(t,n)}class kp{constructor(e){this._driver=e}build(e,t){const n=new Sp(t);return this._resetContextStyleTimingState(n),pp(this,ip(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,s=t.depCount=0;const i=[],r=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,s=n.name;s.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,i.push(this.visitState(n,t))}),n.name=s}else if(1==e.type){const i=this.visitTransition(e,t);n+=i.queryCount,s+=i.depCount,r.push(i)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:i,transitions:r,queryCount:n,depCount:s,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(n.containsDynamicStyles){const i=new Set,r=s||{};if(n.styles.forEach(e=>{if(xp(e)){const t=e;Object.keys(t).forEach(e=>{op(t[e]).forEach(e=>{r.hasOwnProperty(e)||i.add(e)})})}}),i.size){const n=lp(i.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=pp(this,ip(e.animation),t);return{type:1,matchers:gp(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Cp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>pp(this,e,t)),options:Cp(e.options)}}visitGroup(e,t){const n=t.currentTime;let s=0;const i=e.steps.map(e=>{t.currentTime=n;const i=pp(this,e,t);return s=Math.max(s,t.currentTime),i});return t.currentTime=s,{type:3,steps:i,options:Cp(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return Ep(Yd(e,t).duration,0,"");const s=e;if(s.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=Ep(0,0,"");return e.dynamic=!0,e.strValue=s,e}return n=n||Yd(s,t),Ep(n.duration,n.delay,n.easing)}(e.timings,t.errors);let s;t.currentAnimateTimings=n;let i=e.styles?e.styles:yd({});if(5==i.type)s=this.visitKeyframes(i,t);else{let i=e.styles,r=!1;if(!i){r=!0;const e={};n.easing&&(e.easing=n.easing),i=yd(e)}t.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,t);o.isEmptyStep=r,s=o}return t.currentAnimateTimings=null,{type:4,timings:n,style:s,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==md?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let s=!1,i=null;return n.forEach(e=>{if(xp(e)){const t=e,n=t.easing;if(n&&(i=n,delete t.easing),!s)for(let e in t)if(t[e].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let s=t.currentTime,i=t.currentTime;n&&i>0&&(i-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const r=t.collectedStyles[t.currentQuerySelector],o=r[n];let a=!0;o&&(i!=s&&i>=o.startTime&&s<=o.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${s}ms"`),a=!1),i=o.startTime),a&&(r[n]={startTime:i,endTime:s}),t.options&&function(e,t,n){const s=t.params||{},i=op(e);i.length&&i.forEach(e=>{s.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let s=0;const i=[];let r=!1,o=!1,a=0;const l=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let l=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(xp(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(xp(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),c=0;return null!=l&&(s++,c=n.offset=l),o=o||c<0||c>1,r=r||c<a,a=c,i.push(c),n});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),r&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let u=0;s>0&&s<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(u=1/(c-1));const h=c-1,d=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return l.forEach((e,s)=>{const r=u>0?s==h?1:u*s:i[s],o=r*f;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=r,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:pp(this,ip(e.animation),t),options:Cp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Cp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Cp(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[i,r]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(vp,"")),[e=e.replace(/@\*/g,Wd).replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,Zd),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+i:i,Ad(t.collectedStyles,t.currentQuerySelector,{});const o=pp(this,ip(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:i,limit:s.limit||0,optional:!!s.optional,includeSelf:r,animation:o,originalSelector:e.selector,options:Cp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:Yd(e.timings,t.errors,!0);return{type:12,animation:pp(this,ip(e.animation),t),timings:n,options:null}}}class Sp{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function xp(e){return!Array.isArray(e)&&"object"==typeof e}function Cp(e){var t;return e?(e=Jd(e)).params&&(e.params=(t=e.params)?Jd(t):null):e={},e}function Ep(e,t,n){return{duration:e,delay:t,easing:n}}function Tp(e,t,n,s,i,r,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:s,duration:i,delay:r,totalTime:i+r,easing:o,subTimeline:a}}class Ap{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Op=new RegExp(":enter","g"),Ip=new RegExp(":leave","g");function Pp(e,t,n,s,i,r={},o={},a,l,c=[]){return(new Rp).buildKeyframes(e,t,n,s,i,r,o,a,l,c)}class Rp{buildKeyframes(e,t,n,s,i,r,o,a,l,c=[]){l=l||new Ap;const u=new Fp(e,t,l,s,i,c,[]);u.options=a,u.currentTimeline.setStyles([r],null,u.errors,a),pp(this,n,u);const h=u.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,u.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[Tp(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const s=t.createSubContext(e.options),i=t.currentTimeline.currentTime,r=this._visitSubInstructions(n,s,s.options);i!=r&&t.transformIntoNewTimeline(r)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let s=t.currentTimeline.currentTime;const i=null!=n.duration?Gd(n.duration):null,r=null!=n.delay?Gd(n.delay):null;return 0!==i&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,i,r);s=Math.max(s,n.duration+n.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),pp(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let s=t;const i=e.options;if(i&&(i.params||i.delay)&&(s=t.createSubContext(i),s.transformIntoNewTimeline(),null!=i.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Mp);const e=Gd(i.delay);s.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>pp(this,e,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>n&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let s=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?Gd(e.options.delay):0;e.steps.forEach(r=>{const o=t.createSubContext(e.options);i&&o.delayNextStep(i),pp(this,r,o),s=Math.max(s,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return Yd(t.params?ap(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),s.snapshotCurrentStyles());const i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,s=t.currentAnimateTimings;!s&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=s&&s.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,s=t.currentTimeline.duration,i=n.duration,r=t.createSubContext().currentTimeline;r.easing=n.easing,e.styles.forEach(e=>{r.forwardTime((e.offset||0)*i),r.setStyles(e.styles,e.easing,t.errors,t.options),r.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(r),t.transformIntoNewTimeline(s+i),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,s=e.options||{},i=s.delay?Gd(s.delay):0;i&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Mp);let r=n;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((n,s)=>{t.currentQueryIndex=s;const o=t.createSubContext(e.options,n);i&&o.delayNextStep(i),n===t.element&&(a=o.currentTimeline),pp(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(r),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,s=t.currentTimeline,i=e.timings,r=Math.abs(i.duration),o=r*(t.currentQueryTotal-1);let a=r*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;pp(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=s.currentTime-c+(s.startTime-n.currentTimeline.startTime)}}const Mp={};class Fp{constructor(e,t,n,s,i,r,o,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=s,this._leaveClassName=i,this.errors=r,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Mp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Dp(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let s=this.options;null!=n.duration&&(s.duration=Gd(n.duration)),null!=n.delay&&(s.delay=Gd(n.delay));const i=n.params;if(i){let e=s.params;e||(e=this.options.params={}),Object.keys(i).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=ap(i[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const s=t||this.element,i=new Fp(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=Mp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const s={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new Np(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(i),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,s,i,r){let o=[];if(s&&o.push(this.element),e.length>0){e=(e=e.replace(Op,"."+this._enterClassName)).replace(Ip,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),o.push(...t)}return i||0!=o.length||r.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class Dp{constructor(e,t,n,s){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Dp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||md,this._currentKeyframe[e]=md}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,s){t&&(this._previousKeyframe.easing=t);const i=s&&s.params||{},r=function(e,t){const n={};let s;return e.forEach(e=>{"*"===e?(s=s||Object.keys(t),s.forEach(e=>{n[e]=md})):Xd(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(r).forEach(e=>{const t=ap(r[e],i,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:md),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],s=e._styleSummary[t];(!n||s.time>n.time)&&this._updateStyle(t,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((i,r)=>{const o=Xd(i,!0);Object.keys(o).forEach(n=>{const s=o[n];"!"==s?e.add(n):s==md&&t.add(n)}),n||(o.offset=r/this.duration),s.push(o)});const i=e.size?lp(e.values()):[],r=t.size?lp(t.values()):[];if(n){const e=s[0],t=Jd(e);e.offset=0,t.offset=1,s=[e,t]}return Tp(this.element,s,i,r,this.duration,this.startTime,this.easing,!1)}}class Np extends Dp{constructor(e,t,n,s,i,r,o=!1){super(e,t,r.delay),this.element=t,this.keyframes=n,this.preStyleProps=s,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],r=n+t,o=t/r,a=Xd(e[0],!1);a.offset=0,i.push(a);const l=Xd(e[0],!1);l.offset=Lp(o),i.push(l);const c=e.length-1;for(let s=1;s<=c;s++){let o=Xd(e[s],!1);o.offset=Lp((t+o.offset*n)/r),i.push(o)}n=r,t=0,s="",e=i}return Tp(this.element,e,this.preStyleProps,this.postStyleProps,n,t,s,!0)}}function Lp(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class jp{}class Hp extends jp{normalizePropertyName(e,t){return up(e)}normalizeStyleValue(e,t,n,s){let i="";const r=n.toString().trim();if(Bp[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&s.push(`Please provide a CSS unit value for ${e}:${n}`)}return r+i}}const Bp=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function $p(e,t,n,s,i,r,o,a,l,c,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:r,toState:s,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const zp={};class Vp{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,s){return function(e,t,n,s,i){return e.some(e=>e(t,n,s,i))}(this.ast.matchers,e,t,n,s)}buildStyles(e,t,n){const s=this._stateStyles["*"],i=this._stateStyles[e],r=s?s.buildStyles(t,n):{};return i?i.buildStyles(t,n):r}build(e,t,n,s,i,r,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||zp,d=this.buildStyles(n,o&&o.params||zp,u),p=a&&a.params||zp,f=this.buildStyles(s,p,u),m=new Set,g=new Map,y=new Map,b="void"===s,_={params:Object.assign(Object.assign({},h),p)},v=c?[]:Pp(e,t,this.ast.animation,i,r,d,f,_,l,u);let w=0;if(v.forEach(e=>{w=Math.max(e.duration+e.delay,w)}),u.length)return $p(t,this._triggerName,n,s,b,d,f,[],[],g,y,w,u);v.forEach(e=>{const n=e.element,s=Ad(g,n,{});e.preStyleProps.forEach(e=>s[e]=!0);const i=Ad(y,n,{});e.postStyleProps.forEach(e=>i[e]=!0),n!==t&&m.add(n)});const k=lp(m.values());return $p(t,this._triggerName,n,s,b,d,f,v,k,g,y,w)}}class Up{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},s=Jd(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(s[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const i=e;Object.keys(i).forEach(e=>{let r=i[e];r.length>1&&(r=ap(r,s,t)),n[e]=r})}}),n}}class qp{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new Up(e.style,e.options&&e.options.params||{})}),Wp(this.states,"true","1"),Wp(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new Vp(e,t,this.states))}),this.fallbackTransition=new Vp(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,s){return this.transitionFactories.find(i=>i.match(e,t,n,s))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function Wp(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const Kp=new Ap;class Zp{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],s=wp(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=s}_buildPlayer(e,t,n){const s=e.element,i=xd(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(s,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const s=[],i=this._animations[e];let r;const o=new Map;if(i?(r=Pp(this._driver,t,i,Vd,Ud,{},{},n,Kp,s),r.forEach(e=>{const t=Ad(o,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),r=[]),s.length)throw new Error("Unable to create the animation due to the following errors: "+s.join("\n"));o.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,md)})});const a=Sd(r.map(e=>{const t=o.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}listen(e,t,n,s){const i=Td(t,"","","");return Cd(this._getPlayer(e),n,i,s),()=>{}}command(e,t,n,s){if("register"==n)return void this.register(e,s[0]);if("create"==n)return void this.create(e,t,s[0]||{});const i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const Gp="ng-animate-queued",Qp="ng-animate-disabled",Yp=".ng-animate-disabled",Jp=[],Xp={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ef={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class tf{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(s=n?e.value:e)?s:null,n){const t=Jd(e);delete t.value,this.options=t}else this.options={};var s;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const nf="void",sf=new tf(nf);class rf{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,df(t,this._hostClassName)}listen(e,t,n,s){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var i;const r=Ad(this._elementListeners,e,[]),o={name:t,phase:n,callback:s};r.push(o);const a=Ad(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(df(e,qd),df(e,"ng-trigger-"+t),a[t]=sf),()=>{this._engine.afterFlush(()=>{const e=r.indexOf(o);e>=0&&r.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,s=!0){const i=this._getTrigger(t),r=new af(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(df(e,qd),df(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const l=new tf(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[t]=l,a||(a=sf),l.value!==nf&&a.value===l.value){if(!function(e,t){const n=Object.keys(e),s=Object.keys(t);if(n.length!=s.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}(a.params,l.params)){const t=[],n=i.matchStyles(a.value,a.params,t),s=i.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{sp(e,n),np(e,s)})}return}const c=Ad(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=i.matchTransition(a.value,l.value,e,l.params),h=!1;if(!u){if(!s)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:a,toState:l,player:r,isFallbackTransition:h}),h||(df(e,Gp),r.onStart(()=>{pf(e,Gp)})),r.onDone(()=>{let t=this.players.indexOf(r);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(r);e>=0&&n.splice(e,1)}}),this.players.push(r),c.push(r),r}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,Wd,!0);n.forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,s){const i=this._engine.statesByElement.get(e);if(i){const r=[];if(Object.keys(i).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,nf,s);n&&r.push(n)}}),r.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Sd(r).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const n=new Set;t.forEach(t=>{const s=t.name;if(n.has(s))return;n.add(s);const i=this._triggers[s].fallbackTransition,r=this._engine.statesByElement.get(e)[s]||sf,o=new tf(nf),a=new af(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:i,fromState:r,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)s=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)n.markElementAsRemoved(this.id,e,!1,t);else{const s=e.__ng_removed;s&&s!==Xp||(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){df(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const s=n.player;if(s.destroyed)return;const i=n.element,r=this._elementListeners.get(i);r&&r.forEach(t=>{if(t.name==n.triggerName){const s=Td(i,n.triggerName,n.fromState.value,n.toState.value);s._data=e,Cd(n.player,t.phase,s,t.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,s=t.transition.ast.depCount;return 0==n||0==s?n-s:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class of{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new rf(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let s=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),s=!0;break}s||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let s=this._namespaceLookup[e];s&&s.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let s=0;s<e.length;s++){const i=n[e[s]].namespaceId;if(i){const e=this._fetchNamespace(i);e&&t.add(e)}}}return t}trigger(e,t,n,s){if(lf(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,n,s),!0}return!1}insertNode(e,t,n,s){if(!lf(t))return;const i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,n)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),df(e,Qp)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),pf(e,Qp))}removeNode(e,t,n,s){if(lf(t)){const i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,s):this.markElementAsRemoved(e,t,!1,s),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,s)}}else this._onRemovalComplete(t,s)}markElementAsRemoved(e,t,n,s){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:s,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,s,i){return lf(t)?this._fetchNamespace(e).listen(t,n,s,i):()=>{}}_buildInstruction(e,t,n,s,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,s,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,Wd,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Zd,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Sd(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=Xp,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Yp)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Yp,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)df(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?Sd(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}_flushAnimations(e,t){const n=new Ap,s=[],i=new Map,r=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(e=>{c.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)c.add(t[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=hf(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((e,t)=>{const n=Vd+f++;p.set(t,n),e.forEach(e=>df(e,n))});const m=[],g=new Set,y=new Set;for(let I=0;I<this.collectedLeaveElements.length;I++){const e=this.collectedLeaveElements[I],t=e.__ng_removed;t&&t.setForRemoval&&(m.push(e),g.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>g.add(e)):y.add(e))}const b=new Map,_=hf(h,Array.from(g));_.forEach((e,t)=>{const n=Ud+f++;b.set(t,n),e.forEach(e=>df(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=p.get(t);e.forEach(e=>pf(e,n))}),_.forEach((e,t)=>{const n=b.get(t);e.forEach(e=>pf(e,n))}),m.forEach(e=>{this.processLeaveNode(e)})});const v=[],w=[];for(let I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(t).forEach(e=>{const t=e.player,i=e.element;if(v.push(t),this.collectedEnterElements.length){const e=i.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const c=!u||!this.driver.containsElement(u,i),h=b.get(i),d=p.get(i),f=this._buildInstruction(e,n,d,h,c);if(f.errors&&f.errors.length)w.push(f);else{if(c)return t.onStart(()=>sp(i,f.fromStyles)),t.onDestroy(()=>np(i,f.toStyles)),void s.push(t);if(e.isFallbackTransition)return t.onStart(()=>sp(i,f.fromStyles)),t.onDestroy(()=>np(i,f.toStyles)),void s.push(t);f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(i,f.timelines),r.push({instruction:f,player:t,element:i}),f.queriedElements.forEach(e=>Ad(o,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),f.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let s=l.get(t);s||l.set(t,s=new Set),n.forEach(e=>s.add(e))})}});if(w.length){const e=[];w.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),v.forEach(e=>e.destroy()),this.reportError(e)}const k=new Map,S=new Map;r.forEach(e=>{const t=e.element;n.has(t)&&(S.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,k))}),s.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{Ad(k,t,[]).push(e),e.destroy()})});const x=m.filter(e=>mf(e,a,l)),C=new Map;uf(C,this.driver,y,l,md).forEach(e=>{mf(e,a,l)&&x.push(e)});const E=new Map;d.forEach((e,t)=>{uf(E,this.driver,new Set(e),a,"!")}),x.forEach(e=>{const t=C.get(e),n=E.get(e);C.set(e,Object.assign(Object.assign({},t),n))});const T=[],A=[],O={};r.forEach(e=>{const{element:t,player:r,instruction:o}=e;if(n.has(t)){if(c.has(t))return r.onDestroy(()=>np(t,o.toStyles)),r.disabled=!0,r.overrideTotalTime(o.totalTime),void s.push(r);let e=O;if(S.size>1){let n=t;const s=[];for(;n=n.parentNode;){const t=S.get(n);if(t){e=t;break}s.push(n)}s.forEach(t=>S.set(t,e))}const n=this._buildAnimation(r.namespaceId,o,k,i,E,C);if(r.setRealPlayer(n),e===O)T.push(r);else{const t=this.playersByElement.get(e);t&&t.length&&(r.parentPlayer=Sd(t)),s.push(r)}}else sp(t,o.fromStyles),r.onDestroy(()=>np(t,o.toStyles)),A.push(r),c.has(t)&&s.push(r)}),A.forEach(e=>{const t=i.get(e.element);if(t&&t.length){const n=Sd(t);e.setRealPlayer(n)}}),s.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let I=0;I<m.length;I++){const e=m[I],t=e.__ng_removed;if(pf(e,Ud),t&&t.hasAnimation)continue;let n=[];if(o.size){let t=o.get(e);t&&t.length&&n.push(...t);let s=this.driver.query(e,Zd,!0);for(let e=0;e<s.length;e++){let t=o.get(s[e]);t&&t.length&&n.push(...t)}}const s=n.filter(e=>!e.destroyed);s.length?ff(this,e,s):this.processLeaveNode(e)}return m.length=0,T.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),T}elementContainsData(e,t){let n=!1;const s=t.__ng_removed;return s&&s.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,s,i){let r=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(r=t)}else{const t=this.playersByElement.get(e);if(t){const e=!i||i==nf;t.forEach(t=>{t.queued||(e||t.triggerName==s)&&r.push(t)})}}return(n||s)&&(r=r.filter(e=>!(n&&n!=e.namespaceId||s&&s!=e.triggerName))),r}_beforeAnimationBuild(e,t,n){const s=t.element,i=t.isRemovalTransition?void 0:e,r=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,a=e!==s,l=Ad(n,e,[]);this._getPreviousPlayers(e,a,i,r,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}sp(s,t.fromStyles)}_buildAnimation(e,t,n,s,i,r){const o=t.triggerName,a=t.element,l=[],c=new Set,u=new Set,h=t.timelines.map(t=>{const h=t.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new _d(t.duration,t.delay);const p=h!==a,f=function(e){const t=[];return function e(t,n){for(let s=0;s<t.length;s++){const i=t[s];i instanceof vd?e(i.players,n):n.push(i)}}(e,t),t}((n.get(h)||Jp).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===h),m=i.get(h),g=r.get(h),y=xd(0,this._normalizer,0,t.keyframes,m,g),b=this._buildPlayer(t,y,f);if(t.subTimeline&&s&&u.add(h),p){const t=new af(e,o,h);t.setRealPlayer(b),l.push(t)}return b});l.forEach(e=>{Ad(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let s;if(e instanceof Map){if(s=e.get(t),s){if(s.length){const e=s.indexOf(n);s.splice(e,1)}0==s.length&&e.delete(t)}}else if(s=e[t],s){if(s.length){const e=s.indexOf(n);s.splice(e,1)}0==s.length&&delete e[t]}return s}(this.playersByQueriedElement,e.element,e))}),c.forEach(e=>df(e,Kd));const d=Sd(h);return d.onDestroy(()=>{c.forEach(e=>pf(e,Kd)),np(a,t.toStyles)}),u.forEach(e=>{Ad(s,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new _d(e.duration,e.delay)}}class af{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new _d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>Cd(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ad(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function lf(e){return e&&1===e.nodeType}function cf(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function uf(e,t,n,s,i){const r=[];n.forEach(e=>r.push(cf(e)));const o=[];s.forEach((n,s)=>{const r={};n.forEach(e=>{const n=r[e]=t.computeStyle(s,e,i);n&&0!=n.length||(s.__ng_removed=ef,o.push(s))}),e.set(s,r)});let a=0;return n.forEach(e=>cf(e,r[a++])),o}function hf(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const s=new Set(t),i=new Map;return t.forEach(e=>{const t=function e(t){if(!t)return 1;let r=i.get(t);if(r)return r;const o=t.parentNode;return r=n.has(o)?o:s.has(o)?1:e(o),i.set(t,r),r}(e);1!==t&&n.get(t).push(e)}),n}function df(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function pf(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function ff(e,t,n){Sd(n).onDone(()=>e.processLeaveNode(t))}function mf(e,t,n){const s=n.get(e);if(!s)return!1;let i=t.get(e);return i?s.forEach(e=>i.add(e)):t.set(e,s),n.delete(e),!0}class gf{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new of(e,t,n),this._timelineEngine=new Zp(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,s,i){const r=e+"-"+s;let o=this._triggerCache[r];if(!o){const e=[],t=wp(this._driver,i,e);if(e.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t){return new qp(e,t)}(s,t),this._triggerCache[r]=o}this._transitionEngine.registerTrigger(t,s,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,s){this._transitionEngine.insertNode(e,t,n,s)}onRemove(e,t,n,s){this._transitionEngine.removeNode(e,t,s||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,s){if("@"==n.charAt(0)){const[e,i]=Od(n);this._timelineEngine.command(e,t,i,s)}else this._transitionEngine.trigger(e,t,n,s)}listen(e,t,n,s,i){if("@"==n.charAt(0)){const[e,s]=Od(n);return this._timelineEngine.listen(e,t,s,i)}return this._transitionEngine.listen(e,t,n,s,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function yf(e,t){let n=null,s=null;return Array.isArray(t)&&t.length?(n=_f(t[0]),t.length>1&&(s=_f(t[t.length-1]))):t&&(n=_f(t)),n||s?new bf(e,n,s):null}let bf=(()=>{class e{constructor(t,n,s){this._element=t,this._startStyles=n,this._endStyles=s,this._state=0;let i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&np(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(np(this._element,this._initialStyles),this._endStyles&&(np(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(sp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sp(this._element,this._endStyles),this._endStyles=null),np(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function _f(e){let t=null;const n=Object.keys(e);for(let s=0;s<n.length;s++){const i=n[s];vf(i)&&(t=t||{},t[i]=e[i])}return t}function vf(e){return"display"===e||"position"===e}const wf="animation",kf="animationend";class Sf{constructor(e,t,n,s,i,r,o){this._element=e,this._name=t,this._duration=n,this._delay=s,this._easing=i,this._fillMode=r,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=Of(e,"").trim();n.length&&(function(e,t){let n=0;for(let s=0;s<e.length;s++)","===e.charAt(s)&&n++}(n),t=`${n}, ${t}`),Af(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Tf(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){xf(this._element,this._name,"paused")}resume(){xf(this._element,this._name,"running")}setPosition(e){const t=Cf(this._element,this._name);this._position=e*this._duration,Af(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Tf(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=Of(e,"").split(","),s=Ef(n,t);s>=0&&(n.splice(s,1),Af(e,"",n.join(",")))}(this._element,this._name))}}function xf(e,t,n){Af(e,"PlayState",n,Cf(e,t))}function Cf(e,t){const n=Of(e,"");return n.indexOf(",")>0?Ef(n.split(","),t):Ef([n],t)}function Ef(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Tf(e,t,n){n?e.removeEventListener(kf,t):e.addEventListener(kf,t)}function Af(e,t,n,s){const i=wf+t;if(null!=s){const t=e.style[i];if(t.length){const e=t.split(",");e[s]=n,n=e.join(",")}}e.style[i]=n}function Of(e,t){return e.style[wf+t]}class If{constructor(e,t,n,s,i,r,o,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=s,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=r||"linear",this.totalTime=s+i,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Sf(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:fp(this.element,n))})}this.currentSnapshot=e}}class Pf extends _d{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=Bd(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Rf{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return Nd(e)}matchesElement(e,t){return Ld(e,t)}containsElement(e,t){return jd(e,t)}query(e,t,n){return Hd(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>Bd(e));let s=`@keyframes ${t} {\n`,i="";n.forEach(e=>{i=" ";const t=parseFloat(e.offset);s+=`${i}${100*t}% {\n`,i+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(s+=`${i}animation-timing-function: ${n};\n`));default:return void(s+=`${i}${t}: ${n};\n`)}}),s+=i+"}\n"}),s+="}\n";const r=document.createElement("style");return r.innerHTML=s,r}animate(e,t,n,s,i,r=[],o){o&&this._notifyFaultyScrubber();const a=r.filter(e=>e instanceof If),l={};hp(n,s)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=dp(e,t,l));if(0==n)return new Pf(e,c);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,u,t);document.querySelector("head").appendChild(h);const d=yf(e,t),p=new If(e,t,u,n,s,i,c,d);return p.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Mf{constructor(e,t,n,s){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:fp(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Ff{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Df().toString()),this._cssKeyframesDriver=new Rf}validateStyleProperty(e){return Nd(e)}matchesElement(e,t){return Ld(e,t)}containsElement(e,t){return jd(e,t)}query(e,t,n){return Hd(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,s,i,r=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,s,i,r);const a={duration:n,delay:s,fill:0==s?"both":"forwards"};i&&(a.easing=i);const l={},c=r.filter(e=>e instanceof Mf);hp(n,s)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const u=yf(e,t=dp(e,t=t.map(e=>Xd(e,!1)),l));return new Mf(e,t,a,u)}}function Df(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Nf=(()=>{class e extends fd{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:Xe.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?gd(e):e;return Hf(this._renderer,null,t,"register",[n]),new Lf(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(Be(Uo),Be($l))},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})();class Lf extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new jf(this._id,e,t||{},this._renderer)}}class jf{constructor(e,t,n,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Hf(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function Hf(e,t,n,s,i){return e.setProperty(t,`@@${n}:${s}`,i)}const Bf="@",$f="@.disabled";let zf=(()=>{class e{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new Vf("",n,this.engine),this._rendererCache.set(n,e)),e}const s=t.id,i=t.id+"-"+this._currentId;this._currentId++,this.engine.register(i,e);const r=t=>{Array.isArray(t)?t.forEach(r):this.engine.registerTrigger(s,i,e,t.name,t)};return t.data.animation.forEach(r),new Uf(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(Be(Uo),Be(gf),Be(gl))},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})();class Vf{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,s){this.delegate.setAttribute(e,t,n,s)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,s){this.delegate.setStyle(e,t,n,s)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==Bf&&t==$f?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Uf extends Vf{constructor(e,t,n,s){super(t,n,s),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==Bf?"."==t.charAt(1)&&t==$f?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==Bf){const s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=t.substr(1),r="";return i.charAt(0)!=Bf&&([i,r]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(i)),this.engine.listen(this.namespaceId,s,i,r,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}let qf=(()=>{class e extends gf{constructor(e,t,n){super(e.body,t,n)}}return e.\u0275fac=function(t){return new(t||e)(Be($l),Be(zd),Be(jp))},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})();const Wf=[{provide:zd,useFactory:function(){return"function"==typeof Df()?new Ff:new Rf}},{provide:new Oe("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:fd,useClass:Nf},{provide:jp,useFactory:function(){return new Hp}},{provide:gf,useClass:qf},{provide:Uo,useFactory:function(e,t,n){return new zf(e,t,n)},deps:[yc,gf,gl]}];let Kf=(()=>{class e{}return e.\u0275mod=at({type:e}),e.\u0275inj=se({factory:function(t){return new(t||e)},providers:Wf,imports:[Pc]}),e})(),Zf=(()=>{class e{}return e.\u0275mod=at({type:e,bootstrap:[pd]}),e.\u0275inj=se({factory:function(t){return new(t||e)},providers:[],imports:[[Pc,Tu,wd,Kf,gh,eh.forRoot()]]}),e})();(function(){if(ps)throw new Error("Cannot enable prod mode after platform setup.");ds=!1})(),Oc().bootstrapModule(Zf).catch(e=>console.error(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);